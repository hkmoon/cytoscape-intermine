!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.cymine=e()}}(function(){var define,module,exports;return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){t.exports=[{selector:"node",style:{content:"data(label)","border-width":"2px","background-color":"#dedede","border-style":"solid","border-color":"#999"}},{selector:":selected",style:{"text-outline-color":"black","background-color":"gold","border-color":"gold","border-width":"5px","border-style":"solid"}},{selector:"edge",style:{width:"2px"}},{selector:'edge[interactionType@="genetic"]',style:{"line-color":"#2c79be"}},{selector:'edge[interactionType@="physical"]',style:{"line-color":"#c00"}},{selector:".genetic",style:{"border-color":"#225f95"}},{selector:".physical",style:{"border-color":"#c00"}},{selector:".both",style:{"border-color":"#77304B"}}]},{}],2:[function(e,t,r){var n=e("underscore"),i=function(e){function t(e,i){var a={nodes:[],edges:[]};for(var o in e){var s,u=e[o];s=r(u),u.interactions?a=n.extend(a,t(u.interactions,s)):a.edges=a.edges.concat(l(i,s)),a.nodes.push(s)}return a}this.records=e;var r=function(e){var t,r;return t=e.participant2?e.participant2:e,r=o(e),label=s(e),{classes:i(r),data:{title:t["class"]+" "+label,"interaction details":a(e.details)||{},label:label,"class":t["class"],interactionTypes:r,symbol:t.symbol,id:t.primaryIdentifier}}},i=function(e){var t=n.uniq(e);return t.length>1&&t.push("both"),t.join(" ")},a=function(e){var t={};return n.each(e,function(r,n){Array.isArray(e)?("object"==typeof r&&(r=a(r)),t[r.name]=1===r.length?r[0]:r):Array.isArray(r)?t[n]=1===r.length?r[0]:r:"object"==typeof r?(r=a(r),t[r.name||r["class"]]=1===r.length?r[0]:r):t[n]=r}),t},o=function(e){var t=[];if(e.details)for(var r=0;r<e.details.length;r++)t.indexOf(e.details[r].type)<0&&t.push(e.details[r].type);else t.push("master");return t},s=function(e){return e.participant2&&e.participant2.symbol?e.participant2.symbol:e.symbol?e.symbol:e.details?e.details[0].name:"NAME MISSING"},l=function(e,t){for(var r=t.data.interactionTypes,n=[],i=0;i<r.length;i++)n.push({id:t.data["interaction details"].objectId,classes:r[i],data:{title:"Interaction between "+e.data.label+" and "+t.data.label,source:e.data.id,target:t.data.id,interactionType:r[i]}});return n};return t(e)};t.exports=i},{underscore:18}],3:[function(e,t,r){var n=(e("./../util"),e("./svDataFormatter")()),i=function(){var e=function(e,t){var i=n.format(e,t),a="text/"+e;r(i,"results-table."+e,a,!0)},t=function(e,t,r){var n;return e?(n="data:"+t+",",n+=encodeURIComponent(r)):n=r,n},r=function(e,r,n,i){var a=document.createElement("a"),o=t(i,n,e);if(n=n||"application/octet-stream",navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([e],{type:n}),r);if("download"in a)return a.href+=o,a.setAttribute("download",r),document.body.appendChild(a),setTimeout(function(){a.click(),document.body.removeChild(a)},66),!0;var s=document.createElement("iframe");return document.body.appendChild(s),s.src=o,setTimeout(function(){document.body.removeChild(s)},333),!0};return{sv:e,download:r,prepDownloadString:t}};t.exports=i},{"./../util":12,"./svDataFormatter":5}],4:[function(e,t,r){var n=e("./../util"),i=e("./exportHelpers")();exporter=function(){var e,t,r={},a=function(){var r=function(){i.download(t.jpg(),"network.jpg")},n=function(){i.download(t.png(),"network.png")},a=function(){i.sv("csv",e)},o=function(){i.sv("tsv",e)};return{jpg:r,png:n,csv:a,tsv:o}},o=function(){var e=r;e.exportElem=e.parentElem.querySelector(".export"),e.formatChooser=e.exportElem.querySelector("select"),e.exportButton=e.exportElem.querySelector("button");var t=a();e.exportElem.addEventListener("click",function(){n.addClass(e.exportElem,"active")}),e.exportButton.addEventListener("click",function(){var r=l();try{t[r]()}catch(i){console.error("Invalid file format: '"+r+"'. ",i)}n.removeClass(e.exportElem,"active")})},s=function(n){r.parentElem=n.parentElem,e=n.rawData,t=n.cy,o()},l=function(){return r.formatChooser.value};return{init:s}},t.exports=exporter},{"./../util":12,"./exportHelpers":3}],5:[function(e,t,r){var n=function(){var e=function(e,t){var r=["Gene > Symbol","Gene > DB identifier","Gene > Interactions > Details > Type","Gene > Interactions > Gene 2 . Symbol","Gene > Interactions > Gene 2 > DB identifier","Gene > Interactions > Details > Data Sets > Data Source > Name"];return r.join(e)},t=function(e){var t,n,i=[];e=e[0];for(var a=0;a<e.interactions.length;a++)n=e.interactions[a],t=[e.symbol,e.primaryIdentifier,n.participant2.symbol,n.participant2.primaryIdentifier],i=i.concat(r(t,n.details));return i},r=function(e,t){for(var r,i=[],a=0;a<t.length;a++)detail=t[a],r=e.slice(0),r.splice(2,0,detail.type),i=i.concat(n(r,detail.dataSets));return i},n=function(e,t){for(var r,n=[],i=0;i<t.length;i++)ds=t[i],r=e.slice(0),r.push(ds.name),n.push(r);return n},i=function(r,n){var i={csv:",",tsv:"	"},a=e(i[r],n)+"\n",o=t(n);return o.forEach(function(e,t){dataString=e.join(i[r]),a+=dataString+"\n"}),a};return{format:i}};t.exports=n},{}],6:[function(e,t,r){function n(e){function t(){if(!v.parentElem){var e=document.getElementById("cymine");if(!e)return console.error(s.dev.noParent.noDefault),!1;v.parentElem=e,console.info(s.dev.noParent.usingDefault)}return!0}function r(){if(v.service)return new imjs.Service({token:v.service.token,root:v.service.root,errorHandler:i});throw new p("noServiceUrl")}function n(){if(v.queryOn)return o.extend(l.where[0],v.queryOn),v.query=l,!0;throw new p("noQueryData")}function h(){if(t()&&(f=new d(v),f.init(),mine=r(),n()&&mine)){mine.records(l).then(function(e){if(e.length>0){v.rawData=e,v.data=new a(e),v.cy=f.attachResults();try{g.init(v)}catch(t){console.error(t)}try{c.init(v)}catch(t){console.error(t)}return console.debug("response:",e,"graphdata:",v),Promise.resolve(!0)}return f.attachResults(s.user.noResults),Promise.reject()})["catch"](function(e){return console.error("Possible CORS error?",e),f.attachResults(s.user.pleaseClearCache),Promise.reject()})}return Promise.reject()}function p(e,t){var r=t?t:"noQueryData";f.init(s.user[r]),console.error(s.dev[e])}var f,v=o.extend({},e),g=u();return cym=h(),cym}function i(){throw new initError("badServiceUrl")}var a=e("./dataFormatter"),o=(e("cytoscape"),e("underscore")),s=e("./strings"),l=e("./query"),u=e("./exporter/exporter"),c=e("./showInTable")(),d=e("./ui");t.exports=n},{"./dataFormatter":2,"./exporter/exporter":4,"./query":8,"./showInTable":9,"./strings":10,"./ui":11,cytoscape:17,underscore:18}],7:[function(e,t,r){var n=["label","objectId","title","interactionTypes","class"];t.exports=n},{}],8:[function(e,t,r){t.exports={name:"Gene_Interactions",title:"Gene --> Interactions",description:"Show all interactions for a given gene.",constraintLogic:"A and B",from:"Gene",select:["primaryIdentifier","symbol","interactions.participant2.symbol","interactions.participant2.primaryIdentifier","interactions.details.name","interactions.details.role1","interactions.details.role2","interactions.details.type","interactions.details.dataSets.name"],orderBy:[{path:"symbol",direction:"ASC"}],where:[{path:"Gene",op:"LOOKUP",code:"A",editable:!0,switched:"LOCKED",switchable:!1}]}},{}],9:[function(e,t,r){var n=e("./util"),i=e("./strings").showTable,a=function(){var e,t,r={},a=function(r){timeoutID=window.setTimeout(function(){imtables&&(e=r,o()),t={query:e.query,service:{root:e.service.root}}},500)},o=function(){r.showTable=e.parentElem.querySelector(".showTable"),n.addClass(r.showTable,"enabled"),r.showTable.innerHTML=i.showInTableFormat,u()},s=function(){r.theTable=e.parentElem.querySelector(".tableView"),r.showTable.innerHTML=i.hideTableFormat,n.removeClass(r.theTable,"disabled"),n.hasClass(r.theTable,"firstRun")&&(imtables.loadTable(r.theTable,{start:0,size:25},{query:e.query,service:{root:e.service.root}}).then(function(e){console.log("Table loaded",e)},function(e){console.error("Could not load table",e)}),n.removeClass(r.theTable,"firstRun"))},l=function(){n.addClass(r.theTable,"disabled"),r.showTable.innerHTML=i.showInTableFormat},u=function(){r.showTable.addEventListener("click",function(){!r.theTable||n.hasClass(r.theTable,"disabled")?s():l()})};return{showTable:s,init:a}};t.exports=a},{"./strings":10,"./util":12}],10:[function(e,t,r){t.exports={user:{noResults:"No interaction results for this query",pleaseClearCache:"Error loading results. Please clear your cache and try again.",noQueryData:"Problem loading query results"},dev:{noParent:{usingDefault:"Cymine: No parent element specified for Cymine. Using default '#cymine",noDefault:"Cymine: No parent element specified, and default '#cymine' not available."},noQueryData:"Cymine: No queryOn values supplied!",noServiceUrl:"Cymine: No serviceUrl defined, unable to query for interactions.",badServiceUrl:"Cymine: bad serviceUrl. Please check for typos and check this host is up."},showTable:{showInTableFormat:"Show in table format",hideTableFormat:"Hide table"}}},{}],11:[function(e,t,r){var n=e("./metaFields"),i=e("./util"),a=e("underscore"),o=e("./cytoscapeStyle");ui=function(t){a.templateSettings={evaluate:/\{\{(.+?)\}\}/g,interpolate:/\{\{=(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g},this.graph=t;var r,s={name:"cose"},l={cymineHtml:{html:e("./../template/cytomine.html"),type:"html"},InteractionDetail:{html:e("./../template/interaction.html"),type:"_",additionalFunction:function(e){return g(e)}}},u=function(e){targetElem=t.parentElem.querySelector("nodeDetails"),c(e),d(e)},c=function(e){var r=t.parentElem.querySelector(".nodeTitle");r.innerHTML=e.title},d=function(e){try{var r=f(e),n=t.parentElem.querySelector(".nodeInfo");r.setAttribute("class","nodeInfo"),n.parentElement.replaceChild(r,n)}catch(i){console.error("whoopsie",i)}},h=function(e){var t=l[e];return"html"===t.type?t.html:"_"===t.type?a.template(t.html):void 0},p=function(e){return l[e]&&!0},f=function(e){var t,r,a=document.createElement("dl");for(var o in e)n.indexOf(o)<0&&(t=document.createElement("dt"),t.appendChild(document.createTextNode(o)),r=document.createElement("dd"),i.addClass(r,o),"object"==typeof e[o]?p(e[o]["class"])?r.appendChild(v(e[o],e)):(i.addClass(r,"child"),r.appendChild(f(e[o]))):r.appendChild(document.createTextNode(e[o])),y([t,r],a));return a},v=function(e){var t=a.clone(e),r=h(e["class"]);return l[e["class"]].additionalFunction&&(t=l[e["class"]].additionalFunction(t)),temp=document.createElement("div"),temp.innerHTML=r(t),temp},g=function(e){var t,r=e.name;return t=r.indexOf("FlyBase:")>-1?r.split(":")[1].split("_"):r.split("-"),e.roles=t,e},y=function(e,t){for(var r=t.firstChild,n=0;n<e.length;n++)t.insertBefore(e[n],r)},m=function(e){return e?_(e):w(),r},b=function(){var e,n=function(){return t.parentElem.querySelector(".interactionFilter")},a=function(){return t.parentElem.querySelector(".reset")},o=function(t){var n=t.target;if(n!==t.currentTarget&&"button"===n.nodeName.toLowerCase()){c();var a=n.className;i.addClass(n,"selected"),e&&e.restore(),e=r.elements().filterFn(function(e){return"default"===a?!e:!e.hasClass(a)&&!e.hasClass("both")&&!e.hasClass("master")}).remove()}},l=function(){r.makeLayout(s).run(),n().querySelector(".default").click()},u=function(){n().addEventListener("click",o,!1),a().addEventListener("click",l,!1)},c=function(){for(var e=n().querySelectorAll("button"),t=0;t<e.length;t++)i.removeClass(e[t]," selected"),i.removeClass(e[t],"selected")};return{listen:u}},x=function(){t.parentElem.innerHTML=h("cymineHtml"),i.addClass(t.parentElem,"cymine"),t.statusBar=t.parentElem.querySelector(".status"),t.targetElem=t.parentElem.querySelector(".cy"),t.targetElem.style.width=t.parentElem.querySelector(".graph").clientWidth+"px"},w=function(){try{var e=b();e.listen()}catch(n){console.error(n)}r=cytoscape({container:t.targetElem,layout:s,elements:t.data,style:o,ready:function(){window.cy=this,t.statusBar.remove()}}),r.on("tap","node",function(){u(this.data())}),r.on("tap","edge",function(){u(this.data())})},_=function(e){t.statusBar.className="status no-results",t.statusBar.innerHTML=e};return{init:x,attachResults:m,noResults:_}},t.exports=ui},{"./../template/cytomine.html":19,"./../template/interaction.html":20,"./cytoscapeStyle":1,"./metaFields":7,"./util":12,underscore:18}],12:[function(e,t,r){var n={addClass:function(e,t){n.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){e.className=e.className.replace(t,"")},hasClass:function(e,t){var r=e.className.split(" ");return r.indexOf(t)>=0}};t.exports=n},{}],13:[function(e,t,r){},{}],14:[function(e,t,r){r.endianness=function(){return"LE"},r.hostname=function(){return"undefined"!=typeof location?location.hostname:""},r.loadavg=function(){return[]},r.uptime=function(){return 0},r.freemem=function(){return Number.MAX_VALUE},r.totalmem=function(){return Number.MAX_VALUE},r.cpus=function(){return[]},r.type=function(){return"Browser"},r.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},r.networkInterfaces=r.getNetworkInterfaces=function(){return{}},r.arch=function(){return"javascript"},r.platform=function(){return"browser"},r.tmpdir=r.tmpDir=function(){return"/tmp"},r.EOL="\n"},{}],15:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return i.exec(e).slice(1)};r.resolve=function(){for(var r="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,i="/"===o.charAt(0))}return r=t(n(r.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(e){var i=r.isAbsolute(e),a="/"===o(e,-1);return e=t(n(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),a=n(t.split("/")),o=Math.min(i.length,a.length),s=o,l=0;o>l;l++)if(i[l]!==a[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");return u=u.concat(a.slice(s)),u.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=a(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=a(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return a(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return 0>t&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:16}],16:[function(e,t,r){function n(){c=!1,s.length?u=s.concat(u):d=-1,u.length&&i()}function i(){if(!c){var e=setTimeout(n);c=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function o(){}var s,l=t.exports={},u=[],c=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new a(e,t)),1!==u.length||c||setTimeout(i,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],17:[function(require,module,exports){(function(process,__dirname){var cytoscape;!function(e){"use strict";var t=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};t.version="2.4.9",t.init=function(e){return void 0===e&&(e={}),t.is.plainObject(e)?new t.Core(e):t.is.string(e)?t.extension.apply(t.extension,arguments):void 0},t.fn={},"undefined"!=typeof module&&module.exports&&(module.exports=cytoscape),"undefined"!=typeof define&&define.amd&&define("cytoscape",function(){return cytoscape}),e&&(e.cytoscape=cytoscape)}("undefined"==typeof window?null:window),this.cytoscape=cytoscape,function(e){"use strict";var t=0,r=1,n=2,i=function(e){return this instanceof i?(this.id="Thenable/1.0.7",this.state=t,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new i(e)};i.prototype={fulfill:function(e){return a(this,r,"fulfillValue",e)},reject:function(e){return a(this,n,"rejectReason",e)},then:function(e,t){var r=this,n=new i;return r.onFulfilled.push(l(e,n,"fulfill")),r.onRejected.push(l(t,n,"reject")),o(r),n.proxy}};var a=function(e,r,n,i){return e.state===t&&(e.state=r,e[n]=i,o(e)),e},o=function(e){e.state===r?s(e,"onFulfilled",e.fulfillValue):e.state===n&&s(e,"onRejected",e.rejectReason)},s=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(i):"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},l=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(a){return void t.reject(a)}u(t,i)}}},u=function(e,t){if(e===t||e.proxy===t)return void e.reject(new TypeError("cannot resolve promise with itself"));var r;if("object"==typeof t&&null!==t||"function"==typeof t)try{r=t.then}catch(n){return void e.reject(n)}if("function"!=typeof r)e.fulfill(t);else{var i=!1;try{r.call(t,function(r){i||(i=!0,r===t?e.reject(new TypeError("circular thenable chain")):u(e,r))},function(t){i||(i=!0,e.reject(t))})}catch(n){i||e.reject(n)}}};e.Promise="undefined"==typeof Promise?i:Promise,e.Promise.all=e.Promise.all||function(t){return new e.Promise(function(e,r){for(var n=new Array(t.length),i=0,a=function(r,a){n[r]=a,i++,i===t.length&&e(n)},o=0;o<t.length;o++)!function(e){var n=t[e],i=null!=n.then;if(i)n.then(function(t){a(e,t)},function(e){r(e)});else{var o=n;a(e,o)}}(o)})}}(cytoscape),function(e,t){"use strict";var r="string",n=typeof{},i="function";e.is={defined:function(e){return null!=e},string:function(e){return null!=e&&typeof e==r},fn:function(e){return null!=e&&typeof e===i},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(t){return null!=t&&typeof t===n&&!e.is.array(t)&&t.constructor===Object},object:function(e){return null!=e&&typeof e===n},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(t){return e.is.number(t)&&Math.floor(t)===t},color:function(e){return null!=e&&"string"==typeof e&&""!==$.Color(e).toString()},bool:function(e){return null!=e&&typeof e==typeof!0},elementOrCollection:function(t){return e.is.element(t)||e.is.collection(t)},element:function(t){return t instanceof e.Element&&t._private.single},collection:function(t){return t instanceof e.Collection&&!t._private.single},core:function(t){return t instanceof e.Core},style:function(t){return t instanceof e.Style},stylesheet:function(t){return t instanceof e.Stylesheet},event:function(t){return t instanceof e.Event},thread:function(t){return t instanceof e.Thread},fabric:function(t){return t instanceof e.Fabric},emptyString:function(t){return t?e.is.string(t)&&(""===t||t.match(/^\s+$/))?!0:!1:!0},nonemptyString:function(t){return t&&e.is.string(t)&&""!==t&&!t.match(/^\s+$/)?!0:!1},domElement:function(e){return"undefined"==typeof HTMLElement?!1:e instanceof HTMLElement},boundingBox:function(t){return e.is.plainObject(t)&&e.is.number(t.x1)&&e.is.number(t.x2)&&e.is.number(t.y1)&&e.is.number(t.y2)},promise:function(t){return e.is.object(t)&&e.is.fn(t.then)},touch:function(){return t&&("ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},khtmlEtc:function(){return e.is.khtml()||e.is.webkit()||e.is.chromium()},trident:function(){return"undefined"!=typeof ActiveXObject||!1},windows:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/X11/i)}}}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.util={extend:function(){var t,r,n,i,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||e.is.fn(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(t=arguments[l]))for(r in t)n=s[r],i=t[r],s!==i&&(c&&i&&(e.is.plainObject(i)||(a=e.is.array(i)))?(a?(a=!1,o=n&&e.is.array(n)?n:[]):o=n&&e.is.plainObject(n)?n:{},s[r]=e.util.extend(c,o,i)):void 0!==i&&(s[r]=i));return s},require:function(r,n,i){var a;i=e.util.extend({msgIfNotFound:!0},i);var o=!1,s=function(e){o=!0,n(e)},l=function(e){t&&(a=t[r]),void 0!==a&&s(a),e&&e()},u=function(){o||c(d)},c=function(e){if("undefined"!=typeof module&&module.exports&&require)try{a=require(r)}catch(t){}void 0!==a&&s(a),e&&e()},d=function(){o||h(p)},h=function(e){"undefined"!=typeof define&&define.amd&&require&&require([r],function(t){a=t,void 0!==a&&s(a),e&&e()},function(t){e&&e()})},p=function(){!o&&i.msgIfNotFound&&e.util.error("Cytoscape.js tried to pull in dependency `"+r+"` but no module (i.e. CommonJS, AMD, or window) was found")};l(u)},requires:function(t,r){for(var n=[],i=[],a=function(){for(var e=0;e<t.length;e++)if(!i[e])return;r.apply(r,n)},o=0;o<t.length;o++)!function(){var r=t[o],s=o;e.util.require(r,function(e){n[s]=e,i[s]=!0,a()})}()},throttle:function(t,r,n){var i=!0,a=!0;return n===!1?i=!1:e.is.plainObject(n)&&(i="leading"in n?n.leading:i,a="trailing"in n?n.trailing:a),n=n||{},n.leading=i,n.maxWait=r,n.trailing=a,e.util.debounce(t,r,n)},now:function(){return+new Date},debounce:function(t,r,n){var i,a,o,s,l,u,c,d=0,h=!1,p=!0;if(e.is.fn(t)){if(r=Math.max(0,r)||0,n===!0){var f=!0;p=!1}else e.is.plainObject(n)&&(f=n.leading,h="maxWait"in n&&(Math.max(r,n.maxWait)||0),p="trailing"in n?n.trailing:p);var v=function(){var n=r-(e.util.now()-s);if(0>=n){a&&clearTimeout(a);var h=c;a=u=c=void 0,h&&(d=e.util.now(),o=t.apply(l,i),u||a||(i=l=null))}else u=setTimeout(v,n)},g=function(){u&&clearTimeout(u),a=u=c=void 0,(p||h!==r)&&(d=e.util.now(),o=t.apply(l,i),u||a||(i=l=null))};return function(){if(i=arguments,s=e.util.now(),l=this,c=p&&(u||!f),h===!1)var n=f&&!u;else{a||f||(d=s);var y=h-(s-d),m=0>=y;m?(a&&(a=clearTimeout(a)),d=s,o=t.apply(l,i)):a||(a=setTimeout(g,y))}return m&&u?u=clearTimeout(u):u||r===h||(u=setTimeout(v,r)),n&&(m=!0,o=t.apply(l,i)),!m||u||a||(i=l=null),o}}},error:function(e){if(!console)throw e;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw e;console.log.apply(console,arguments)}},clone:function(e){var t={};for(var r in e)t[r]=e[r];return t},copy:function(t){return null==t?t:e.is.array(t)?t.slice():e.is.plainObject(t)?e.util.clone(t):t},makeBoundingBox:function(e){if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},mapEmpty:function(e){var t=!0;if(null!=e)for(var r in e){t=!1;break}return t},pushMap:function(t){var r=e.util.getMap(t);null==r?e.util.setMap($.extend({},t,{value:[t.value]})):r.push(t.value)},setMap:function(t){for(var r,n=t.map,i=t.keys,a=i.length,o=0;a>o;o++){var r=i[o];e.is.plainObject(r)&&e.util.error("Tried to set map with object key"),o<i.length-1?(null==n[r]&&(n[r]={}),n=n[r]):n[r]=t.value}},getMap:function(t){for(var r=t.map,n=t.keys,i=n.length,a=0;i>a;a++){var o=n[a];if(e.is.plainObject(o)&&e.util.error("Tried to get map with object key"),r=r[o],null==r)return r}return r},deleteMap:function(t){for(var r=t.map,n=t.keys,i=n.length,a=t.keepChildren,o=0;i>o;o++){var s=n[o];e.is.plainObject(s)&&e.util.error("Tried to delete map with object key");var l=o===t.keys.length-1;if(l)if(a)for(var u in r)a[u]||(r[u]=void 0);else r[s]=void 0;else r=r[s]}},capitalize:function(t){return e.is.emptyString(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},trim:function(e){var t,r;for(t=0;t<e.length&&" "===e[t];t++);for(r=e.length-1;r>t&&" "===e[r];r--);return e.substring(t,r+1)},hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,r,n,i=4===e.length,a=16;return i?(t=parseInt(e[1]+e[1],a),r=parseInt(e[2]+e[2],a),n=parseInt(e[3]+e[3],a)):(t=parseInt(e[1]+e[2],a),r=parseInt(e[3]+e[4],a),n=parseInt(e[5]+e[6],a)),[t,r,n]}},hsl2tuple:function(t){function r(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var n,i,a,o,s,l,u,c,d=new RegExp("^"+e.util.regex.hsla+"$").exec(t);if(d){if(i=parseInt(d[1]),0>i?i=(360- -1*i%360)%360:i>360&&(i%=360),i/=360,a=parseFloat(d[2]),0>a||a>100)return;if(a/=100,o=parseFloat(d[3]),0>o||o>100)return;if(o/=100,s=d[4],void 0!==s&&(s=parseFloat(s),0>s||s>1))return;if(0===a)l=u=c=Math.round(255*o);else{var h=.5>o?o*(1+a):o+a-o*a,p=2*o-h;l=Math.round(255*r(p,h,i+1/3)),u=Math.round(255*r(p,h,i)),c=Math.round(255*r(p,h,i-1/3))}n=[l,u,c,s]}return n},rgb2tuple:function(t){var r,n=new RegExp("^"+e.util.regex.rgba+"$").exec(t);if(n){r=[];for(var i=[],a=1;3>=a;a++){var o=n[a];if("%"===o[o.length-1]&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),0>o||o>255)return;r.push(Math.floor(o))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=n[4];if(void 0!==u){if(u=parseFloat(u),0>u||u>1)return;r.push(u)}}return r},colorname2tuple:function(t){return e.util.colors[t.toLowerCase()]},color2tuple:function(t){return(e.is.array(t)?t:null)||e.util.colorname2tuple(t)||e.util.hex2tuple(t)||e.util.rgb2tuple(t)||e.util.hsl2tuple(t)},tuple2hex:function(e){function t(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}var r=e[0],n=e[1],i=e[2];return"#"+t(r)+t(n)+t(i)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},memoize:function(e,t){var r=this,n={};return t||(t=function(){if(1===arguments.length)return arguments[0];for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")}),function(){var i,a=arguments,o=t.apply(r,a);return(i=n[o])||(i=n[o]=e.apply(r,a)),i}}},e.util.camel2dash=e.util.memoize(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n.toLowerCase(),a=n!==i;a?(t.push("-"),t.push(i)):t.push(n)}var o=t.length===e.length;return o?e:t.join("")}),e.util.dash2camel=e.util.memoize(function(e){for(var t=[],r=!1,n=0;n<e.length;n++){var i=e[n],a="-"===i;a?r=!0:(r?t.push(i.toUpperCase()):t.push(i),r=!1)}return t.join("")}),e.util.regex={},e.util.regex.number="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",e.util.regex.rgba="rgb[a]?\\(("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)(?:\\s*,\\s*("+e.util.regex.number+"))?\\)",e.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)",
e.util.regex.hsla="hsl[a]?\\(("+e.util.regex.number+")\\s*,\\s*("+e.util.regex.number+"[%])\\s*,\\s*("+e.util.regex.number+"[%])(?:\\s*,\\s*("+e.util.regex.number+"))?\\)",e.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+e.util.regex.number+")\\s*,\\s*(?:"+e.util.regex.number+"[%])\\s*,\\s*(?:"+e.util.regex.number+"[%])(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)",e.util.regex.hex3="\\#[0-9a-fA-F]{3}",e.util.regex.hex6="\\#[0-9a-fA-F]{6}";var r=t?t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame:null;r=r||function(e){e&&setTimeout(e,1e3/60)},e.util.requestAnimationFrame=function(e){r(e)}}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.math={},e.math.signum=function(e){return e>0?1:0>e?-1:0},e.math.distance=function(e,t){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},e.math.qbezierAt=function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r},e.math.qbezierPtAt=function(t,r,n,i){return{x:e.math.qbezierAt(t.x,r.x,n.x,i),y:e.math.qbezierAt(t.y,r.y,n.y,i)}},e.math.boundingBoxesIntersect=function(e,t){return e.x1>t.x2?!1:t.x1>e.x2?!1:e.x2<t.x1?!1:t.x2<e.x1?!1:e.y2<t.y1?!1:t.y2<e.y1?!1:e.y1>t.y2?!1:t.y1>e.y2?!1:!0},e.math.inBoundingBox=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},e.math.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},e.math.roundRectangleIntersectLine=function(e,t,r,n,i,a,o){var s,l=this.getRoundRectangleRadius(i,a),u=i/2,c=a/2,d=r-u+l-o,h=n-c-o,p=r+u-l+o,f=h;if(s=this.finiteLinesIntersect(e,t,r,n,d,h,p,f,!1),s.length>0)return s;var v=r+u+o,g=n-c+l-o,y=v,m=n+c-l+o;if(s=this.finiteLinesIntersect(e,t,r,n,v,g,y,m,!1),s.length>0)return s;var b=r-u+l-o,x=n+c+o,w=r+u-l+o,_=x;if(s=this.finiteLinesIntersect(e,t,r,n,b,x,w,_,!1),s.length>0)return s;var E=r-u-o,S=n-c+l-o,D=E,T=n+c-l+o;if(s=this.finiteLinesIntersect(e,t,r,n,E,S,D,T,!1),s.length>0)return s;var k,C=r-u+l,P=n-c+l;if(k=this.intersectLineCircle(e,t,r,n,C,P,l+o),k.length>0&&k[0]<=C&&k[1]<=P)return[k[0],k[1]];var M=r+u-l,B=n-c+l;if(k=this.intersectLineCircle(e,t,r,n,M,B,l+o),k.length>0&&k[0]>=M&&k[1]<=B)return[k[0],k[1]];var N=r+u-l,I=n+c-l;if(k=this.intersectLineCircle(e,t,r,n,N,I,l+o),k.length>0&&k[0]>=N&&k[1]>=I)return[k[0],k[1]];var O=r-u+l,L=n+c-l;return k=this.intersectLineCircle(e,t,r,n,O,L,l+o),k.length>0&&k[0]<=O&&k[1]>=L?[k[0],k[1]]:[]},e.math.roundRectangleIntersectBox=function(e,t,r,n,i,a,o,s,l){var u=this.getRoundRectangleRadius(i,a),c=o-i/2-l,d=s-a/2+u-l,h=o+i/2+l,p=s+a/2-u+l,f=o-i/2+u-l,v=s-a/2-l,g=o+i/2-u+l,y=s+a/2+l,m=Math.min(e,r),b=Math.max(e,r),x=Math.min(t,n),w=Math.max(t,n);return c>b?!1:m>h?!1:v>w?!1:x>y?!1:c>=m&&b>=c&&d>=x&&w>=d?!0:h>=m&&b>=h&&d>=x&&w>=d?!0:h>=m&&b>=h&&p>=x&&w>=p?!0:c>=m&&b>=c&&p>=x&&w>=p?!0:m>=c&&h>=m&&x>=d&&p>=x?!0:b>=c&&h>=b&&x>=d&&p>=x?!0:b>=c&&h>=b&&w>=d&&p>=w?!0:m>=c&&h>=m&&w>=d&&p>=w?!0:f>=m&&b>=f&&v>=x&&w>=v?!0:g>=m&&b>=g&&v>=x&&w>=v?!0:g>=m&&b>=g&&y>=x&&w>=y?!0:f>=m&&b>=f&&y>=x&&w>=y?!0:m>=f&&g>=m&&x>=v&&y>=x?!0:b>=f&&g>=b&&x>=v&&y>=x?!0:b>=f&&g>=b&&w>=v&&y>=w?!0:m>=f&&g>=m&&w>=v&&y>=w?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,f+l,d+l)?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,g-l,d+l)?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,g-l,p-l)?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,f+l,p-l)?!0:!1},e.math.checkInBoundingCircle=function(e,t,r,n,i,a,o,s){return e=(e-o)/(i+n),t=(t-s)/(a+n),r>=e*e+t*t},e.math.boxInBezierVicinity=function(e,t,r,n,i,a,o,s,l,u,c){var d=.25*i+.5*o+.25*l,h=.25*a+.5*s+.25*u,p=Math.min(e,r)-c,f=Math.min(t,n)-c,v=Math.max(e,r)+c,g=Math.max(t,n)+c;if(i>=p&&v>=i&&a>=f&&g>=a)return 1;if(l>=p&&v>=l&&u>=f&&g>=u)return 1;if(d>=p&&v>=d&&h>=f&&g>=h)return 1;if(o>=p&&v>=o&&s>=f&&g>=s)return 1;var y=Math.min(i,d,l),m=Math.min(a,h,u),b=Math.max(i,d,l),x=Math.max(a,h,u);return y>v||p>b||m>g||f>x?0:1},e.math.checkBezierInBox=function(t,r,n,i,a,o,s,l,u,c,d){function h(d){var h=e.math.qbezierAt(a,s,u,d),p=e.math.qbezierAt(o,l,c,d);return h>=t&&n>=h&&p>=r&&i>=p}for(var p=0;1>=p;p+=.25)if(!h(p))return!1;return!0},e.math.checkStraightEdgeInBox=function(e,t,r,n,i,a,o,s,l){return i>=e&&r>=i&&o>=e&&r>=o&&a>=t&&n>=a&&s>=t&&n>=s},e.math.checkStraightEdgeCrossesBox=function(e,t,r,n,i,a,o,s,l){var u,c,d=Math.min(e,r)-l,h=Math.min(t,n)-l,p=Math.max(e,r)+l,f=Math.max(t,n)+l,v=o-i,g=i,y=s-a,m=a;if(Math.abs(v)<1e-4)return i>=d&&p>=i&&Math.min(a,s)<=h&&Math.max(a,s)>=f;var b=(d-g)/v;if(b>0&&1>=b&&(u=y*b+m,u>=h&&f>=u))return!0;var x=(p-g)/v;if(x>0&&1>=x&&(u=y*x+m,u>=h&&f>=u))return!0;var w=(h-m)/y;if(w>0&&1>=w&&(c=v*w+g,c>=d&&p>=c))return!0;var _=(f-m)/y;return _>0&&1>=_&&(c=v*_+g,c>=d&&p>=c)?!0:!1},e.math.checkBezierCrossesBox=function(e,t,r,n,i,a,o,s,l,u,c){var d=Math.min(e,r)-c,h=Math.min(t,n)-c,p=Math.max(e,r)+c,f=Math.max(t,n)+c;if(i>=d&&p>=i&&a>=h&&f>=a)return!0;if(l>=d&&p>=l&&u>=h&&f>=u)return!0;var v=i-2*o+l,g=-2*i+2*o,y=i,m=[];if(Math.abs(v)<1e-4){var b=(d-i)/g,x=(p-i)/g;m.push(b,x)}else{var w,_,E=g*g-4*v*(y-d);if(E>0){var S=Math.sqrt(E);w=(-g+S)/(2*v),_=(-g-S)/(2*v),m.push(w,_)}var D,T,k=g*g-4*v*(y-p);if(k>0){var S=Math.sqrt(k);D=(-g+S)/(2*v),T=(-g-S)/(2*v),m.push(D,T)}}m.sort(function(e,t){return e-t});var C=a-2*s+u,P=-2*a+2*s,M=a,B=[];if(Math.abs(C)<1e-4){var N=(h-a)/P,I=(f-a)/P;B.push(N,I)}else{var O,L,z=P*P-4*C*(M-h);if(z>0){var S=Math.sqrt(z);O=(-P+S)/(2*C),L=(-P-S)/(2*C),B.push(O,L)}var R,A,V=P*P-4*C*(M-f);if(V>0){var S=Math.sqrt(V);R=(-P+S)/(2*C),A=(-P-S)/(2*C),B.push(R,A)}}B.sort(function(e,t){return e-t});for(var F=0;F<m.length;F+=2)for(var X=1;X<B.length;X+=2)if(m[F]<B[X]&&B[X]>=0&&m[F]<=1&&m[F+1]>B[X-1]&&B[X-1]<=1&&m[F+1]>=0)return!0;return!1},e.math.inLineVicinity=function(e,t,r,n,i,a,o){var s=o,l=Math.min(r,i),u=Math.max(r,i),c=Math.min(n,a),d=Math.max(n,a);return e>=l-s&&u+s>=e&&t>=c-s&&d+s>=t},e.math.inBezierVicinity=function(e,t,r,n,i,a,o,s,l){var u={x1:Math.min(r,o,i),x2:Math.max(r,o,i),y1:Math.min(n,s,a),y2:Math.max(n,s,a)};return e<u.x1||e>u.x2||t<u.y1||t>u.y2?!1:!0},e.math.solveCubic=function(e,t,r,n,i){t/=e,r/=e,n/=e;var a,o,s,l,u,c,d,h;return o=(3*r-t*t)/9,s=-(27*n)+t*(9*r-2*(t*t)),s/=54,a=o*o*o+s*s,i[1]=0,d=t/3,a>0?(u=s+Math.sqrt(a),u=0>u?-Math.pow(-u,1/3):Math.pow(u,1/3),c=s-Math.sqrt(a),c=0>c?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+u+c,d+=(u+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+u)/2,i[3]=d,void(i[5]=-d)):(i[5]=i[3]=0,0===a?(h=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=-d+2*h,void(i[4]=i[2]=-(h+d))):(o=-o,l=o*o*o,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(o),i[0]=-d+h*Math.cos(l/3),i[2]=-d+h*Math.cos((l+2*Math.PI)/3),void(i[4]=-d+h*Math.cos((l+4*Math.PI)/3))))},e.math.sqDistanceToQuadraticBezier=function(e,t,r,n,i,a,o,s){var l=1*r*r-4*r*i+2*r*o+4*i*i-4*i*o+o*o+n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s,u=9*r*i-3*r*r-3*r*o-6*i*i+3*i*o+9*n*a-3*n*n-3*n*s-6*a*a+3*a*s,c=3*r*r-6*r*i+r*o-r*e+2*i*i+2*i*e-o*e+3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t,d=1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,h=[];this.solveCubic(l,u,c,d,h);for(var p=1e-7,f=[],v=0;6>v;v+=2)Math.abs(h[v+1])<p&&h[v]>=0&&h[v]<=1&&f.push(h[v]);f.push(1),f.push(0);for(var g,y,m,b,x=-1,w=0;w<f.length;w++)y=Math.pow(1-f[w],2)*r+2*(1-f[w])*f[w]*i+f[w]*f[w]*o,m=Math.pow(1-f[w],2)*n+2*(1-f[w])*f[w]*a+f[w]*f[w]*s,b=Math.pow(y-e,2)+Math.pow(m-t,2),x>=0?x>b&&(x=b,g=f[w]):(x=b,g=f[w]);return x},e.math.sqDistanceToFiniteLine=function(e,t,r,n,i,a){var o=[e-r,t-n],s=[i-r,a-n],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],d=c*c/l;return 0>c?u:d>l?(e-i)*(e-i)+(t-a)*(t-a):u-d},e.math.pointInsidePolygon=function(e,t,r,n,i,a,o,s,l){var u=new Array(r.length),c=Math.asin(s[1]/Math.sqrt(s[0]*s[0]+s[1]*s[1]));s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2;for(var d=Math.cos(-c),h=Math.sin(-c),p=0;p<u.length/2;p++)u[2*p]=a/2*(r[2*p]*d-r[2*p+1]*h),u[2*p+1]=o/2*(r[2*p+1]*d+r[2*p]*h),u[2*p]+=n,u[2*p+1]+=i;var f;if(l>0){var v=this.expandPolygon(u,-l);f=this.joinLines(v)}else f=u;for(var g,y,m,b,x,w=0,_=0,p=0;p<f.length/2;p++)if(g=f[2*p],y=f[2*p+1],p+1<f.length/2?(m=f[2*(p+1)],b=f[2*(p+1)+1]):(m=f[2*(p+1-f.length/2)],b=f[2*(p+1-f.length/2)+1]),g==e&&m==e);else{if(!(g>=e&&e>=m||e>=g&&m>=e))continue;x=(e-g)/(m-g)*(b-y)+y,x>t&&w++,t>x&&_++}return w%2===0?!1:!0},e.math.joinLines=function(e){for(var t,r,n,i,a,o,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],r=e[4*c+1],n=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(a=e[4*(c+1)],o=e[4*(c+1)+1],s=e[4*(c+1)+2],l=e[4*(c+1)+3]):(a=e[0],o=e[1],s=e[2],l=e[3]);var d=this.finiteLinesIntersect(t,r,n,i,a,o,s,l,!0);u[2*c]=d[0],u[2*c+1]=d[1]}return u},e.math.expandPolygon=function(e,t){for(var r,n,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){r=e[2*s],n=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],a=e[2*(s+1)+1]):(i=e[0],a=e[1]);var l=a-n,u=-(i-r),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;o[4*s]=r+d*t,o[4*s+1]=n+h*t,o[4*s+2]=i+d*t,o[4*s+3]=a+h*t}return o},e.math.intersectLineEllipse=function(e,t,r,n,i,a){var o=r-e,s=n-t;o/=i,s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(0>u)return[];var c=u/l;return[(r-e)*c+e,(n-t)*c+t]},e.math.dotProduct=function(e,t){if(2!=e.length||2!=t.length)throw"dot product: arguments are not vectors";return e[0]*t[0]+e[1]*t[1]},e.math.intersectLineCircle=function(e,t,r,n,i,a,o){var s=[r-e,n-t],l=[i,a],u=[e-i,t-a],c=s[0]*s[0]+s[1]*s[1],d=2*(u[0]*s[0]+u[1]*s[1]),l=u[0]*u[0]+u[1]*u[1]-o*o,h=d*d-4*c*l;if(0>h)return[];var p=(-d+Math.sqrt(h))/(2*c),f=(-d-Math.sqrt(h))/(2*c),v=Math.min(p,f),g=Math.max(p,f),y=[];if(v>=0&&1>=v&&y.push(v),g>=0&&1>=g&&y.push(g),0===y.length)return[];var m=y[0]*s[0]+e,b=y[0]*s[1]+t;if(y.length>1){if(y[0]==y[1])return[m,b];var x=y[1]*s[0]+e,w=y[1]*s[1]+t;return[m,b,x,w]}return[m,b]},e.math.findCircleNearPoint=function(e,t,r,n,i){var a=n-e,o=i-t,s=Math.sqrt(a*a+o*o),l=a/s,u=o/s;return[e+l*r,t+u*r]},e.math.findMaxSqDistanceToOrigin=function(e){for(var t,r=1e-6,n=0;n<e.length/2;n++)t=e[2*n]*e[2*n]+e[2*n+1]*e[2*n+1],t>r&&(r=t);return r},e.math.finiteLinesIntersect=function(e,t,r,n,i,a,o,s,l){var u=(o-i)*(t-a)-(s-a)*(e-i),c=(r-e)*(t-a)-(n-t)*(e-i),d=(s-a)*(r-e)-(o-i)*(n-t);if(0!==d){var h=u/d,p=c/d;return h>=0&&1>=h&&p>=0&&1>=p?[e+h*(r-e),t+h*(n-t)]:l?[e+h*(r-e),t+h*(n-t)]:[]}return 0===u||0===c?[e,r,o].sort()[1]===o?[o,s]:[e,r,i].sort()[1]===i?[i,a]:[i,o,r].sort()[1]===r?[r,n]:[]:[]},e.math.boxIntersectEllipse=function(e,t,r,n,i,a,o,s,l){if(e>r){var u=e;e=r,r=u}if(t>n){var c=t;t=n,n=c}var d=[s-a/2-i,l],h=[s+a/2+i,l],p=[s,l-o/2-i],f=[s,l+o/2+i];return r<d[0]?!1:e>h[0]?!1:t>f[1]?!1:n<p[1]?!1:e<=h[0]&&h[0]<=r&&t<=h[1]&&h[1]<=n?!0:e<=d[0]&&d[0]<=r&&t<=d[1]&&d[1]<=n?!0:e<=p[0]&&p[0]<=r&&t<=p[1]&&p[1]<=n?!0:e<=f[0]&&f[0]<=r&&t<=f[1]&&f[1]<=n?!0:(e=(e-s)/(a/2+i),r=(r-s)/(a/2+i),t=(t-l)/(o/2+i),n=(n-l)/(o/2+i),1>=e*e+t*t?!0:1>=r*r+t*t?!0:1>=r*r+n*n?!0:1>=e*e+n*n?!0:!1)},e.math.boxIntersectPolygon=function(t,r,n,i,a,o,s,l,u,c,d){if(t>n){var h=t;t=n,n=h}if(r>i){var p=r;r=i,i=p}var f=new Array(a.length),v=Math.asin(c[1]/Math.sqrt(c[0]*c[0]+c[1]*c[1]));c[0]<0?v+=Math.PI/2:v=-v-Math.PI/2;for(var g=Math.cos(-v),y=Math.sin(-v),m=0;m<f.length/2;m++)f[2*m]=o/2*(a[2*m]*g-a[2*m+1]*y),f[2*m+1]=s/2*(a[2*m+1]*g+a[2*m]*y),f[2*m]+=l,f[2*m+1]+=u;for(var b=f[0],x=f[0],w=f[1],_=f[1],m=1;m<f.length/2;m++)f[2*m]>x&&(x=f[2*m]),f[2*m]<b&&(b=f[2*m]),f[2*m+1]>_&&(_=f[2*m+1]),f[2*m+1]<w&&(w=f[2*m+1]);if(b-d>n)return!1;if(t>x+d)return!1;if(w-d>i)return!1;if(r>_+d)return!1;var E;if(d>0){var S=e.math.expandPolygon(f,-d);E=e.math.joinLines(S)}else E=f;for(var m=0;m<f.length/2;m++)if(t<=f[2*m]&&f[2*m]<=n&&r<=f[2*m+1]&&f[2*m+1]<=i)return!0;for(var m=0;m<E.length/2;m++){var D,T,k=E[2*m],C=E[2*m+1];if(m<E.length/2-1?(D=E[2*(m+1)],T=E[2*(m+1)+1]):(D=E[0],T=E[1]),e.math.finiteLinesIntersect(k,C,D,T,t,r,n,r,!1).length>0)return!0;if(e.math.finiteLinesIntersect(k,C,D,T,t,i,n,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(k,C,D,T,t,r,t,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(k,C,D,T,n,r,n,i,!1).length>0)return!0}return!1},e.math.polygonIntersectLine=function(t,r,n,i,a,o,s,l){for(var u,c=[],d=new Array(n.length),h=0;h<d.length/2;h++)d[2*h]=n[2*h]*o+i,d[2*h+1]=n[2*h+1]*s+a;var p;if(l>0){var f=e.math.expandPolygon(d,-l);p=e.math.joinLines(f)}else p=d;for(var v,g,y,m,h=0;h<p.length/2;h++)v=p[2*h],g=p[2*h+1],h<p.length/2-1?(y=p[2*(h+1)],m=p[2*(h+1)+1]):(y=p[0],m=p[1]),u=this.finiteLinesIntersect(t,r,i,a,v,g,y,m),0!==u.length&&c.push(u[0],u[1]);return c},e.math.shortenIntersection=function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;return 0>a&&(a=1e-5),[t[0]+a*n[0],t[1]+a*n[1]]},e.math.generateUnitNgonPointsFitToSquare=function(t,r){var n=e.math.generateUnitNgonPoints(t,r);return n=e.math.fitPolygonToSquare(n)},e.math.fitPolygonToSquare=function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,o=-(1/0),s=-(1/0),l=0;n>l;l++)t=e[2*l],r=e[2*l+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,r),s=Math.max(s,r);for(var u=2/(o-i),c=2/(s-a),l=0;n>l;l++)t=e[2*l]=e[2*l]*u,r=e[2*l+1]=e[2*l+1]*c,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,r),s=Math.max(s,r);if(-1>a)for(var l=0;n>l;l++)r=e[2*l+1]=e[2*l+1]+(-1-a);return e},e.math.generateUnitNgonPoints=function(e,t){var r=1/e*2*Math.PI,n=e%2===0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i,a,o,s=new Array(2*e),l=0;e>l;l++)i=l*r+n,a=s[2*l]=Math.cos(i),o=s[2*l+1]=Math.sin(-i);return s},e.math.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)}}(cytoscape),function(e){"use strict";function t(t,r,n){var i={};switch(i[r]=n,t){case"core":case"collection":e.fn[t](i)}if("layout"===t){for(var o=n.prototype,s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this}),o.stop||(o.stop=function(){var e=this.options;return e&&e.animate&&e.eles.stop(),this}),o.on=e.define.on({layout:!0}),o.one=e.define.on({layout:!0,unbindSelfOnTrigger:!0}),o.once=e.define.on({layout:!0,unbindAllBindersOnTrigger:!0}),o.off=e.define.off({layout:!0}),o.trigger=e.define.trigger({layout:!0}),e.define.eventAliasesOn(o)}return e.util.setMap({map:a,keys:[t,r],value:n})}function r(t,r){return e.util.getMap({map:a,keys:[t,r]})}function n(t,r,n,i,a){return e.util.setMap({map:o,keys:[t,r,n,i],value:a})}function i(t,r,n,i){return e.util.getMap({map:o,keys:[t,r,n,i]})}var a={};e.extensions=a;var o={};e.modules=o,e.extension=function(){return 2==arguments.length?r.apply(this,arguments):3==arguments.length?t.apply(this,arguments):4==arguments.length?i.apply(this,arguments):5==arguments.length?n.apply(this,arguments):void e.util.error("Invalid extension access syntax")}}(cytoscape),function(e,t){"use strict";var r=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t};t.registerJquery=function(e){e&&(e.fn.cytoscape||(e.fn.cytoscape=function(n){var i=e(this);if("get"===n)return r(i).cy;if(t.is.fn(n)){var a=n,o=r(i).cy;if(o&&o.isReady())o.trigger("ready",[],a);else{var s=r(i),l=s.readies=s.readies||[];l.push(a)}}else if(t.is.plainObject(n))return i.each(function(){var t=e.extend({},n,{container:e(this)[0]});cytoscape(t)})},e.cytoscape=cytoscape,null==e.fn.cy&&null==e.cy&&(e.fn.cy=e.fn.cytoscape,e.cy=e.cytoscape)))},t.registerJquery(e)}("undefined"!=typeof jQuery?jQuery:null,cytoscape),function(e){"use strict";function t(){return!1}function r(){return!0}e.Event=function(n,i){return this instanceof e.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented?r:t):this.type=n,i&&(this.type=void 0!==i.type?i.type:this.type,this.cy=i.cy,this.cyTarget=i.cyTarget,this.cyPosition=i.cyPosition,this.cyRenderedPosition=i.cyRenderedPosition,this.namespace=i.namespace,this.layout=i.layout,this.data=i.data,this.message=i.message),void(this.timeStamp=n&&n.timeStamp||+new Date)):new e.Event(n,i)},e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t}}(cytoscape),function(e){"use strict";e.define={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}};return t=e.util.extend({},r,t),function(r,n){var i=t,a=this,o=void 0!==a.length,s=o?a:[a],l=o?a[0]:a;if(e.is.string(r)){if(i.allowGetting&&void 0===n){var u;return l&&(u=l._private[i.field][r]),u}if(i.allowSetting&&void 0!==n){var c=!i.immutableKeys[r];if(c){for(var d=0,h=s.length;h>d;d++)i.canSet(s[d])&&(s[d]._private[i.field][r]=n);i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&e.is.plainObject(r)){var p,f,v=r;for(p in v){f=v[p];var c=!i.immutableKeys[p];if(c)for(var d=0,h=s.length;h>d;d++)i.canSet(s[d])&&(s[d]._private[i.field][p]=f)}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&e.is.fn(r)){var g=r;a.bind(i.bindingEvent,g)}else if(i.allowGetting&&void 0===r){var u;return l&&(u=l._private[i.field]),u}return a}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=e.util.extend({},r,t),function(r){var n=t,i=this,a=void 0!==i.length,o=a?i:[i];if(e.is.string(r)){for(var s=r.split(/\s+/),l=s.length,u=0;l>u;u++){var c=s[u];if(!e.is.emptyString(c)){var d=!n.immutableKeys[c];if(d)for(var h=0,p=o.length;p>h;h++)o[h]._private[n.field][c]=void 0}}n.triggerEvent&&i[n.triggerFnName](n.event)}else if(void 0===r){for(var h=0,p=o.length;p>h;h++){var f=o[h]._private[n.field];for(var c in f){var v=!n.immutableKeys[c];v&&(f[c]=void 0)}}n.triggerEvent&&i[n.triggerFnName](n.event)}return i}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(t){var r={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return t=e.util.extend({},r,t),function(r,n,i,a){var o=this,s=void 0!==o.length,l=s?o:[o],u=e.is.string(r),c=t;if(e.is.plainObject(n)?(a=i,i=n,n=void 0):(e.is.fn(n)||n===!1)&&(a=n,i=void 0,n=void 0),(e.is.fn(i)||i===!1)&&(a=i,i=void 0),!e.is.fn(a)&&a!==!1&&u)return o;if(u){var d={};d[r]=a,r=d}for(var h in r)if(a=r[h],a===!1&&(a=e.define.event.falseCallback),e.is.fn(a)){h=h.split(/\s+/);for(var p=0;p<h.length;p++){var f=h[p];if(!e.is.emptyString(f)){var v=f.match(e.define.event.regex);if(v)for(var g=v[1],y=v[2]?v[2]:void 0,m={callback:a,data:i,delegated:n?!0:!1,selector:n,selObj:new e.Selector(n),type:g,namespace:y,unbindSelfOnTrigger:c.unbindSelfOnTrigger,unbindAllBindersOnTrigger:c.unbindAllBindersOnTrigger,binders:l},b=0;b<l.length;b++){var x=l[b]._private;x.listeners=x.listeners||[],x.listeners.push(m)}}}}return o}},eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.removeListener=r.unlisten=r.unbind=r.off,r.emit=r.trigger,r.pon=r.promiseOn=function(t,r){var n=this,i=Array.prototype.slice.call(arguments,0);return new e.Promise(function(e,t){var r=function(t){n.off.apply(n,o),e(t)},a=i.concat([r]),o=a.concat([]);n.on.apply(n,a)})}},off:function(t){var r={};return t=e.util.extend({},r,t),function(t,r,n){var i=this,a=void 0!==i.length,o=a?i:[i],s=e.is.string(t);if(0===arguments.length){for(var l=0;l<o.length;l++)o[l]._private.listeners=[];return i}if((e.is.fn(r)||r===!1)&&(n=r,r=void 0),s){var u={};u[t]=n,t=u}for(var c in t){n=t[c],n===!1&&(n=e.define.event.falseCallback),c=c.split(/\s+/);for(var d=0;d<c.length;d++){var h=c[d];if(!e.is.emptyString(h)){var p=h.match(e.define.event.optionalTypeRegex);if(p)for(var f=p[1]?p[1]:void 0,v=p[2]?p[2]:void 0,l=0;l<o.length;l++)for(var g=o[l]._private.listeners=o[l]._private.listeners||[],y=0;y<g.length;y++){var m=g[y],b=!v||v===m.namespace,x=!f||m.type===f,w=!n||n===m.callback,_=b&&x&&w;_&&(g.splice(y,1),y--)}}}}return i}},trigger:function(t){var r={};return t=e.util.extend({},r,t),function(r,n,i){var a=this,o=void 0!==a.length,s=o?a:[a],l=e.is.string(r),u=e.is.plainObject(r),c=e.is.event(r),d=this._private.cy||(e.is.core(this)?this:null),h=d?d.hasCompoundNodes():!1;if(l){var p=r.split(/\s+/);r=[];for(var f=0;f<p.length;f++){var v=p[f];if(!e.is.emptyString(v)){var g=v.match(e.define.event.regex),y=g[1],m=g[2]?g[2]:void 0;r.push({type:y,namespace:m})}}}else if(u){var b=r;r=[b]}n?e.is.array(n)||(n=[n]):n=[];for(var f=0;f<r.length;f++)for(var x=r[f],w=0;w<s.length;w++){var v,_=s[w],E=_._private.listeners=_._private.listeners||[],S=e.is.element(_),D=S||t.layout;if(c?(v=x,v.cyTarget=v.cyTarget||_,v.cy=v.cy||d):v=new e.Event(x,{cyTarget:_,cy:d,namespace:x.namespace}),x.layout&&(v.layout=x.layout),t.layout&&(v.layout=_),v.cyPosition){var T=v.cyPosition,k=d.zoom(),C=d.pan();v.cyRenderedPosition={x:T.x*k+C.x,y:T.y*k+C.y}}i&&(E=[{namespace:v.namespace,type:v.type,callback:i}]);for(var P=0;P<E.length;P++){var M=E[P],B=!M.namespace||M.namespace===v.namespace,N=M.type===v.type,I=M.delegated?_!==v.cyTarget&&e.is.element(v.cyTarget)&&M.selObj.matches(v.cyTarget):!0,O=B&&N&&I;if(O){var L=[v];if(L=L.concat(n),M.data?v.data=M.data:v.data=void 0,(M.unbindSelfOnTrigger||M.unbindAllBindersOnTrigger)&&(E.splice(P,1),P--),M.unbindAllBindersOnTrigger)for(var z=M.binders,R=0;R<z.length;R++){var A=z[R];if(A&&A!==_)for(var V=A._private.listeners,F=0;F<V.length;F++){var X=V[F];X===M&&(V.splice(F,1),F--)}}var j=M.delegated?v.cyTarget:_,q=M.callback.apply(j,L);(q===!1||v.isPropagationStopped())&&(D=!1,q===!1&&(v.stopPropagation(),v.preventDefault()))}}if(D){var Y=h?_._private.parent:null,$=null!=Y&&0!==Y.length;$?(Y=Y[0],Y.trigger(v)):d.trigger(v)}}return a}},animated:function(t){var r={};return t=e.util.extend({},r,t),function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return!1;var i=r[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(t){var r={};return t=e.util.extend({},r,t),function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var i=0;i<r.length;i++){var a=r[i];a._private.animation.queue=[]}return this}},delay:function(t){var r={};return t=e.util.extend({},r,t),function(e,t){var r=this._private.cy||this;return r.styleEnabled()?(this.animate({delay:e},{duration:e,complete:t}),this):this}},animate:function(t){var r={};return t=e.util.extend({},r,t),function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],a=this._private.cy||this,o=!n,s=!o;if(!a.styleEnabled())return this;var l,u=+new Date,c=a.style();switch(void 0===t&&(t={}),void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}var d=!0;if(e)for(var h in e){d=!1;break}if(d)return this;if(s&&(e.style=c.getPropsList(e.style||e.css),e.css=void 0),e.renderedPosition&&s){var p=e.renderedPosition,f=a.pan(),v=a.zoom();e.position={x:(p.x-f.x)/v,y:(p.y-f.y)/v}}if(e.panBy&&o){var g=e.panBy,y=a.pan();e.pan={x:y.x+g.x,y:y.y+g.y}}var m=e.center||e.centre;if(m&&o){var b=a.getCenterPan(m.eles,e.zoom);b&&(e.pan=b)}if(e.fit&&o){var x=e.fit,w=a.getFitViewport(x.eles||x.boundingBox,x.padding);w&&(e.pan=w.pan,e.zoom=w.zoom)}for(var h=0;h<i.length;h++){var _=i[h];l=_.animated()&&(void 0===t.queue||t.queue)?_._private.animation.queue:_._private.animation.current,l.push({properties:e,duration:t.duration,params:t,callTime:u})}return s&&a.addToAnimationPool(this),this}},stop:function(t){var r={};return t=e.util.extend({},r,t),function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var s=i[o],l=s._private.animation.current,u=0;u<l.length;u++){var c=l[u];t&&(c.duration=0)}e&&(s._private.animation.queue=[]),t||(s._private.animation.current=[])}return a.notify({collection:this,type:"draw"}),this}}}}(cytoscape),function(e){"use strict";e.fn.selector=function(t,r){for(var n in t){var i=t[n];e.Selector.prototype[n]=i}},e.Selector=function(t,r){if(!(this instanceof e.Selector))return new e.Selector(t,r);void 0===r&&void 0!==t&&(r=t,t=void 0);var n=this;if(n._private={selectorText:null,invalid:!0},!r||e.is.string(r)&&r.match(/^\s*$/))null==t?n.length=0:(n[0]=o(),n[0].group=t,n.length=1);else if(e.is.element(r)){var i=new e.Collection(n.cy(),[r]);n[0]=o(),n[0].collection=i,n.length=1}else if(e.is.collection(r))n[0]=o(),n[0].collection=r,n.length=1;else if(e.is.fn(r))n[0]=o(),n[0].filter=r,n.length=1;else{if(!e.is.string(r))return void e.util.error("A selector must be created from a string; found "+r);var a=null,o=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},s={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:e.util.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};s.variable="(?:[\\w-]|(?:\\\\"+s.metaChar+"))+",s.value=s.string+"|"+s.number,s.className=s.variable,s.id=s.variable;for(var l=function(e){return e.replace(new RegExp("\\\\("+s.metaChar+")","g"),function(e,t,r,n){return t})},u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var d=u[c];s.comparatorOp+="|@"+d}for(var u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var d=u[c];d.indexOf("!")>=0||"="!==d&&(s.comparatorOp+="|\\!"+d)}var h=[{name:"group",query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"==e?e:e+"s"}},{name:"state",query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},{name:"id",query:!0,regex:"\\#("+s.id+")",populate:function(e){this.ids.push(l(e))}},{name:"className",query:!0,regex:"\\.("+s.className+")",populate:function(e){this.classes.push(l(e))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+s.variable+")\\s*\\]",populate:function(e){this.data.push({field:l(e)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+s.variable+")\\s*("+s.comparatorOp+")\\s*("+s.value+")\\s*\\]",populate:function(e,t,r){var n=null!=new RegExp("^"+s.string+"$").exec(r);r=n?r.substring(1,r.length-1):parseFloat(r),this.data.push({field:l(e),operator:t,value:r})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+s.boolOp+")\\s*("+s.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:l(t),operator:e})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+s.meta+")\\s*("+s.comparatorOp+")\\s*("+s.number+")\\s*\\]\\]",populate:function(e,t,r){this.meta.push({field:l(e),operator:t,value:parseFloat(r)})}},{name:"nextQuery",separator:!0,regex:s.separator,populate:function(){n[++c]=o(),a=null}},{name:"child",separator:!0,regex:s.child,populate:function(){var e=o();e.parent=this,e.subject=a,n[c]=e}},{name:"descendant",separator:!0,regex:s.descendant,populate:function(){var e=o();e.ancestor=this,e.subject=a,n[c]=e}},{name:"subject",modifier:!0,regex:s.subject,populate:function(){return null!=a&&this.subject!=this?(e.util.error("Redefinition of subject in selector `"+r+"`"),!1):(a=this,void(this.subject=this))}}];n._private.selectorText=r;var p=r,c=0,f=function(t){for(var r,n,i,a=0;a<h.length;a++){var o=h[a],s=o.name;if(!e.is.fn(t)||t(s,o)){var l=p.match(new RegExp("^"+o.regex));if(null!=l){n=l,r=o,i=s;var u=l[0];p=p.substring(u.length);break}}}return{expr:r,match:n,name:i}},v=function(){var e=p.match(/^\s+/);if(e){var t=e[0];p=p.substring(t.length)}};for(n[0]=o(),v();;){var g=f();if(null==g.expr)return void e.util.error("The selector `"+r+"`is invalid");for(var y=[],m=1;m<g.match.length;m++)y.push(g.match[m]);var b=g.expr.populate.apply(n[c],y);if(b===!1)return;if(p.match(/^\s*$/))break}n.length=c+1;for(var m=0;m<n.length;m++){var x=n[m];if(null!=x.subject){for(;x.subject!=x;)if(null!=x.parent){var w=x.parent,_=x;_.parent=null,w.child=_,x=w}else{if(null==x.ancestor){e.util.error("When adjusting references for the selector `"+x+"`, neither parent nor ancestor was found");break}var E=x.ancestor,S=x;S.ancestor=null,E.descendant=S,x=E}n[m]=x.subject}}if(null!=t)for(var m=0;m<n.length;m++){if(null!=n[m].group&&n[m].group!=t)return void e.util.error("Group `"+n[m].group+"` conflicts with implicit group `"+t+"` in selector `"+r+"`");n[m].group=t}}n._private.invalid=!1},e.selfn=e.Selector.prototype,e.selfn.size=function(){return this.length},e.selfn.eq=function(e){return this[e]},e.selfn.find=function(){};var t=function(r,n){if(null!=r.group&&"*"!=r.group&&r.group!=n._private.group)return!1;for(var i=n.cy(),a=!0,o=0;o<r.colonSelectors.length;o++){var s=r.colonSelectors[o];switch(s){case":selected":a=n.selected();break;case":unselected":a=!n.selected();break;case":selectable":a=n.selectable();break;case":unselectable":a=!n.selectable();break;case":locked":a=n.locked();break;case":unlocked":a=!n.locked();break;case":visible":a=n.visible();break;case":hidden":a=!n.visible();break;case":transparent":a=n.transparent();break;case":grabbed":a=n.grabbed();break;case":free":a=!n.grabbed();break;case":removed":a=n.removed();break;case":inside":a=!n.removed();break;case":grabbable":a=n.grabbable();break;case":ungrabbable":a=!n.grabbable();break;case":animated":a=n.animated();break;case":unanimated":a=!n.animated();break;case":parent":a=n.isNode()&&n.children().nonempty();break;case":child":case":nonorphan":a=n.isNode()&&n.parent().nonempty();break;case":orphan":a=n.isNode()&&n.parent().empty();break;case":loop":a=n.isEdge()&&n.data("source")===n.data("target");break;case":simple":a=n.isEdge()&&n.data("source")!==n.data("target");break;case":active":a=n.active();break;case":inactive":a=!n.active();break;case":touch":a=e.is.touch();break;case":backgrounding":a=n.backgrounding();break;case":nonbackgrounding":a=!n.backgrounding()}if(!a)break}if(!a)return!1;for(var l=!0,o=0;o<r.ids.length;o++){var u=r.ids[o],c=n._private.data.id;if(l=l&&u==c,!l)break}if(!l)return!1;for(var d=!0,o=0;o<r.classes.length;o++){var h=r.classes[o];if(d=d&&n.hasClass(h),!d)break}if(!d)return!1;var p=function(t){for(var n=!0,i=0;i<r[t.name].length;i++){var a,o=r[t.name][i],s=o.operator,l=o.value,u=o.field;if(null!=s&&null!=l){var c=t.fieldValue(u),d=e.is.string(c)||e.is.number(c)?""+c:"",h=""+l,p=!1;s.indexOf("@")>=0&&(d=d.toLowerCase(),h=h.toLowerCase(),s=s.replace("@",""),p=!0);var f=!1,v=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),f=!0),p&&(l=h.toLowerCase(),c=d.toLowerCase()),s){case"*=":a=d.search(h)>=0;break;case"$=":a=null!=new RegExp(h+"$").exec(d);break;case"^=":a=null!=new RegExp("^"+h).exec(d);break;case"=":a=c===l;break;case"!=":a=c!==l;break;case">":a=f?l>=c:c>l,v=!0;break;case">=":a=f?l>c:c>=l,v=!0;break;case"<":a=f?c>=l:l>c,v=!0;break;case"<=":a=f?c>l:l>=c,v=!0;break;default:a=!1}}else if(null!=s)switch(s){case"?":a=t.fieldTruthy(u);break;case"!":a=!t.fieldTruthy(u);break;case"^":a=t.fieldUndefined(u)}else a=!t.fieldUndefined(u);if(f&&!v&&(a=!a,v=!0),!a){n=!1;break}}return n},f=p({name:"data",fieldValue:function(e){return n._private.data[e]},fieldRef:function(e){return"element._private.data."+e},fieldUndefined:function(e){return void 0===n._private.data[e]},fieldTruthy:function(e){return n._private.data[e]?!0:!1}});if(!f)return!1;var v=p({name:"meta",fieldValue:function(e){return n[e]()},fieldRef:function(e){return"element."+e+"()"},fieldUndefined:function(e){return null==n[e]()},fieldTruthy:function(e){return n[e]()?!0:!1}});if(!v)return!1;if(null!=r.collection){var g=null!=r.collection._private.ids[n.id()];if(!g)return!1}if(null!=r.filter&&0===n.collection().filter(r.filter).size())return!1;var y=function(e,r){if(null!=e){var n=!1;if(!i.hasCompoundNodes())return!1;r=r();for(var a=0;a<r.length;a++)if(t(e,r[a])){n=!0;
break}return n}return!0};return y(r.parent,function(){return n.parent()})&&y(r.ancestor,function(){return n.parents()})&&y(r.child,function(){return n.children()})&&y(r.descendant,function(){return n.descendants()})?!0:!1};e.selfn.filter=function(r){var n=this,i=r.cy();if(n._private.invalid)return new e.Collection(i);var a=function(e,r){for(var i=0;i<n.length;i++){var a=n[i];if(t(a,r))return!0}return!1};null==n._private.selectorText&&(a=function(){return!0});var o=r.filter(a);return o},e.selfn.matches=function(e){var r=this;if(r._private.invalid)return!1;for(var n=0;n<r.length;n++){var i=r[n];if(t(i,e))return!0}return!1},e.selfn.toString=e.selfn.selector=function(){for(var t="",r=function(t,r){return e.is.string(t)?r?'"'+t+'"':t:""},n=function(e){var t="";e.subject===e&&(t+="$");var a=r(e.group);t+=a.substring(0,a.length-1);for(var o=0;o<e.data.length;o++){var s=e.data[o];t+=s.value?"["+s.field+r(s.operator)+r(s.value,!0)+"]":"["+r(s.operator)+s.field+"]"}for(var o=0;o<e.meta.length;o++){var l=e.meta[o];t+="[["+l.field+r(l.operator)+r(l.value,!0)+"]]"}for(var o=0;o<e.colonSelectors.length;o++){var u=e.colonSelectors[i];t+=u}for(var o=0;o<e.ids.length;o++){var u="#"+e.ids[i];t+=u}for(var o=0;o<e.classes.length;o++){var u="."+e.classes[i];t+=u}return null!=e.parent&&(t=n(e.parent)+" > "+t),null!=e.ancestor&&(t=n(e.ancestor)+" "+t),null!=e.child&&(t+=" > "+n(e.child)),null!=e.descendant&&(t+=" "+n(e.descendant)),t},i=0;i<this.length;i++){var a=this[i];t+=n(a),this.length>1&&i<this.length-1&&(t+=", ")}return t}}(cytoscape),function(e){"use strict";e.Style=function(t){return this instanceof e.Style?e.is.core(t)?(this._private={cy:t,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void e.util.error("A style must have a core reference"):new e.Style(t)},e.style=e.Style,e.styfn=e.Style.prototype,e.fn.style=function(t,r){for(var n in t){var i=t[n];e.Style.prototype=i}},function(){var t=e.util.regex.number,r=e.util.regex.rgbaNoBackRefs,n=e.util.regex.hslaNoBackRefs,i=e.util.regex.hex3,a=e.util.regex.hex6,o=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(e){return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+t+"|\\w+|"+r+"|"+n+"|"+i+"|"+a+")\\s*\\,\\s*("+t+"|\\w+|"+r+"|"+n+"|"+i+"|"+a+")\\)$"};e.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"},textRotation:{enums:["none","autorotate"]}};var l=e.style.types,u=e.style.properties=[{name:"text-valign",type:l.valign},{name:"text-halign",type:l.halign},{name:"color",type:l.color},{name:"content",type:l.text},{name:"text-outline-color",type:l.color},{name:"text-outline-width",type:l.size},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size},{name:"text-border-style",type:l.borderStyle},{name:"text-background-shape",type:l.textBackgroundShape},{name:"text-transform",type:l.textTransform},{name:"text-wrap",type:l.textWrap},{name:"text-max-width",type:l.size},{name:"font-family",type:l.fontFamily},{name:"font-style",type:l.fontStyle},{name:"font-weight",type:l.fontWeight},{name:"font-size",type:l.size},{name:"min-zoomed-font-size",type:l.size},{name:"edge-text-rotation",type:l.textRotation},{name:"display",type:l.display},{name:"visibility",type:l.visibility},{name:"opacity",type:l.zeroOneNumber},{name:"z-index",type:l.nonNegativeInt},{name:"overlay-padding",type:l.size},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber},{name:"shadow-blur",type:l.size},{name:"shadow-color",type:l.color},{name:"shadow-opacity",type:l.zeroOneNumber},{name:"shadow-offset-x",type:l.number},{name:"shadow-offset-y",type:l.number},{name:"text-shadow-blur",type:l.size},{name:"text-shadow-color",type:l.color},{name:"text-shadow-opacity",type:l.zeroOneNumber},{name:"text-shadow-offset-x",type:l.number},{name:"text-shadow-offset-y",type:l.number},{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"height",type:l.autoSize},{name:"width",type:l.autoSize},{name:"shape",type:l.nodeShape},{name:"background-color",type:l.color},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size},{name:"border-style",type:l.borderStyle},{name:"background-image",type:l.url},{name:"background-image-opacity",type:l.zeroOneNumber},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"padding-left",type:l.size},{name:"padding-right",type:l.size},{name:"padding-top",type:l.size},{name:"padding-bottom",type:l.size},{name:"position",type:l.position},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels},{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"control-point-step-size",type:l.size},{name:"control-point-distance",type:l.number},{name:"control-point-weight",type:l.zeroOneNumber},{name:"curve-style",type:l.curveStyle},{name:"haystack-radius",type:l.zeroOneNumber},{name:"source-arrow-shape",type:l.arrowShape},{name:"target-arrow-shape",type:l.arrowShape},{name:"mid-source-arrow-shape",type:l.arrowShape},{name:"mid-target-arrow-shape",type:l.arrowShape},{name:"source-arrow-color",type:l.color},{name:"target-arrow-color",type:l.color},{name:"mid-source-arrow-color",type:l.color},{name:"mid-target-arrow-color",type:l.color},{name:"source-arrow-fill",type:l.arrowFill},{name:"target-arrow-fill",type:l.arrowFill},{name:"mid-source-arrow-fill",type:l.arrowFill},{name:"mid-target-arrow-fill",type:l.arrowFill},{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}];e.style.pieBackgroundN=16,u.push({name:"pie-size",type:l.bgSize});for(var c=1;c<=e.style.pieBackgroundN;c++)u.push({name:"pie-"+c+"-background-color",type:l.color}),u.push({name:"pie-"+c+"-background-size",type:l.percent}),u.push({name:"pie-"+c+"-background-opacity",type:l.zeroOneNumber});for(var c=0;c<u.length;c++){var d=u[c];u[d.name]=d}}(),e.styfn.addDefaultStylesheet=function(){var e="Helvetica",t="normal",r="normal",n="#000",i="none",a=16,o=9999;this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:n,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":i,"text-wrap":"none","text-max-width":o,"text-background-color":"#000","text-background-opacity":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":e,"font-style":t,"font-weight":r,"font-size":a,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black","pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%","pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled","mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.styfn.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},e.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},e.styfn.core=function(){return this._private.coreStyle},e.styfn.parse=function(t,r,n,i){var a,o=[t,r,n,i].join("$"),s=this.propCache=this.propCache||{};return(a=s[o])||(a=s[o]=this.parseImpl(t,r,n,i)),e.util.copy(a)},e.styfn.parseImpl=function(t,r,n,i){t=e.util.camel2dash(t);var a=e.style.properties[t],o=r,s=e.style.types;if(!a)return null;if(void 0===r||null===r)return null;var l=e.is.string(r);l&&(r=e.util.trim(r));var u=a.type;if(!u)return null;if(n&&(""===r||null===r))return{name:t,value:r,bypass:!0,deleteBypass:!0};var c=t.match(/pie-(\d+)-background-size/);if(e.is.fn(r))return{name:t,value:r,strValue:"fn",mapped:s.fn,bypass:n,hasPie:c};var d,h,p,f,v,g;if(!l||i);else{if((d=new RegExp(s.data.regex).exec(r))||(p=new RegExp(s.layoutData.regex).exec(r))||(v=new RegExp(s.scratch.regex).exec(r))){if(n)return!1;var y;return y=d?s.data:p?s.layoutData:s.scratch,d=d||p||v,{name:t,value:d,strValue:""+r,mapped:y,field:d[1],bypass:n,hasPie:c}}if((h=new RegExp(s.mapData.regex).exec(r))||(f=new RegExp(s.mapLayoutData.regex).exec(r))||(g=new RegExp(s.mapScratch.regex).exec(r))){if(n)return!1;var y;if(y=h?s.mapData:f?s.mapLayoutData:s.mapScratch,h=h||f||g,!u.color&&!u.number)return!1;var m=this.parse(t,h[4]);if(!m||m.mapped)return!1;var b=this.parse(t,h[5]);if(!b||b.mapped)return!1;if(m.value===b.value)return!1;if(u.color){var x=m.value,w=b.value,_=!(x[0]!==w[0]||x[1]!==w[1]||x[2]!==w[2]||x[3]!==w[3]&&(null!=x[3]&&1!==x[3]||null!=w[3]&&1!==w[3]));if(_)return!1}return{name:t,value:h,strValue:""+r,mapped:y,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:b.value,bypass:n,hasPie:c}}}if(u.number){var E,S="px";if(u.units&&(E=u.units),u.implicitUnits&&(S=u.implicitUnits),!u.unitless)if(l){var D="px|em"+(u.allowPercent?"|\\%":"");E&&(D=E);var T=r.match("^("+e.util.regex.number+")("+D+")?$");T&&(r=T[1],E=T[2]||S)}else(!E||u.implicitUnits)&&(E=S);if(r=parseFloat(r),isNaN(r)&&void 0===u.enums)return null;if(isNaN(r)&&void 0!==u.enums){r=o;for(var k=0;k<u.enums.length;k++){var C=u.enums[k];if(C===r)return{name:t,value:r,strValue:""+r,bypass:n}}return null}if(u.integer&&!e.is.integer(r))return null;if(void 0!==u.min&&r<u.min||void 0!==u.max&&r>u.max)return null;var P={name:t,value:r,strValue:""+r+(E?E:""),units:E,bypass:n,hasPie:c&&null!=r&&0!==r&&""!==r};return u.unitless||"px"!==E&&"em"!==E||(P.pxValue="px"!==E&&E?this.getEmSizeInPixels()*r:r),("ms"===E||"s"===E)&&(P.msValue="ms"===E?r:1e3*r),P}if(u.propList){var M=[],B=""+r;if("none"===B);else{for(var N=B.split(","),k=0;k<N.length;k++){var I=e.util.trim(N[k]);e.style.properties[I]&&M.push(I)}if(0===M.length)return null}return{name:t,value:M,strValue:0===M.length?"none":M.join(", "),bypass:n}}if(u.color){var O=e.util.color2tuple(r);return O?{name:t,value:O,strValue:""+r,bypass:n}:null}if(u.enums){for(var k=0;k<u.enums.length;k++){var C=u.enums[k];if(C===r)return{name:t,value:r,strValue:""+r,bypass:n}}return null}if(u.regex){var L=new RegExp(u.regex),z=L.exec(r);return z?{name:t,value:z,strValue:""+r,bypass:n}:null}return u.string?{name:t,value:r,strValue:""+r,bypass:n}:null},e.styfn.selector=function(t){var r="core"===t?null:new e.Selector(t),n=this.length++;return this[n]={selector:r,properties:[],mappedProperties:[],index:n},this},e.styfn.css=function(){var t=arguments;switch(t.length){case 1:for(var r=t[0],n=0;n<e.style.properties.length;n++){var i=e.style.properties[n],a=r[i.name];void 0===a&&(a=r[e.util.dash2camel(i.name)]),void 0!==a&&this.cssRule(i.name,a)}break;case 2:this.cssRule(t[0],t[1])}return this},e.styfn.style=e.styfn.css,e.styfn.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.hasPie&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this}}(cytoscape),function(e){"use strict";e.styfn.apply=function(e){var t=this;t._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var r=0;r<e.length;r++){var n=e[r],i=t.getContextMeta(n),a=t.getContextStyle(i),o=t.applyContextStyle(i,a,n);t.updateTransitions(n,o.diffProps),t.updateStyleHints(n)}t._private.newStyle=!1},e.styfn.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c="t"===e[l],d="t"===t[l],h=c!==d,p=u.mappedProperties.length>0;if(h||p){var f;h&&p?f=u.properties:h?f=u.properties:p&&(f=u.mappedProperties);for(var v=0;v<f.length;v++){for(var g=f[v],y=g.name,m=!1,b=l+1;b<r.length;b++){var x=r[b],w="t"===t[b];if(w&&(m=null!=x.properties[g.name]))break}s[y]||m||(s[y]=!0,o.push(y))}}}return n[i]=o,o},e.styfn.getContextMeta=function(e){var t,r=this,n="",i=e._private.styleCxtKey||"";r._private.newStyle&&(i="");for(var a=0;a<r.length;a++){var o=r[a],s=o.selector&&o.selector.matches(e);n+=s?"t":"f"}return t=r.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t}},e.styfn.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var o=r[a],s="t"===t[a];if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l],c=i[u.name]=u;c.context=o}}return n[t]=i,i},e.styfn.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},o=0;o<i.length;o++){var s=i[o],l=t[s],u=r._private.style[s];if(l&&u!==l){var c=a[s]={prev:u};n.applyParsedProperty(r,l),c.next=r._private.style[s],c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:a}},e.styfn.updateStyleHints=function(t){var r=t._private,n=this,i=r.style,a=!1;if("nodes"===r.group&&n._private.hasPie)for(var o=1;o<=e.style.pieBackgroundN;o++){var s=r.style["pie-"+o+"-background-size"].value;if(s>0){a=!0;break}}r.hasPie=a;var l=i["text-transform"].strValue,u=i.content.strValue,c=i["font-style"].strValue,s=i["font-size"].pxValue+"px",d=i["font-family"].strValue,h=i["font-weight"].strValue,p=i["text-valign"].strValue,f=i["text-valign"].strValue,v=i["text-outline-width"].pxValue,g=i["text-wrap"].strValue,y=i["text-max-width"].pxValue;r.labelKey=c+"$"+s+"$"+d+"$"+h+"$"+u+"$"+l+"$"+p+"$"+f+"$"+v+"$"+g+"$"+y,r.fontKey=c+"$"+h+"$"+s+"$"+d;var m=i.width.pxValue,b=i.height.pxValue,x=i["border-width"].pxValue;if(r.boundingBoxKey=m+"$"+b+"$"+x,"edges"===t._private.group){var w=i["control-point-step-size"].pxValue,_=i["control-point-distance"]?i["control-point-distance"].pxValue:void 0,E=i["control-point-weight"].value,S=i["curve-style"].strValue;r.boundingBoxKey+="$"+w+"$"+_+"$"+E+"$"+S}r.styleKey=Date.now()},e.styfn.applyParsedProperty=function(t,r){var n,i,a=r,o=t._private.style,s=e.style.types,l=e.style.properties[a.name].type,u=a.bypass,c=o[a.name],d=c&&c.bypass,h=t._private;if(("height"===r.name||"width"===r.name)&&t.isNode()){if("auto"===r.value&&!t.isParent())return!1;"auto"!==r.value&&t.isParent()&&(a=r=this.parse(r.name,"auto",u))}if(u&&a.deleteBypass){var p=o[a.name];return p?p.bypass&&p.bypassed?(o[a.name]=p.bypassed,!0):!1:!0}var f=function(){e.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+t.id()+"` for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case s.mapData:case s.mapLayoutData:case s.mapScratch:var n,v=a.mapped===s.mapLayoutData,g=a.mapped===s.mapScratch,y=a.field.split(".");n=g||v?h.scratch:h.data;for(var m=0;m<y.length&&n;m++){var b=y[m];n=n[b]}var x;if(x=e.is.number(n)?(n-a.fieldMin)/(a.fieldMax-a.fieldMin):0,0>x?x=0:x>1&&(x=1),l.color){var w=a.valueMin[0],_=a.valueMax[0],E=a.valueMin[1],S=a.valueMax[1],D=a.valueMin[2],T=a.valueMax[2],k=null==a.valueMin[3]?1:a.valueMin[3],C=null==a.valueMax[3]?1:a.valueMax[3],P=[Math.round(w+(_-w)*x),Math.round(E+(S-E)*x),Math.round(D+(T-D)*x),Math.round(k+(C-k)*x)];i={bypass:a.bypass,name:a.name,value:P,strValue:"rgb("+P[0]+", "+P[1]+", "+P[2]+")"}}else{if(!l.number)return!1;var M=a.valueMin+(a.valueMax-a.valueMin)*x;i=this.parse(a.name,M,a.bypass,!0)}i||(i=this.parse(a.name,c.strValue,a.bypass,!0)),i||f(),i.mapping=a,a=i;break;case s.data:case s.layoutData:case s.scratch:var n,v=a.mapped===s.layoutData,g=a.mapped===s.scratch,y=a.field.split(".");if(n=g||v?h.scratch:h.data)for(var m=0;m<y.length;m++){var b=y[m];n=n[b]}if(i=this.parse(a.name,n,a.bypass,!0),!i){var B=c?c.strValue:"";i=this.parse(a.name,B,a.bypass,!0)}i||f(),i.mapping=a,a=i;break;case s.fn:var N=a.value,I=N(t);i=this.parse(a.name,I,a.bypass,!0),i.mapping=a,a=i;break;case void 0:break;default:return!1}return u?(d?a.bypassed=c.bypassed:a.bypassed=c,o[a.name]=a):d?c.bypassed=a:o[a.name]=a,!0},e.styfn.update=function(){var e=this._private.cy,t=e.elements();t.updateStyle()},e.styfn.updateMappers=function(t){for(var r=0;r<t.length;r++){for(var n=t[r],i=n._private.style,a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=i[o.name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(n,l)}}this.updateStyleHints(n)}},e.styfn.updateTransitions=function(t,r,n){var i=this,a=t._private.style,o=a["transition-property"].value,s=a["transition-duration"].msValue,l=a["transition-delay"].msValue,u={};if(o.length>0&&s>0){for(var c=!1,d=0;d<o.length;d++){var h=o[d],p=a[h],f=r[h];if(f){var v,g=f.prev,y=g,m=null!=f.next?f.next:p,b=!1,x=1e-6;y&&(e.is.number(y.pxValue)&&e.is.number(m.pxValue)?(b=m.pxValue-y.pxValue,v=y.pxValue+x*b):e.is.number(y.value)&&e.is.number(m.value)?(b=m.value-y.value,v=y.value+x*b):e.is.array(y.value)&&e.is.array(m.value)&&(b=y.value[0]!==m.value[0]||y.value[1]!==m.value[1]||y.value[2]!==m.value[2],v=y.strValue),b&&(u[h]=m.strValue,this.applyBypass(t,h,v),c=!0))}}if(!c)return;t._private.transitioning=!0,t.stop(),l>0&&t.delay(l),t.animate({css:u},{duration:s,queue:!1,complete:function(){n||i.removeBypasses(t,o),t._private.transitioning=!1}})}else t._private.transitioning&&(t.stop(),this.removeBypasses(t,o),t._private.transitioning=!1)}}(cytoscape),function(e){"use strict";e.styfn.applyBypass=function(t,r,n,i){var a=[],o=!0;if("*"===r||"**"===r){if(void 0!==n)for(var s=0;s<e.style.properties.length;s++){var l=e.style.properties[s],r=l.name,u=this.parse(r,n,!0);u&&a.push(u)}}else if(e.is.string(r)){var u=this.parse(r,n,!0);u&&a.push(u)}else{if(!e.is.plainObject(r))return!1;var c=r;i=n;for(var s=0;s<e.style.properties.length;s++){var l=e.style.properties[s],r=l.name,n=c[r];if(void 0===n&&(n=c[e.util.dash2camel(r)]),void 0!==n){var u=this.parse(r,n,!0);u&&a.push(u)}}}if(0===a.length)return!1;for(var d=!1,s=0;s<t.length;s++){for(var h,p=t[s],f=p._private.style,v={},g=0;g<a.length;g++){var l=a[g];if(i){var y=f[l.name];h=v[l.name]={prev:y}}d=this.applyParsedProperty(p,l)||d,i&&(h.next=f[l.name])}i&&this.updateTransitions(p,v,o)}return d},e.styfn.overrideBypass=function(t,r,n){r=e.util.camel2dash(r);for(var i=0;i<t.length;i++){var a=t[i],o=a._private.style[r],s=e.style.properties[r].type.color;o.bypass?(o.value=n,null!=o.pxValue&&(o.pxValue=n),s?o.strValue="rgb("+o.value.join(",")+")":o.strValue=""+n):this.applyBypass(a,r,n)}},e.styfn.removeAllBypasses=function(t,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],o={},s=a._private.style,l=0;l<e.style.properties.length;l++){var u=e.style.properties[l],c=u.name,d="",h=this.parse(c,d,!0),p=s[u.name],f=o[u.name]={prev:p};this.applyParsedProperty(a,h),f.next=s[u.name]}r&&this.updateTransitions(a,o,n)}},e.styfn.removeBypasses=function(t,r,n){for(var i=!0,a=0;a<t.length;a++){for(var o=t[a],s={},l=o._private.style,u=0;u<r.length;u++){var c=r[u],d=e.style.properties[c],h="",p=this.parse(c,h,!0),f=l[d.name],v=s[d.name]={prev:f};this.applyParsedProperty(o,p),v.next=l[d.name]}n&&this.updateTransitions(o,s,i)}}}(cytoscape),function(e,t){"use strict";e.styfn.getEmSizeInPixels=function(){var e=this._private.cy,r=e.container();if(t&&r&&t.getComputedStyle){var n=t.getComputedStyle(r).getPropertyValue("font-size"),i=parseFloat(n);return i}return 1},e.styfn.containerCss=function(e){var r=this._private.cy,n=r.container();return t&&n&&t.getComputedStyle?t.getComputedStyle(n).getPropertyValue(e):void 0},e.styfn.containerProperty=function(e){var t=this.containerCss(e),r=this.parse(e,t);return r},e.styfn.containerPropertyAsString=function(e){var t=this.containerProperty(e);return t?t.strValue:void 0}}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.styfn.getRenderedStyle=function(t){var t=t[0];if(t){for(var r={},n=t._private.style,i=this._private.cy,a=i.zoom(),o=0;o<e.style.properties.length;o++){var s=e.style.properties[o],l=n[s.name];if(l){var u=l.unitless?l.strValue:l.pxValue*a+"px";r[s.name]=u,r[e.util.dash2camel(s.name)]=u}}return r}},e.styfn.getRawStyle=function(t){var t=t[0];if(t){for(var r={},n=t._private.style,i=0;i<e.style.properties.length;i++){var a=e.style.properties[i],o=n[a.name];o&&(r[a.name]=o.strValue,r[e.util.dash2camel(a.name)]=o.strValue)}return r}},e.styfn.getValueStyle=function(t){var r,n={},i=e.is.element(t);if(r=i?t._private.style:t)for(var a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=r[o.name]||r[e.util.dash2camel(o.name)];void 0!==s&&(s=e.is.plainObject(s)?this.parse(o.name,s.strValue):this.parse(o.name,s)),s&&(n[o.name]=s,n[e.util.dash2camel(o.name)]=s)}return n},e.styfn.getPropsList=function(t){var r=[],n=t,i=e.style.properties;if(n)for(var a in n){var o=n[a],s=i[a]||i[e.util.camel2dash(a)],l=this.parse(s.name,o);r.push(l)}return r}}(cytoscape),function(e){"use strict";e.style.applyFromJson=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css;e.selector(i);for(var o in a){var s=a[o];e.css(o,s)}}return e},e.style.fromJson=function(t,r){var n=new e.Style(t);return e.style.applyFromJson(n,r),n},e.styfn.fromJson=function(t){var r=this;return r.resetToDefault(),e.style.applyFromJson(r,t),r},e.styfn.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e}}(cytoscape),function(e){"use strict";e.style.applyFromString=function(t,r){function n(){l=l.length>a.length?l.substr(a.length):""}function i(){o=o.length>s.length?o.substr(s.length):""}var a,o,s,l=""+r;for(l=l.replace(/[/][*](\s|.)+?[*][/]/g,"");;){var u=l.match(/^\s*$/);if(u)break;var c=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){e.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}a=c[0];var d=c[1];if("core"!==d){var h=new e.Selector(d);if(h._private.invalid){e.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),n();continue}}var p=c[2],f=!1;o=p;for(var v=[];;){var u=o.match(/^\s*$/);if(u)break;var g=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!g){e.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),f=!0;break}s=g[0];var y=g[1],m=g[2],b=e.style.properties[y];if(b){var x=t.parse(y,m);x?(v.push({name:y,val:m}),i()):(e.util.error("Skipping property: Invalid property definition in: "+s),i())}else e.util.error("Skipping property: Invalid property name in: "+s),i()}if(f){n();break}t.selector(d);for(var w=0;w<v.length;w++){var b=v[w];t.css(b.name,b.val)}n()}return t},e.style.fromString=function(t,r){var n=new e.Style(t);return e.style.applyFromString(n,r),n},e.styfn.fromString=function(t){var r=this;return r.resetToDefault(),e.style.applyFromString(r,t),r}}(cytoscape),function(e){"use strict";e.stylesheet=e.Stylesheet=function(){return this instanceof e.Stylesheet?void(this.length=0):new e.Stylesheet},e.sheetfn=e.Stylesheet.prototype,e.sheetfn.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},e.sheetfn.css=function(t,r){var n=this.length-1;if(e.is.string(t))this[n].properties.push({name:t,value:r});else if(e.is.plainObject(t))for(var i=t,a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=i[o.name];if(void 0===s&&(s=i[e.util.dash2camel(o.name)]),void 0!==s){var t=o.name,r=s;this[n].properties.push({name:t,value:r})}}return this},e.sheetfn.style=e.sheetfn.css,e.sheetfn.generateStyle=function(t){for(var r=new e.Style(t),n=0;n<this.length;n++){var i=this[n],a=i.selector,o=i.properties;r.selector(a);for(var s=0;s<o.length;s++){var l=o[s];r.css(l.name,l.value)}}return r}}(cytoscape),function(e,t){"use strict";e.Thread=function(t){return this instanceof e.Thread?(this._private={requires:[],files:[],queue:null,pass:[]},void(t&&this.run(t))):new e.Thread(t)},e.thread=e.Thread,e.thdfn=e.Thread.prototype,e.fn.thread=function(t,r){for(var n in t){var i=t[n];e.Thread.prototype[n]=i}};var r=function(t){var r=e.is.fn(t)?t.toString():'JSON.parse("'+JSON.stringify(t)+'")';return r},n=function(t){var i,o;e.is.object(t)&&t.fn?(i=a(t.fn,t.name),o=t.name,t=t.fn):e.is.fn(t)?(i=t.toString(),o=t.name):e.is.string(t)?i=t:e.is.object(t)&&(i=t.proto?"":t.name+" = {};",o=t.name,t=t.obj),i+="\n";var s=function(e,t){if(e.prototype){var r=!1;for(var a in e.prototype){r=!0;break}r&&(i+=n({name:t,obj:e,proto:!0},e))}};if(t.prototype&&null!=o)for(var l in t.prototype){var u="",c=t.prototype[l],d=r(c),h=o+".prototype."+l;u+=h+" = "+d+";\n",u&&(i+=u),s(c,h)}if(!e.is.string(t))for(var l in t){var p="";if(t.hasOwnProperty(l)){var c=t[l],d=r(c),h=o+'["'+l+'"]';p+=h+" = "+d+";\n"}p&&(i+=p),s(c,h)}return i},i=function(t){return e.is.string(t)&&t.match(/\.js$/)};e.fn.thread({require:function(t,r){return i(t)?(this._private.files.push(t),this):(r&&(e.is.fn(t)?(r=r||t.name,t={name:r,fn:t}):t={name:r,obj:t}),this._private.requires.push(t),this)},pass:function(e){return this._private.pass.push(e),this},run:function(r,i){var a=this,o=this._private;if(i=i||o.pass.shift(),o.stopped)return void e.util.error("Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.");if(o.running)return o.queue=o.queue.then(function(){return a.run(r,i)});var s=null!=t,l="undefined"!=typeof module;a.trigger("run");var u=new e.Promise(function(u,c){o.running=!0;var d=o.ran,h=e.is.string(r)?r:r.toString(),p="\n"+o.requires.map(function(e){return n(e)}).concat(o.files.map(function(e){if(s){var r=function(e){return e.match(/^\.\//)||e.match(/^\.\./)?t.location.origin+t.location.pathname+e:e.match(/^\//)?t.location.origin+"/"+e:e;
};return'importScripts("'+r(e)+'");'}return l?'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );':void 0})).concat(["( function(){","var ret = ("+h+")("+JSON.stringify(i)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(o.requires=[],o.files=[],s){var f,v;if(!d){var g=p+"";p=["function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),p+=g,f=new Blob([p],{type:"application/javascript"}),v=t.URL.createObjectURL(f)}var y=o.webworker=o.webworker||new Worker(v);d&&y.postMessage({$$eval:p});var m;y.addEventListener("message",m=function(t){var r=e.is.object(t)&&e.is.object(t.data);r&&"$$resolve"in t.data?(y.removeEventListener("message",m),u(t.data.$$resolve)):r&&"$$reject"in t.data?(y.removeEventListener("message",m),c(t.data.$$reject)):a.trigger(new e.Event(t,{type:"message",message:t.data}))},!1),d||y.postMessage("$$start")}else if(l){var m,b=require("path"),x=require("child_process"),w=o.child=o.child||x.fork(b.join(__dirname,"thread-node-fork"));w.on("message",m=function(t){e.is.object(t)&&"$$resolve"in t?(w.removeListener("message",m),u(t.$$resolve)):e.is.object(t)&&"$$reject"in t?(w.removeListener("message",m),c(t.$$reject)):a.trigger(new e.Event({},{type:"message",message:t}))}),w.send({$$eval:p})}else e.error("Tried to create thread but no underlying tech found!")}).then(function(e){return o.running=!1,o.ran=!0,a.trigger("ran"),e});return null==o.queue&&(o.queue=u),u},message:function(e){var t=this._private;return t.webworker&&t.webworker.postMessage(e),t.child&&t.child.send(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var a=function(e,t){var r=e.toString();return r=r.replace(/function.*\(/,"function "+t+"(")},o=function(e){return e=e||{},function(t,r){var n=a(t,"_$_$_"+e.name);return this.require(n),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(r):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};e.fn.thread({reduce:o({name:"reduce"}),reduceRight:o({name:"reduceRight"}),map:o({name:"map"})});var s=e.thdfn;s.promise=s.run,s.terminate=s.halt=s.stop,s.include=s.require,e.worker=e.Worker=e.Thread,e.fn.thread({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.thdfn)}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.Fabric=function(t){if(!(this instanceof e.Fabric))return new e.Fabric(t);this._private={pass:[]};var r=4;e.is.number(t),t="undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency?navigator.hardwareConcurrency:"undefined"!=typeof module?require("os").cpus().length:r;for(var n=0;t>n;n++)this[n]=e.Thread();this.length=t},e.fabric=e.Fabric,e.fabfn=e.Fabric.prototype,e.fn.fabric=function(t,r){for(var n in t){var i=t[n];e.Fabric.prototype[n]=i}},e.fn.fabric({require:function(e,t){for(var r=0;r<this.length;r++){var n=this[r];n.require(e,t)}return this},random:function(){var e=Math.round((this.length-1)*Math.random()),t=this[e];return t},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){var r=this[t];r.message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e];t.stop()}return this},pass:function(t){var r=this._private.pass;return e.is.array(t)?r.push(t):e.util.error("Only arrays or collections may be used with fabric.pass()"),this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);return e=Math.max(1,e)},spread:function(t){for(var r=this,n=r._private,i=r.spreadSize(),a=n.pass.shift().concat([]),o=[],s=0;s<this.length;s++){var l=this[s],u=a.splice(0,i),c=l.pass(u).run(t);o.push(c);var d=0===a.length;if(d)break}return e.Promise.all(o).then(function(e){for(var t=[],r=0,n=0;n<e.length;n++)for(var i=e[n],a=0;a<i.length;a++){var o=i[a];t[r++]=o}return t})},map:function(e){var t=this;return t.require(e,"_$_$_fabmap"),t.spread(function(e){var t=[],r=resolve;resolve=function(e){t.push(e)};for(var n=0;n<e.length;n++){var i=t.length,a=_$_$_fabmap(e[n]),o=i===t.length;o&&t.push(a)}return resolve=r,t})},filter:function(e){var t=this._private,r=t.pass[0];return this.map(e).then(function(e){for(var t=[],n=0;n<r.length;n++){var i=r[n],a=e[n];a&&t.push(i)}return t})},sort:function(e){var t=this,r=this._private.pass[0].length,n=this.spreadSize();return e=e||function(e,t){return t>e?-1:e>t?1:0},t.require(e,"_$_$_cmp"),t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=function(n,i,a){i=Math.min(i,r),a=Math.min(a,r);for(var o=n,s=i,l=[],u=o;a>u;u++){var c=t[n],d=t[i];s>n&&(i>=a||e(c,d)<=0)?(l.push(c),n++):(l.push(d),i++)}for(var u=0;u<l.length;u++){var h=o+u;t[h]=l[u]}},a=n;r>a;a*=2)for(var o=0;r>o;o+=2*a)i(o,o+a,o+2*a);return t})}});var r=function(e){return e=e||{},function(t,r){var n=this._private.pass.shift();return this.random().pass(n)[e.threadFn](t,r)}};e.fn.fabric({randomMap:r({threadFn:"map"}),reduce:r({threadFn:"reduce"}),reduceRight:r({threadFn:"reduceRight"})});var n=e.fabfn;n.promise=n.run,n.terminate=n.halt=n.stop,n.include=n.require,e.fn.fabric({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.fabfn)}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";var r={},n=e.util.copy(r);e.defaults=function(t){r=e.util.extend({},n,t)},e.fn.core=function(t,r){for(var n in t){var i=t[n];e.Core.prototype[n]=i}},e.Core=function(n){if(!(this instanceof e.Core))return new e.Core(n);var i=this;n=e.util.extend({},r,n);var a=n.container,o=a?a._cyreg:null;if(o=o||{},o&&o.cy){if(a)for(;a.firstChild;)a.removeChild(a.firstChild);o.cy.notify({type:"destroy"}),o={}}var s=o.readies=o.readies||[];a&&(a._cyreg=o),o.cy=i;var l=void 0!==t&&void 0!==a&&!n.headless,u=n;u.layout=e.util.extend({name:l?"grid":"null"},u.layout),u.renderer=e.util.extend({name:l?"canvas":"null"},u.renderer);var c=function(e,t,r){return void 0!==t?t:void 0!==r?r:e},d=this._private={container:u.container,ready:!1,initrender:!1,options:u,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:e.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:c(!0,u.zoomingEnabled),userZoomingEnabled:c(!0,u.userZoomingEnabled),panningEnabled:c(!0,u.panningEnabled),userPanningEnabled:c(!0,u.userPanningEnabled),boxSelectionEnabled:c(!1,u.boxSelectionEnabled),autolock:c(!1,u.autolock,u.autolockNodes),autoungrabify:c(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:c(!1,u.autounselectify),styleEnabled:void 0===u.styleEnabled?l:u.styleEnabled,zoom:e.is.number(u.zoom)?u.zoom:1,pan:{x:e.is.plainObject(u.pan)&&e.is.number(u.pan.x)?u.pan.x:0,y:e.is.plainObject(u.pan)&&e.is.number(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},h=u.selectionType;void 0===h||"additive"!==h&&"single"!==h?d.selectionType="single":d.selectionType=h,e.is.number(u.minZoom)&&e.is.number(u.maxZoom)&&u.minZoom<u.maxZoom?(d.minZoom=u.minZoom,d.maxZoom=u.maxZoom):e.is.number(u.minZoom)&&void 0===u.maxZoom?d.minZoom=u.minZoom:e.is.number(u.maxZoom)&&void 0===u.minZoom&&(d.maxZoom=u.maxZoom);var p=function(t){for(var r=!1,n=0;n<f.length;n++){var i=f[n];if(e.is.promise(i)){r=!0;break}}return r?e.Promise.all(f).then(t):void t(f)},f=[u.style,u.elements];p(function(t){var r=t[0],n=t[1];d.styleEnabled&&i.setStyle(r),i.initRenderer(e.util.extend({hideEdgesOnViewport:u.hideEdgesOnViewport,hideLabelsOnViewport:u.hideLabelsOnViewport,textureOnViewport:u.textureOnViewport,wheelSensitivity:e.is.number(u.wheelSensitivity)&&u.wheelSensitivity>0?u.wheelSensitivity:1,motionBlur:void 0===u.motionBlur?!0:u.motionBlur,motionBlurOpacity:void 0===u.motionBlurOpacity?.05:u.motionBlurOpacity,pixelRatio:e.is.number(u.pixelRatio)&&u.pixelRatio>0?u.pixelRatio:"auto"===u.pixelRatio?void 0:1,desktopTapThreshold:void 0===u.desktopTapThreshold?4:u.desktopTapThreshold,touchTapThreshold:void 0===u.touchTapThreshold?8:u.touchTapThreshold},u.renderer)),u.initrender&&(i.on("initrender",u.initrender),i.on("initrender",function(){i._private.initrender=!0})),i.load(n,function(){i.startAnimationLoop(),i._private.ready=!0,e.is.fn(u.ready)&&i.on("ready",u.ready);for(var t=0;t<s.length;t++){var r=s[t];i.on("ready",r)}o&&(o.readies=[]),i.trigger("ready")},u.done)})},e.corefn=e.Core.prototype,e.fn.core({isReady:function(){return this._private.ready},ready:function(e){this.isReady()?this.trigger("ready",[],e):this.on("ready",e)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var e=this.container(),t=e.parentNode;if(t)try{t.removeChild(e)}catch(r){}return this},getElementById:function(t){var r=this._private.id2index[t];return void 0!==r?this._private.elements[r]:new e.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){for(var t=this._private.elements,r=this._private.id2index,n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=r[a],s=void 0!==o;s||(o=t.length,t.push(i),r[a]=o,i._private.index=o)}return this},removeFromPool:function(e){for(var t=this._private.elements,r=this._private.id2index,n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=r[a],s=void 0!==o;if(s){this._private.id2index[a]=void 0,t.splice(o,1);for(var l=o;l<t.length;l++){var u=t[l]._private.data.id;r[u]--,t[l]._private.index--}}}},container:function(){return this._private.container},options:function(){return e.util.copy(this._private.options)},json:function(e){var t={},r=this;return t.elements={},r.elements().each(function(e,r){var n=r.group();t.elements[n]||(t.elements[n]=[]),t.elements[n].push(r.json())}),this._private.styleEnabled&&(t.style=r.style().json()),t.zoomingEnabled=r._private.zoomingEnabled,t.userZoomingEnabled=r._private.userZoomingEnabled,t.zoom=r._private.zoom,t.minZoom=r._private.minZoom,t.maxZoom=r._private.maxZoom,t.panningEnabled=r._private.panningEnabled,t.userPanningEnabled=r._private.userPanningEnabled,t.pan=r._private.pan,t.boxSelectionEnabled=r._private.boxSelectionEnabled,t.layout=r._private.options.layout,t.renderer=r._private.options.renderer,t.hideEdgesOnViewport=r._private.options.hideEdgesOnViewport,t.hideLabelsOnViewport=r._private.options.hideLabelsOnViewport,t.textureOnViewport=r._private.options.textureOnViewport,t.wheelSensitivity=r._private.options.wheelSensitivity,t.motionBlur=r._private.options.motionBlur,t},defer:function(e){var t=this,r=t._private,n=r.deferredExecQueue;n.push(e),r.deferredTimeout||(r.deferredTimeout=setTimeout(function(){for(;n.length>0;)n.shift()();r.deferredTimeout=null},0))}})}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";function r(e){var t=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?r:e;setTimeout(t,9,e)}e.fn.core({add:function(t){var r,n=this;if(e.is.elementOrCollection(t)){var i=t;if(i._private.cy===n)r=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}r=new e.Collection(n,a)}}else if(e.is.array(t)){var a=t;r=new e.Collection(n,a)}else if(e.is.plainObject(t)&&(e.is.array(t.nodes)||e.is.array(t.edges))){for(var l=t,a=[],u=["nodes","edges"],o=0,c=u.length;c>o;o++){var d=u[o],h=l[d];if(e.is.array(h))for(var p=0,f=h.length;f>p;p++){var v=h[p];v.group=d,a.push(v)}}r=new e.Collection(n,a)}else{var v=t;r=new e.Element(n,v).collection()}return r},remove:function(t){if(e.is.elementOrCollection(t))t=t;else if(e.is.string(t)){var r=t;t=this.$(r)}return t.remove()},load:function(n,i,a){function o(){s.one("layoutready",function(e){s.notifications(!0),s.trigger(e),s.notify({type:"load",collection:s.elements()}),s.one("load",i),s.trigger("load")}).one("layoutstop",function(){s.one("done",a),s.trigger("done")});var t=e.util.extend({},s._private.options.layout);t.eles=s.$(),s.layout(t)}var s=this;s.notifications(!1);var l=s.elements();return l.length>0&&l.remove(),null!=n&&(e.is.plainObject(n)||e.is.array(n))&&s.add(n),t?r(o):o(),this}})}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.fn.core({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},startAnimationLoop:function(){function r(){e.util.requestAnimationFrame(function(e){n(e),r()})}function n(t){function r(r,n){var l=r._private.animation.current,u=r._private.animation.queue,c=!1;if(0===l.length){var d=u.length>0?u.shift():null;d&&(d.callTime=t,l.push(d))}for(var h=[],p=l.length-1;p>=0;p--){var f=l[p];f.started||(i(r,f),s=!0),a(r,f,t,n),f.done&&(h.push(f),l.splice(p,1)),c=!0}for(var p=0;p<h.length;p++){var f=h[p],v=f.params.complete;e.is.fn(v)&&v.apply(r,[t])}return n||0!==l.length||0!==u.length||o.push(r),c}t=+new Date;for(var n=l._private.aniEles,o=[],s=!1,u=0;u<n.length;u++){var c=n[u];r(c)}var d=r(l,!0);if(n.length>0||d){var h;if(n.length>0){var p=n.updateCompoundBounds();h=p.length>0?n.add(p):n}l.notify({type:s?"style":"draw",collection:h})}n.unmerge(o)}function i(t,r){var n=e.is.core(t),i=!n,a=t,o=l._private.style;if(i)var s=a._private.position,u={x:s.x,y:s.y},c=o.getValueStyle(a);if(n)var d=l._private.pan,h={x:d.x,y:d.y},p=l._private.zoom;r.started=!0,r.startTime=Date.now(),r.startPosition=u,r.startStyle=c,r.startPan=h,r.startZoom=p}function a(t,r,n,i){var a,u=l._private.style,c=r.properties,d=r.params,h=r.startTime,p=!i;if(a=0===r.duration?1:Math.min(1,(n-h)/r.duration),0>a?a=0:a>1&&(a=1),null==c.delay){var f=r.startPosition,v=c.position,g=t._private.position;v&&p&&(o(f.x,v.x)&&(g.x=s(f.x,v.x,a)),o(f.y,v.y)&&(g.y=s(f.y,v.y,a)));var y=r.startPan,m=c.pan,b=t._private.pan,x=null!=m&&i;x&&(o(y.x,m.x)&&(b.x=s(y.x,m.x,a)),o(y.y,m.y)&&(b.y=s(y.y,m.y,a)),t.trigger("pan"));var w=r.startZoom,_=c.zoom,E=null!=_&&i;E&&(o(w,_)&&(t._private.zoom=s(w,_,a)),t.trigger("zoom")),(x||E)&&t.trigger("viewport");var S=c.style||c.css;if(S&&p)for(var D=0;D<S.length;D++){var T=S[D].name,k=S[D],C=k,P=r.startStyle[T],M=s(P,C,a);u.overrideBypass(t,T,M)}}return e.is.fn(d.step)&&d.step.apply(t,[n]),a>=1&&(r.done=!0),a}function o(t,r){return null==t||null==r?!1:e.is.number(t)&&e.is.number(r)?!0:t&&r?!0:!1}function s(t,r,n){0>n?n=0:n>1&&(n=1);var i,a;if(i=null!=t.pxValue||null!=t.value?null!=t.pxValue?t.pxValue:t.value:t,a=null!=r.pxValue||null!=r.value?null!=r.pxValue?r.pxValue:r.value:r,e.is.number(i)&&e.is.number(a))return i+(a-i)*n;if(e.is.number(i[0])&&e.is.number(a[0])){var o=i,s=a,l=function(e,t){var r=t-e,i=e;return Math.round(n*r+i)},u=l(o[0],s[0]),c=l(o[1],s[1]),d=l(o[2],s[2]);return[u,c,d]}return void 0}var l=this;l.styleEnabled()&&t&&r()}})}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.fn.core({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:e.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:e.define.removeData({field:"scratch",triggerEvent:!1})})}(cytoscape),function(e){"use strict";e.fn.core({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.corefn)}(cytoscape),function(e){"use strict";e.fn.core({png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}}),e.corefn.jpeg=e.corefn.jpg}(cytoscape),function(e){"use strict";e.fn.core({layout:function(t){var r;return null==t&&(t=e.util.extend({},this._private.options.layout),t.eles=this.$()),r=this.initLayout(t),r.run(),this},makeLayout:function(e){return this.initLayout(e)},initLayout:function(t){if(null==t)return void e.util.error("Layout options must be specified to make a layout");if(null==t.name)return void e.util.error("A `name` must be specified to make a layout");var r=t.name,n=e.extension("layout",r);if(null==n)return void e.util.error("Can not apply layout: No such layout `"+r+"` found; did you include its JS file?");t.eles=null!=t.eles?t.eles:this.$(),e.is.string(t.eles)&&(t.eles=this.$(t.eles));var i=new n(e.util.extend({},t,{cy:this}));return e.is.plainObject(i._private)||(i._private={}),i._private.cy=this,i._private.listeners=[],i}}),e.corefn.createLayout=e.corefn.makeLayout}(cytoscape),function(e){"use strict";e.fn.core({notify:function(e){if(this._private.batchingNotify){var t=this._private.batchNotifyEles,r=this._private.batchNotifyTypes;if(e.collection)for(var n=0;n<e.collection.length;n++){var i=e.collection[n];t.ids[i._private.id]||t.push(i)}return void(r.ids[e.type]||r.push(e.type))}if(this._private.notificationsEnabled){var a=this.renderer();a.notify(e)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:void(t.notificationsEnabled=e?!0:!1)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},startBatch:function(){var e=this._private;return e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=[],e.batchNotifyEles=[],e.batchNotifyTypes=[],e.batchStyleEles.ids={},e.batchNotifyEles.ids={},e.batchNotifyTypes.ids={},this},endBatch:function(){var t=this._private;return t.batchingStyle=!1,new e.Collection(this,t.batchStyleEles).updateStyle(),t.batchingNotify=!1,this.notify({type:t.batchNotifyTypes,collection:t.batchNotifyEles}),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var r in e){var n=e[r],i=t.getElementById(r);i.data(n)}})}})}(cytoscape),function(e){"use strict";e.fn.core({renderTo:function(e,t,r,n){var i=this._private.renderer;return i.renderTo(e,t,r,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(t){var r=this,n=e.extension("renderer",t.name);return null==n?void e.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",t.name):void(this._private.renderer=new n(e.util.extend({},t,{cy:r,style:r._private.style})))},triggerOnRender:function(){for(var e=this._private.onRenders,t=0;t<e.length;t++){var r=e[t];r()}return this},onRender:function(e){return this._private.onRenders.push(e),this},offRender:function(e){var t=this._private.onRenders;if(null==e)return this._private.onRenders=[],this;for(var r=0;r<t.length;r++){var n=t[r];if(e===n){t.splice(r,1);break}}return this}})}(cytoscape),function(e){"use strict";e.fn.core({collection:function(t){return e.is.string(t)?this.$(t):e.is.elementOrCollection(t)?t.collection():e.is.array(t)?new e.Collection(this,t):new e.Collection(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(t){var r=new e.Collection(this,this._private.elements);return t?r.filter(t):r}}),e.corefn.elements=e.corefn.filter=e.corefn.$}(cytoscape),function(e){"use strict";e.fn.core({style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(t){var r=this._private;return e.is.stylesheet(t)?r.style=t.generateStyle(this):e.is.array(t)?r.style=e.style.fromJson(this,t):e.is.string(t)?r.style=e.style.fromString(this,t):r.style=new e.Style(this),r.style}})}(cytoscape),function(e){"use strict";e.fn.core({autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=e?!0:!1,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=e?!0:!1,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=e?!0:!1,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=e?!0:!1,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=e?!0:!1,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=e?!0:!1,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=e?!0:!1,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=e?!0:!1,this)},pan:function(){var t,r,n,i,a,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(e.is.string(o[0]))return t=o[0],s[t];if(e.is.plainObject(o[0])){if(!this._private.panningEnabled)return this;n=o[0],i=n.x,a=n.y,e.is.number(i)&&(s.x=i),e.is.number(a)&&(s.y=a),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[0],r=o[1],"x"!==t&&"y"!==t||!e.is.number(r)||(s[t]=r),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(t){var r,n,i,a,o,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:e.is.plainObject(s[0])&&(i=s[0],a=i.x,o=i.y,e.is.number(a)&&(l.x+=a),e.is.number(o)&&(l.y+=o),this.trigger("pan viewport"));break;case 2:r=s[0],n=s[1],"x"!==r&&"y"!==r||!e.is.number(n)||(l[r]+=n),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(t,r){if(e.is.number(t)&&void 0===r&&(r=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n;if(e.is.string(t)){var i=t;t=this.$(i)}else if(e.is.boundingBox(t)){var a=t;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else e.is.elementOrCollection(t)||(t=this.elements());n=n||t.boundingBox();var o,s=this.width(),l=this.height();if(r=e.is.number(r)?r:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){o=Math.min((s-2*r)/n.w,(l-2*r)/n.h),o=o>this._private.maxZoom?this._private.maxZoom:o,o=o<this._private.minZoom?this._private.minZoom:o;var u={x:(s-o*(n.x1+n.x2))/2,y:(l-o*(n.y1+n.y2))/2};return{zoom:o,pan:u}}}},minZoom:function(t){return void 0===t?this._private.minZoom:(e.is.number(t)&&(this._private.minZoom=t),this)},maxZoom:function(t){return void 0===t?this._private.maxZoom:(e.is.number(t)&&(this._private.maxZoom=t),this)},zoom:function(t){var r,n;if(void 0===t)return this._private.zoom;if(e.is.number(t))n=t;else if(e.is.plainObject(t)){if(n=t.level,t.position){var i=t.position,a=this._private.pan,o=this._private.zoom;r={x:i.x*o+a.x,y:i.y*o+a.y}}else t.renderedPosition&&(r=t.renderedPosition);if(r&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!e.is.number(n)||r&&(!e.is.number(r.x)||!e.is.number(r.y)))return this;if(n=n>this._private.maxZoom?this._private.maxZoom:n,n=n<this._private.minZoom?this._private.minZoom:n,r){var s=this._private.pan,l=this._private.zoom,u=n,c={x:-u/l*(r.x-s.x)+r.x,y:-u/l*(r.y-s.y)+r.y};this._private.zoom=n,this._private.pan=c;var d=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(d?" pan ":"")+" viewport ")}else this._private.zoom=n,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(t){var r=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!t)return this;if(e.is.number(t.zoom)||(n=!1),e.is.plainObject(t.pan)||(i=!1),!n&&!i)return this;if(n){var l=t.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var u=t.pan;e.is.number(u.x)&&(r.pan.x=u.x,s=!1),e.is.number(u.y)&&(r.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.trigger(a.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(e.is.string(t)){var n=t;t=this.elements(n)}else e.is.elementOrCollection(t)||(t=this.elements());var i=t.boundingBox(),a=this.width(),o=this.height();r=void 0===r?this._private.zoom:r;var s={x:(a-r*(i.x1+i.x2))/2,y:(o-r*(i.y1+i.y2))/2};return s}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},width:function(){var e=this._private.container;return e?e.clientWidth:1},height:function(){var e=this._private.container;return e?e.clientHeight:1},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}}),e.corefn.centre=e.corefn.center,e.corefn.autolockNodes=e.corefn.autolock,e.corefn.autoungrabifyNodes=e.corefn.autoungrabify}(cytoscape),function(e){"use strict";e.fn.collection=e.fn.eles=function(t,r){for(var n in t){var i=t[n];e.Collection.prototype[n]=i}};var t={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(t,r,n){var i=e.is.element(r)?r._private:r,a=i.group,o=null!=n?n:this.prefix[a]+this.id[a];if(t.getElementById(o).empty())this.id[a]++;else for(;!t.getElementById(o).empty();)o=this.prefix[a]+ ++this.id[a];return o}};e.Element=function(t,r,n){if(!(this instanceof e.Element))return new e.Element(t,r,n);var i=this;if(n=void 0===n||n?!0:!1,void 0===t||void 0===r||!e.is.core(t))return void e.util.error("An element must have a core reference and parameters set");if("nodes"!==r.group&&"edges"!==r.group)return void e.util.error("An element must be of type `nodes` or `edges`; you specified `"+r.group+"`");if(this.length=1,this[0]=this,this._private={cy:t,single:!0,data:r.data||{},position:r.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:r.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:r.selected?!0:!1,selectable:void 0===r.selectable?!0:r.selectable?!0:!1,locked:r.locked?!0:!1,grabbed:!1,grabbable:void 0===r.grabbable?!0:r.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[]},r.renderedPosition){var a=r.renderedPosition,o=t.pan(),s=t.zoom();this._private.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}if(e.is.string(r.classes))for(var l=r.classes.split(/\s+/),u=0,c=l.length;c>u;u++){var d=l[u];d&&""!==d&&(i._private.classes[d]=!0)}r.css&&t.style().applyBypass(this,r.css),(void 0===n||n)&&this.restore()},e.Collection=function(r,n,i){if(!(this instanceof e.Collection))return new e.Collection(r,n);if(void 0===r||!e.is.core(r))return void e.util.error("A collection must have a reference to the core");var a={},o={},s=!1;if(n){if(n.length>0&&e.is.plainObject(n[0])&&!e.is.element(n[0])){s=!0;for(var l=[],u={},c=0,d=n.length;d>c;c++){var h=n[c];null==h.data&&(h.data={});var p=h.data;if(null==p.id)p.id=t.generate(r,h);else if(0!==r.getElementById(p.id).length||u[p.id])continue;var f=new e.Element(r,h,!1);l.push(f),u[p.id]=!0}n=l}}else n=[];this.length=0;for(var c=0,d=n.length;d>c;c++){var v=n[c];if(v){var g=v._private.data.id;(!i||i.unique&&!a[g])&&(a[g]=v,o[g]=this.length,this[this.length]=v,this.length++)}}this._private={cy:r,ids:a,indexes:o},s&&this.restore()},e.elefn=e.elesfn=e.Element.prototype=e.Collection.prototype,e.elesfn.cy=function(){return this._private.cy},e.elesfn.element=function(){return this[0]},e.elesfn.collection=function(){return e.is.collection(this)?this:new e.Collection(this._private.cy,[this])},e.elesfn.unique=function(){return new e.Collection(this._private.cy,this,{unique:!0})},e.elesfn.getElementById=function(t){var r=this._private.cy,n=this._private.ids[t];return n?n:e.Collection(r)},e.elesfn.json=function(){var t=this.element();if(null==t)return void 0;var r=t._private,n=e.util.copy({data:r.data,position:r.position,group:r.group,bypass:r.bypass,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbed:r.grabbed,grabbable:r.grabbable,classes:""}),i=[];for(var a in r.classes)r.classes[a]&&i.push(a);for(var o=0;o<i.length;o++){var a=i[o];n.classes+=a+(o<i.length-1?" ":"")}return n},e.elesfn.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e},e.elesfn.clone=function(){for(var t=this.cy(),r=[],n=0;n<this.length;n++){var i=this[n],a=i.json(),o=new e.Element(t,a,!1);r.push(o)}return new e.Collection(t,r)},e.elesfn.copy=e.elesfn.clone,e.elesfn.restore=function(r){var n=this,i=[],a=n.cy();void 0===r&&(r=!0);for(var o=[],s=[],l=[],u=0,c=0,d=0,h=n.length;h>d;d++){var p=n[d];p.isNode()?(s.push(p),u++):(l.push(p),c++)}o=s.concat(l);for(var d=0,h=o.length;h>d;d++){var p=o[d];if(p.removed()){var f=p._private,v=f.data;if(void 0===v.id)v.id=t.generate(a,p);else if(e.is.number(v.id))v.id=""+v.id;else{if(e.is.emptyString(v.id)||!e.is.string(v.id)){e.util.error("Can not create element with invalid string ID `"+v.id+"`");continue}if(0!==a.getElementById(v.id).length){e.util.error("Can not create second element with ID `"+v.id+"`");continue}}var g=v.id;if(p.isNode()){var y=p,m=f.position;null==m.x&&(m.x=0),null==m.y&&(m.y=0)}if(p.isEdge()){for(var b=p,x=["source","target"],w=x.length,_=!1,E=0;w>E;E++){var S=x[E],D=v[S];e.is.number(D)&&(D=v[S]=""+v[S]),null==D||""===D?(e.util.error("Can not create edge `"+g+"` with unspecified "+S),_=!0):a.getElementById(D).empty()&&(e.util.error("Can not create edge `"+g+"` with nonexistant "+S+" `"+D+"`"),_=!0)}if(_)continue;var T=a.getElementById(v.source),k=a.getElementById(v.target);T._private.edges.push(b),k._private.edges.push(b),b._private.source=T,b._private.target=k}f.ids={},f.ids[g]=p,f.removed=!1,a.addToPool(p),i.push(p)}}for(var d=0;u>d;d++){var y=o[d],v=y._private.data;e.is.number(v.parent)&&(v.parent=""+v.parent);var C=v.parent,P=null!=C;if(P){var M=a.getElementById(C);if(M.empty())v.parent=void 0;else{for(var B=!1,N=M;!N.empty();){if(y.same(N)){B=!0,v.parent=void 0;break}N=N.parent()}B||(M[0]._private.children.push(y),y._private.parent=M[0],a._private.hasCompoundNodes=!0)}}}if(i=new e.Collection(a,i),i.length>0){var I=i.add(i.connectedNodes()).add(i.parent());I.updateStyle(r),r?i.rtrigger("add"):i.trigger("add")}return n},e.elesfn.removed=function(){var e=this[0];return e&&e._private.removed},e.elesfn.inside=function(){var e=this[0];return e&&!e._private.removed},e.elesfn.remove=function(t){function r(e){for(var t=e._private.edges,r=0;r<t.length;r++)i(t[r])}function n(e){for(var t=e._private.children,r=0;r<t.length;r++)i(t[r])}function i(e){var t=c[e.id()];t||(c[e.id()]=!0,e.isNode()?(u.push(e),r(e),n(e)):u.unshift(e))}function a(e,t){
for(var r=e._private.edges,n=0;n<r.length;n++){var i=r[n];if(t===i){r.splice(n,1);break}}}function o(e,t){t=t[0],e=e[0];for(var r=e._private.children,n=0;n<r.length;n++)if(r[n][0]===t[0]){r.splice(n,1);break}}var s=this,l=[],u=[],c={},d=s._private.cy;void 0===t&&(t=!0);for(var h=0,p=s.length;p>h;h++){var f=s[h];i(f)}for(var h=0;h<u.length;h++){var f=u[h];if(f._private.removed=!0,d.removeFromPool(f),l.push(f),f.isEdge()){var v=f.source()[0],g=f.target()[0];a(v,f),a(g,f)}else{var y=f.parent();0!==y.length&&o(y,f)}}var m=d._private.elements;d._private.hasCompoundNodes=!1;for(var h=0;h<m.length;h++){var f=m[h];if(f.isParent()){d._private.hasCompoundNodes=!0;break}}var b=new e.Collection(this.cy(),l);b.size()>0&&(t&&this.cy().notify({type:"remove",collection:b}),b.trigger("remove"));for(var x={},h=0;h<u.length;h++){var f=u[h],w="nodes"===f._private.group,_=f._private.data.parent;if(w&&void 0!==_&&!x[_]){x[_]=!0;var y=d.getElementById(_);y&&0!==y.length&&!y._private.removed&&0===y.children().length&&y.updateStyle()}}return this},e.elesfn.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var r=e.source,n=e.target,i=t.getElementById(r).length>0,a=t.getElementById(n).length>0;if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s];"edges"===l.group&&(i&&(l.data.source=r),a&&(l.data.target=n))}return t.add(o)}}else if(void 0!==e.parent){var u=e.parent,c=null===u||t.getElementById(u).length>0;if(c){var o=this.jsons(),d=this.descendants(),h=d.merge(d.add(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var l=o[s];"nodes"===l.group&&(l.data.parent=null===u?void 0:u)}}return t.add(o).merge(h.restore())}return this}}(cytoscape),function(e){"use strict";var t=e.is,r=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(r,n,i){var a,o,s;t.plainObject(r)&&!t.elementOrCollection(r)&&(a=r,r=a.roots,n=a.visit,i=a.directed,o=a.std,s=a.thisArg),i=2!==arguments.length||t.fn(n)?i:n,n=t.fn(n)?n:function(){};for(var l,u=this._private.cy,c=r=t.string(r)?this.filter(r):r,d=[],h=[],p={},f={},v={},g=0,y=this.nodes(),m=this.edges(),b=0;b<c.length;b++)c[b].isNode()&&(d.unshift(c[b]),e.bfs&&(v[c[b].id()]=!0,h.push(c[b])),f[c[b].id()]=0);for(;0!==d.length;){var c=e.bfs?d.shift():d.pop();if(e.dfs){if(v[c.id()])continue;v[c.id()]=!0,h.push(c)}var x,w=f[c.id()],_=p[c.id()],E=null==_?void 0:_.connectedNodes().not(c)[0];if(x=o?n.call(s,c,_,E,g++,w):n.call(c,g++,w,c,_,E),x===!0){l=c;break}if(x===!1)break;for(var S=c.connectedEdges(i?function(){return this.data("source")===c.id()}:void 0).intersect(m),b=0;b<S.length;b++){var D=S[b],T=D.connectedNodes(function(){return this.id()!==c.id()}).intersect(y);0===T.length||v[T.id()]||(T=T[0],d.push(T),e.bfs&&(v[T.id()]=!0,h.push(T)),p[T.id()]=D,f[T.id()]=f[c.id()]+1)}}for(var k=[],b=0;b<h.length;b++){var C=h[b],P=p[C.id()];P&&k.push(P),k.push(C)}return{path:u.collection(k,{unique:!0}),found:u.collection(l)}}};e.fn.eles({breadthFirstSearch:r({bfs:!0}),depthFirstSearch:r({dfs:!0}),kruskal:function(t){function r(e){for(var t=0;t<i.length;t++){var r=i[t];if(r.anySame(e))return{eles:r,index:t}}}t=e.is.fn(t)?t:function(){return 1};for(var n=new e.Collection(this._private.cy,[]),i=[],a=this.nodes(),o=0;o<a.length;o++)i.push(a[o].collection());for(var s=this.edges(),l=s.toArray().sort(function(e,r){var n=t.call(e,e),i=t.call(r,r);return n-i}),o=0;o<l.length;o++){var u=l[o],c=u.source()[0],d=u.target()[0],h=r(c),p=r(d);h.index!==p.index&&(n=n.add(u),i[h.index]=h.eles.add(p.eles),i.splice(p.index,1))}return a.add(n)},dijkstra:function(t,r,n){var i;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(i=t,t=i.root,r=i.weight,n=i.directed);var a=this._private.cy;r=e.is.fn(r)?r:function(){return 1};for(var o=e.is.string(t)?this.filter(t)[0]:t[0],s={},l={},u={},c=this.edges().filter(function(){return!this.isLoop()}),d=this.nodes(),h=[],p=0;p<d.length;p++)s[d[p].id()]=d[p].same(o)?0:1/0,h.push(d[p]);var f=function(e){return s[e.id()]};h=new e.Collection(a,h);for(var v=e.Minheap(a,h,f),g=function(e,t){for(var i,a=(n?e.edgesTo(t):e.edgesWith(t)).intersect(c),o=1/0,s=0;s<a.length;s++){var l=a[s],u=r.apply(l,[l]);(o>u||!i)&&(o=u,i=l)}return{edge:i,dist:o}};v.size()>0;){var y=v.pop(),m=y.value,b=y.id,x=a.getElementById(b);if(u[b]=m,m===Math.Infinite)break;for(var w=x.neighborhood().intersect(d),p=0;p<w.length;p++){var _=w[p],E=_.id(),S=g(x,_),D=m+S.dist;D<v.getValueById(E)&&(v.edit(E,D),l[E]={node:x,edge:S.edge})}}return{distanceTo:function(t){var r=e.is.string(t)?d.filter(t)[0]:t[0];return u[r.id()]},pathTo:function(t){var r=e.is.string(t)?d.filter(t)[0]:t[0],n=[],i=r;if(r.length>0)for(n.unshift(r);l[i.id()];){var o=l[i.id()];n.unshift(o.edge),n.unshift(o.node),i=o.node}return new e.Collection(a,n)}}}}),e.elesfn.bfs=e.elesfn.breadthFirstSearch,e.elesfn.dfs=e.elesfn.depthFirstSearch,e.elesfn.stdBfs=e.elesfn.stdBreadthFirstSearch,e.elesfn.stdDfs=e.elesfn.stdDepthFirstSearch}(cytoscape),function(e){"use strict";e.fn.eles({aStar:function(t){t=t||{};var r=function(e,t,n,a){if(e==t)return a.push(i.getElementById(t)),a;if(t in n){var o=n[t],s=p[t];return a.push(i.getElementById(t)),a.push(i.getElementById(s)),r(e,o,n,a)}return void 0},n=function(e,t){if(0===e.length)return void 0;for(var r=0,n=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];n>a&&(n=a,r=i)}return r},i=this._private.cy;if(null==t||null==t.root)return void 0;var a=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null==t.goal)return void 0;var o=e.is.string(t.goal)?this.filter(t.goal)[0]:t.goal[0];if(null!=t.heuristic&&e.is.fn(t.heuristic))var s=t.heuristic;else var s=function(){return 0};if(null!=t.weight&&e.is.fn(t.weight))var l=t.weight;else var l=function(e){return 1};if(null!=t.directed)var u=t.directed;else var u=!1;var c=[],d=[a.id()],h={},p={},f={},v={};f[a.id()]=0,v[a.id()]=s(a);for(var g=this.edges().stdFilter(function(e){return!e.isLoop()}),y=this.nodes(),m=0;d.length>0;){var b=n(d,v),x=i.getElementById(d[b]);if(m++,x.id()==o.id()){var w=r(a.id(),o.id(),h,[]);return w.reverse(),{found:!0,distance:f[x.id()],path:new e.Collection(i,w),steps:m}}c.push(x.id()),d.splice(b,1);var _=x.connectedEdges();u&&(_=_.stdFilter(function(e){return e.data("source")===x.id()})),_=_.intersect(g);for(var E=0;E<_.length;E++){var S=_[E],D=S.connectedNodes().stdFilter(function(e){return e.id()!==x.id()}).intersect(y);if(-1==c.indexOf(D.id())){var T=f[x.id()]+l.apply(S,[S]);-1!=d.indexOf(D.id())?T<f[D.id()]&&(f[D.id()]=T,v[D.id()]=T+s(D),h[D.id()]=x.id()):(f[D.id()]=T,v[D.id()]=T+s(D),d.push(D.id()),h[D.id()]=x.id(),p[D.id()]=S.id())}}}return{found:!1,distance:void 0,path:void 0,steps:m}},floydWarshall:function(t){t=t||{};var r=this._private.cy;if(null!=t.weight&&e.is.fn(t.weight))var n=t.weight;else var n=function(e){return 1};if(null!=t.directed)var i=t.directed;else var i=!1;for(var a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l={},u=0;s>u;u++)l[o[u].id()]=u;for(var c=[],u=0;s>u;u++){for(var d=new Array(s),h=0;s>h;h++)u==h?d[h]=0:d[h]=1/0;c.push(d)}var p=[],f=[],v=function(e){for(var t=0;s>t;t++){for(var r=new Array(s),n=0;s>n;n++)r[n]=void 0;e.push(r)}};v(p),v(f);for(var u=0;u<a.length;u++){var g=l[a[u].source().id()],y=l[a[u].target().id()],m=n.apply(a[u],[a[u]]);c[g][y]>m&&(c[g][y]=m,p[g][y]=y,f[g][y]=a[u])}if(!i)for(var u=0;u<a.length;u++){var g=l[a[u].target().id()],y=l[a[u].source().id()],m=n.apply(a[u],[a[u]]);c[g][y]>m&&(c[g][y]=m,p[g][y]=y,f[g][y]=a[u])}for(var b=0;s>b;b++)for(var u=0;s>u;u++)for(var h=0;s>h;h++)c[u][b]+c[b][h]<c[u][h]&&(c[u][h]=c[u][b]+c[b][h],p[u][h]=p[u][b]);for(var x=[],u=0;s>u;u++)x.push(o[u].id());var w={distance:function(t,n){if(e.is.string(t))var i=r.filter(t)[0].id();else var i=t.id();if(e.is.string(n))var a=r.filter(n)[0].id();else var a=n.id();return c[l[i]][l[a]]},path:function(t,n){var i=function(e,t,n,i,a){if(e===t)return r.getElementById(i[e]);if(void 0===n[e][t])return void 0;for(var o=[r.getElementById(i[e])],s=e;e!==t;){s=e,e=n[e][t];var l=a[s][e];o.push(l),o.push(r.getElementById(i[e]))}return o};if(e.is.string(t))var a=r.filter(t)[0].id();else var a=t.id();if(e.is.string(n))var o=r.filter(n)[0].id();else var o=n.id();var s=i(l[a],l[o],p,x,f);return new e.Collection(r,s)}};return w},bellmanFord:function(t){if(t=t||{},null!=t.weight&&e.is.fn(t.weight))var r=t.weight;else var r=function(e){return 1};if(null!=t.directed)var n=t.directed;else var n=!1;if(null==t.root)return void e.util.error("options.root required");if(e.is.string(t.root))var i=this.filter(t.root)[0];else var i=t.root[0];for(var a=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u={},c=0;l>c;c++)u[s[c].id()]=c;for(var d=[],h=[],p=[],c=0;l>c;c++)s[c].id()===i.id()?d[c]=0:d[c]=1/0,h[c]=void 0;for(var f=!1,c=1;l>c;c++){f=!1;for(var v=0;v<o.length;v++){var g=u[o[v].source().id()],y=u[o[v].target().id()],m=r.apply(o[v],[o[v]]),b=d[g]+m;if(b<d[y]&&(d[y]=b,h[y]=g,p[y]=o[v],f=!0),!n){var b=d[y]+m;b<d[g]&&(d[g]=b,h[g]=y,p[g]=o[v],f=!0)}}if(!f)break}if(f)for(var v=0;v<o.length;v++){var g=u[o[v].source().id()],y=u[o[v].target().id()],m=r.apply(o[v],[o[v]]);if(d[g]+m<d[y])return e.util.error("Error: graph contains a negative weigth cycle!"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var x=[],c=0;l>c;c++)x.push(s[c].id());var w={distanceTo:function(t){if(e.is.string(t))var r=a.filter(t)[0].id();else var r=t.id();return d[u[r]]},pathTo:function(t){var r=function(e,t,r,n,i,o){for(;;){if(i.push(a.getElementById(n[r])),i.push(o[r]),t===r)return i;var s=e[r];if("undefined"==typeof s)return void 0;r=s}};if(e.is.string(t))var n=a.filter(t)[0].id();else var n=t.id();var o=[],s=r(h,u[i.id()],u[n],x,o,p);return null!=s&&s.reverse(),new e.Collection(a,s)},hasNegativeWeightCycle:!1};return w},kargerStein:function(t){t=t||{};var r=function(e,t,r){for(var n=r[e],i=n[1],a=n[2],o=t[i],s=t[a],l=r.filter(function(e){return t[e[1]]===o&&t[e[2]]===s?!1:t[e[1]]===s&&t[e[2]]===o?!1:!0}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=o):c[2]===s&&(l[u]=c.slice(0),l[u][2]=o)}for(var u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l},n=function(e,t,i,a){if(a>=i)return t;var o=Math.floor(Math.random()*t.length),s=r(o,e,t);return n(e,s,i-1,a)},i=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l=a.length,u=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),c=Math.floor(s/Math.sqrt(2));if(2>s)return void e.util.error("At least 2 nodes are required for KargerSteing algorithm!");for(var d={},h=0;s>h;h++)d[o[h].id()]=h;for(var p=[],h=0;l>h;h++){var f=a[h];p.push([h,d[f.source().id()],d[f.target().id()]])}for(var v,g=1/0,y=[],h=0;s>h;h++)y.push(h);for(var m=0;u>=m;m++){var b=y.slice(0),x=n(b,p,s,c),w=b.slice(0),_=n(b,x,c,2),E=n(w,x,c,2);_.length<=E.length&&_.length<g?(g=_.length,v=[_,b]):E.length<=_.length&&E.length<g&&(g=E.length,v=[E,w])}for(var S=v[0].map(function(e){return a[e[0]]}),D=[],T=[],k=v[1][0],h=0;h<v[1].length;h++){var C=v[1][h];C===k?D.push(o[h]):T.push(o[h])}var P={cut:new e.Collection(i,S),partition1:new e.Collection(i,D),partition2:new e.Collection(i,T)};return P},pageRank:function(t){t=t||{};var r=function(e){for(var t=e.length,r=0,n=0;t>n;n++)r+=e[n];for(var n=0;t>n;n++)e[n]=e[n]/r};if(null!=t&&null!=t.dampingFactor)var n=t.dampingFactor;else var n=.8;if(null!=t&&null!=t.precision)var i=t.precision;else var i=1e-6;if(null!=t&&null!=t.iterations)var a=t.iterations;else var a=200;if(null!=t&&null!=t.weight&&e.is.fn(t.weight))var o=t.weight;else var o=function(e){return 1};for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,d=l.length,h={},p=0;c>p;p++)h[u[p].id()]=p;for(var f=[],v=[],g=(1-n)/c,p=0;c>p;p++){for(var y=[],m=0;c>m;m++)y.push(0);f.push(y),v.push(0)}for(var p=0;d>p;p++){var b=l[p],x=h[b.source().id()],w=h[b.target().id()],_=o.apply(b,[b]);f[w][x]+=_,v[x]+=_}for(var E=1/c+g,m=0;c>m;m++)if(0===v[m])for(var p=0;c>p;p++)f[p][m]=E;else for(var p=0;c>p;p++)f[p][m]=f[p][m]/v[m]+g;for(var S,D=[],T=[],p=0;c>p;p++)D.push(1),T.push(0);for(var k=0;a>k;k++){for(var C=T.slice(0),p=0;c>p;p++)for(var m=0;c>m;m++)C[p]+=f[p][m]*D[m];r(C),S=D,D=C;for(var P=0,p=0;c>p;p++)P+=Math.pow(S[p]-D[p],2);if(i>P)break}var M={rank:function(t){if(e.is.string(t))var r=s.filter(t)[0].id();else var r=t.id();return D[h[r]]}};return M},degreeCentralityNormalized:function(t){if(t=t||{},null!=t.directed)var r=t.directed;else var r=!1;var n=this.nodes(),i=n.length;if(r){for(var a={},o={},s=0,l=0,u=0;i>u;u++){var c=n[u],d=this.degreeCentrality(e.util.extend({},t,{root:c}));s<d.indegree&&(s=d.indegree),l<d.outdegree&&(l=d.outdegree),a[c.id()]=d.indegree,o[c.id()]=d.outdegree}return{indegree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return a[t]/s},outdegree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return o[t]/l}}}for(var h={},p=0,u=0;i>u;u++){var c=n[u],d=this.degreeCentrality(e.util.extend({},t,{root:c}));p<d.degree&&(p=d.degree),h[c.id()]=d.degree}return{degree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return h[t]/p}}},degreeCentrality:function(t){t=t||{};var r=this;if(null==t||null==t.root)return void 0;var n=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null!=t.weight&&e.is.fn(t.weight))var i=t.weight;else var i=function(e){return 1};if(null!=t.directed)var a=t.directed;else var a=!1;if(null!=t.alpha&&e.is.number(t.alpha))var o=t.alpha;else o=0;if(a){for(var s=n.connectedEdges('edge[target = "'+n.id()+'"]').intersection(r),l=n.connectedEdges('edge[source = "'+n.id()+'"]').intersection(r),u=s.length,c=l.length,d=0,h=0,p=0;p<s.length;p++){var f=s[p];d+=i.apply(f,[f])}for(var p=0;p<l.length;p++){var f=l[p];h+=i.apply(f,[f])}return{indegree:Math.pow(u,1-o)*Math.pow(d,o),outdegree:Math.pow(c,1-o)*Math.pow(h,o)}}for(var v=n.connectedEdges().intersection(r),g=v.length,y=0,p=0;p<v.length;p++){var f=v[p];y+=i.apply(f,[f])}return{degree:Math.pow(g,1-o)*Math.pow(y,o)}},closenessCentralityNormalized:function(t){t=t||{};var r=t.harmonic;void 0===r&&(r=!0);for(var n={},i=0,a=this.nodes(),o=this.floydWarshall({weight:t.weight,directed:t.directed}),s=0;s<a.length;s++){for(var l=0,u=0;u<a.length;u++)if(s!=u){var c=o.distance(a[s],a[u]);l+=r?1/c:c}r||(l=1/l),l>i&&(i=l),n[a[s].id()]=l}return{closeness:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return n[t]/i}}},closenessCentrality:function(t){if(t=t||{},null==t.root)return void e.util.error("options.root required");if(e.is.string(t.root))var r=this.filter(t.root)[0];else var r=t.root[0];if(null!=t.weight&&e.is.fn(t.weight))var n=t.weight;else var n=function(){return 1};if(null!=t.directed&&e.is.bool(t.directed))var i=t.directed;else var i=!1;var a=t.harmonic;void 0===a&&(a=!0);for(var o=this.dijkstra({root:r,weight:n,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=r.id()){var c=o.distanceTo(l[u]);s+=a?1/c:c}return a?s:1/s},betweennessCentrality:function(t){if(t=t||{},null!=t.weight&&e.is.fn(t.weight))var r=t.weight,n=!0;else var n=!1;if(null!=t.directed&&e.is.bool(t.directed))var i=t.directed;else var i=!1;for(var a=function(e,t){e.unshift(t);for(var r=0;v[e[r]]<v[e[r+1]]&&r<e.length-1;r++){var n=e[r];e[r]=e[r+1],e[r+1]=n}},o=this._private.cy,s=this.nodes(),l={},u={},c=0;c<s.length;c++)i?l[s[c].id()]=s[c].outgoers("node"):l[s[c].id()]=s[c].openNeighborhood("node");for(var c=0;c<s.length;c++)u[s[c].id()]=0;for(var d=0;d<s.length;d++){for(var h=[],p={},f={},v={},g=[],c=0;c<s.length;c++)p[s[c].id()]=[],f[s[c].id()]=0,v[s[c].id()]=Number.POSITIVE_INFINITY;for(f[s[d].id()]=1,v[s[d].id()]=0,g.unshift(s[d].id());g.length>0;){var y=g.pop();h.push(y),n?l[y].forEach(function(e){if(o.$("#"+y).edgesTo(e).length>0)var t=o.$("#"+y).edgesTo(e)[0];else var t=e.edgesTo("#"+y)[0];var n=r.apply(t,[t]);v[e.id()]>v[y]+n&&(v[e.id()]=v[y]+n,g.indexOf(e.id())<0?a(g,e.id()):(g.splice(g.indexOf(e.id()),1),a(g,e.id())),f[e.id()]=0,p[e.id()]=[]),v[e.id()]==v[y]+n&&(f[e.id()]=f[e.id()]+f[y],p[e.id()].push(y))}):l[y].forEach(function(e){v[e.id()]==Number.POSITIVE_INFINITY&&(g.unshift(e.id()),v[e.id()]=v[y]+1),v[e.id()]==v[y]+1&&(f[e.id()]=f[e.id()]+f[y],p[e.id()].push(y))})}for(var m={},c=0;c<s.length;c++)m[s[c].id()]=0;for(;h.length>0;){var b=h.pop();p[b].forEach(function(e){m[e]=m[e]+f[e]/f[b]*(1+m[b]),b!=s[d].id()&&(u[b]=u[b]+m[b])})}}var x=0;for(var w in u)x<u[w]&&(x=u[w]);var _={betweenness:function(t){if(e.is.string(t))var t=o.filter(t)[0].id();else var t=t.id();return u[t]},betweennessNormalized:function(t){if(e.is.string(t))var t=o.filter(t)[0].id();else var t=t.id();return u[t]/x}};return _.betweennessNormalised=_.betweennessNormalized,_}}),e.elesfn.dc=e.elesfn.degreeCentrality,e.elesfn.dcn=e.elesfn.degreeCentralityNormalised=e.elesfn.degreeCentralityNormalized,e.elesfn.cc=e.elesfn.closenessCentrality,e.elesfn.ccn=e.elesfn.closenessCentralityNormalised=e.elesfn.closenessCentralityNormalized,e.elesfn.bc=e.elesfn.betweennessCentrality}(cytoscape),function(e){"use strict";e.fn.eles({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop()})}(cytoscape),function(e){"use strict";e.fn.eles({addClass:function(t){t=t.split(/\s+/);for(var r=this,n=[],i=0;i<t.length;i++){var a=t[i];if(!e.is.emptyString(a))for(var o=0;o<r.length;o++){var s=r[o],l=s._private.classes[a];s._private.classes[a]=!0,l||n.push(s)}}return n.length>0&&new e.Collection(this._private.cy,n).updateStyle().trigger("class"),r},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes[e]?!0:!1},toggleClass:function(t,r){for(var n=t.split(/\s+/),i=this,a=[],o=0,s=i.length;s>o;o++)for(var l=i[o],u=0;u<n.length;u++){var c=n[u];if(!e.is.emptyString(c)){var d=l._private.classes[c],h=r||void 0===r&&!d;h?(l._private.classes[c]=!0,d||a.push(l)):(l._private.classes[c]=!1,d&&a.push(l))}}return a.length>0&&new e.Collection(this._private.cy,a).updateStyle().trigger("class"),i},removeClass:function(t){t=t.split(/\s+/);for(var r=this,n=[],i=0;i<r.length;i++)for(var a=r[i],o=0;o<t.length;o++){var s=t[o];if(s&&""!==s){var l=a._private.classes[s];a._private.classes[s]=void 0,l&&n.push(a)}}return n.length>0&&new e.Collection(r._private.cy,n).updateStyle(),r.trigger("class"),r},flashClass:function(e,t){var r=this;if(null==t)t=250;else if(0===t)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r}})}(cytoscape),function(e){"use strict";e.fn.eles({allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(n)return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!n)return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length!==e.length?!1:this.intersect(e).length===this.length},anySame:function(e){return e=this.cy().collection(e),this.intersect(e).length>0},allAreNeighbors:function(e){return e=this.cy().collection(e),this.neighborhood().intersect(e).length===e.length}}),e.elesfn.allAreNeighbours=e.elesfn.allAreNeighbors}(cytoscape),function(e){"use strict";e.fn.eles({parent:function(t){for(var r=[],n=this._private.cy,i=0;i<this.length;i++){var a=this[i],o=n.getElementById(a._private.data.parent);o.size()>0&&r.push(o)}return new e.Collection(n,r,{unique:!0}).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return new e.Collection(this.cy(),r,{unique:!0}).filter(t)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var n=this[r],i=n.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];r=r.concat(i._private.children)}return new e.Collection(this.cy(),r,{unique:!0}).filter(t)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];return e?0!==e._private.children.length:void 0},isChild:function(){var e=this[0];return e?void 0!==e._private.data.parent&&0!==e.parent().length:void 0},descendants:function(t){function r(e){for(var t=0;t<e.length;t++){var i=e[t];n.push(i),i.children().nonempty()&&r(i.children())}}var n=[];return r(this.children()),new e.Collection(this.cy(),n,{unique:!0}).filter(t)}}),e.elesfn.ancestors=e.elesfn.parents}(cytoscape),function(e){"use strict";var t=1,r=0;e.fn.eles({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:e.define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:e.define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:e.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:e.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];return e?e._private.data.id:void 0},position:e.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()}}),silentPosition:e.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()}}),positions:function(t,r){if(e.is.plainObject(t))this.position(t);else if(e.is.fn(t)){for(var n=t,i=0;i<this.length;i++){var a=this[i],t=n.apply(a,[i,a]);if(t&&!a.locked()){var o=a._private.position;o.x=t.x,o.y=t.y}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;r?l.trigger("position"):l.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},updateCompoundBounds:function(){function t(e){var t=e.children(),r=e._private.style,i="include"===r["compound-sizing-wrt-labels"].value,a=t.boundingBox({includeLabels:i,includeEdges:!0}),o={top:r["padding-top"].pxValue,bottom:r["padding-bottom"].pxValue,left:r["padding-left"].pxValue,right:r["padding-right"].pxValue},s=e._private.position,l=!1;"auto"===r.width.value&&(e._private.autoWidth=a.w+o.left+o.right,s.x=(a.x1+a.x2-o.left+o.right)/2,l=!0),"auto"===r.height.value&&(e._private.autoHeight=a.h+o.top+o.bottom,s.y=(a.y1+a.y2-o.top+o.bottom)/2,l=!0),l&&n.push(e)}var r=this.cy();if(!r.styleEnabled()||!r.hasCompoundNodes())return r.collection();for(var n=[],i=this.parent();i.nonempty();){for(var a=0;a<i.length;a++){var o=i[a];t(o)}i=i.parent()}return new e.Collection(r,n)},renderedPosition:function(t,r){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=e.is.plainObject(t)?t:void 0,l=void 0!==s||void 0!==r&&e.is.string(t);if(n&&n.isNode()){if(!l){var u=n._private.position;return s={x:u.x*a+o.x,y:u.y*a+o.y},void 0===t?s:s[t]}for(var c=0;c<this.length;c++){var n=this[c];void 0!==r?n._private.position[t]=(r-o[t])/a:void 0!==s&&(n._private.position={x:(s.x-o.x)/a,y:(s.y-o.y)/a})}this.rtrigger("position")}else if(!l)return void 0;return this},relativePosition:function(t,r){var n=this[0],i=this.cy(),a=e.is.plainObject(t)?t:void 0,o=void 0!==a||void 0!==r&&e.is.string(t),s=i.hasCompoundNodes();if(n&&n.isNode()){if(!o){var l=n._private.position,u=s?n.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u._private.position:{x:0,y:0};return a={x:l.x-h.x,y:l.y-h.y},void 0===t?a:a[t]}for(var p=0;p<this.length;p++){var n=this[p],u=s?n.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u._private.position:{x:0,y:0};void 0!==r?n._private.position[t]=r+h[t]:void 0!==a&&(n._private.position={x:a.x+h.x,y:a.y+h.y})}this.rtrigger("position")}else if(!o)return void 0;return this},width:function(){var e=this[0],t=e._private.cy,r=t._private.styleEnabled;if(e){if(r){var n=e._private.style.width;return"auto"===n.strValue?e._private.autoWidth:n.pxValue}return 1}},outerWidth:function(){var e=this[0],n=e._private.cy,i=n._private.styleEnabled;if(e){if(i){var a=e._private.style,o="auto"===a.width.strValue?e._private.autoWidth:a.width.pxValue,s=a["border-width"]?a["border-width"].pxValue*t+r:0;return o+s}return 1}},renderedWidth:function(){var e=this[0];if(e){var t=e.width();return t*this.cy().zoom()}},renderedOuterWidth:function(){var e=this[0];if(e){var t=e.outerWidth();return t*this.cy().zoom()}},height:function(){var e=this[0],t=e._private.cy,r=t._private.styleEnabled;if(e&&"nodes"===e._private.group){if(r){var n=e._private.style.height;return"auto"===n.strValue?e._private.autoHeight:n.pxValue}return 1}},outerHeight:function(){var e=this[0],n=e._private.cy,i=n._private.styleEnabled;if(e&&"nodes"===e._private.group){if(!i)return 1;var a=e._private.style,o="auto"===a.height.strValue?e._private.autoHeight:a.height.pxValue,s=a["border-width"]?a["border-width"].pxValue*t+r:0;return o+s}},renderedHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.height();return t*this.cy().zoom()}},renderedOuterHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.outerHeight();return t*this.cy().zoom()}},renderedBoundingBox:function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},boundingBox:function(e){var t=this,r=t._private.cy,n=r._private,i=n.styleEnabled;e=e||{};var a=void 0===e.includeNodes?!0:e.includeNodes,o=void 0===e.includeEdges?!0:e.includeEdges,s=void 0===e.includeLabels?!0:e.includeLabels;i&&n.renderer.recalculateRenderedStyle(this);for(var l=1/0,u=-(1/0),c=1/0,d=-(1/0),h=0;h<t.length;h++){var p,f,v,g,y,m,b=t[h],x=b._private,w=x.style,_=i?x.style.display.value:"element",E="nodes"===x.group,S=!1;if("none"!==_){if(E&&a){S=!0;var D=x.position;y=D.x,m=D.y;var T=b.outerWidth(),k=T/2,C=b.outerHeight(),P=C/2;p=y-k,f=y+k,v=m-P,g=m+P,l=l>p?p:l,u=f>u?f:u,c=c>v?v:c,d=g>d?g:d}else if(b.isEdge()&&o){S=!0;var M=x.source,B=M._private,N=B.position,I=x.target,O=I._private,L=O.position,z=x.rstyle||{},T=0,R=0;if(i&&(T=w.width.pxValue,R=T/2),p=N.x,f=L.x,v=N.y,g=L.y,p>f){var A=p;p=f,f=A}if(v>g){var A=v;v=g,g=A}if(p-=R,f+=R,v-=R,g+=R,l=l>p?p:l,u=f>u?f:u,c=c>v?v:c,d=g>d?g:d,i)for(var V=z.bezierPts||[],F=0;F<V.length;F++){var X=V[F];p=X.x-R,f=X.x+R,v=X.y-R,g=X.y+R,l=l>p?p:l,u=f>u?f:u,c=c>v?v:c,d=g>d?g:d}if(i&&"haystack"===w["curve-style"].strValue){var j=x.rscratch.haystackPts;if(p=j[0],v=j[1],f=j[2],g=j[3],p>f){var A=p;p=f,f=A}if(v>g){var A=v;v=g,g=A}l=l>p?p:l,u=f>u?f:u,c=c>v?v:c,d=g>d?g:d}}if(i){var w=b._private.style,z=b._private.rstyle,q=w.content.strValue,Y=w["font-size"],$=w["text-halign"],W=w["text-valign"],H=z.labelWidth,U=z.labelHeight,G=z.labelX,Z=z.labelY;if(S&&s&&q&&Y&&null!=U&&null!=H&&null!=G&&null!=Z&&$&&W){var K,J,Q,ee,te=U,re=H;if(b.isEdge())K=G-re/2,J=G+re/2,Q=Z-te/2,ee=Z+te/2;else{switch($.value){case"left":K=G-re,J=G;break;case"center":K=G-re/2,J=G+re/2;break;case"right":K=G,J=G+re}switch(W.value){case"top":Q=Z-te,ee=Z;break;case"center":Q=Z-te/2,ee=Z+te/2;break;case"bottom":Q=Z,ee=Z+te}}l=l>K?K:l,u=J>u?J:u,c=c>Q?Q:c,d=ee>d?ee:d}}}}var ne=function(e){return e===1/0||e===-(1/0)?0:e};return l=ne(l),u=ne(u),c=ne(c),d=ne(d),{x1:l,x2:u,y1:c,y2:d,w:u-l,h:d-c}}});var n=e.elesfn;n.attr=n.data,n.removeAttr=n.removeData,n.modelPosition=n.point=n.position,n.modelPositions=n.points=n.positions,n.renderedPoint=n.renderedPosition,n.relativePoint=n.relativePosition,n.boundingbox=n.boundingBox,n.renderedBoundingbox=n.renderedBoundingBox}(cytoscape),function(e){"use strict";function t(e){return function(t){var r=this;if(void 0===t&&(t=!0),0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];(t||!s.isLoop())&&(n+=e(i,s))}return n}}}function r(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](r);void 0===s||void 0!==n&&!t(s,n)||(n=s)}return n}}e.fn.eles({degree:t(function(e,t){return t.source().same(t.target())?2:1}),indegree:t(function(e,t){return t.target().same(e)?1:0}),outdegree:t(function(e,t){return t.source().same(e)?1:0})}),e.fn.eles({minDegree:r("degree",function(e,t){return t>e}),maxDegree:r("degree",function(e,t){return e>t}),minIndegree:r("indegree",function(e,t){return t>e}),maxIndegree:r("indegree",function(e,t){return e>t}),minOutdegree:r("outdegree",function(e,t){return t>e}),maxOutdegree:r("outdegree",function(e,t){return e>t})}),e.fn.eles({totalDegree:function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t}})}(cytoscape),function(e){"use strict";e.fn.eles({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger(),rtrigger:function(e,t){return 0!==this.length?(this.cy().notify({type:e,collection:this}),this.trigger(e,t),this):void 0}}),e.define.eventAliasesOn(e.elesfn)}(cytoscape),function(e){"use strict";e.fn.eles({nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(t){var r=this._private.cy;if(e.is.fn(t)){for(var n=[],i=0;i<this.length;i++){var a=this[i];t.apply(a,[i,a])&&n.push(a)}return new e.Collection(r,n)}return e.is.string(t)||e.is.elementOrCollection(t)?new e.Selector(t).filter(this):void 0===t?this:new e.Collection(r)},not:function(t){var r=this._private.cy;if(t){e.is.string(t)&&(t=this.filter(t));for(var n=[],i=0;i<this.length;i++){var a=this[i],o=t._private.ids[a.id()];o||n.push(a)}return new e.Collection(r,n)}return this},absoluteComplement:function(){var e=this._private.cy;return e.elements().not(this)},intersect:function(t){var r=this._private.cy;if(e.is.string(t)){var n=t;return this.filter(n)}for(var i=[],a=this,o=t,s=this.length<t.length,l=s?o._private.ids:a._private.ids,u=s?a:o,c=0;c<u.length;c++){var d=u[c]._private.data.id,h=l[d];h&&i.push(h)}return new e.Collection(r,i)},xor:function(t){var r=this._private.cy;e.is.string(t)&&(t=r.$(t));var n=[],i=this,a=t,o=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id,o=t._private.ids[a];o||n.push(i)}};return o(i,a),o(a,i),new e.Collection(r,n)},diff:function(t){var r=this._private.cy;e.is.string(t)&&(t=r.$(t));var n=[],i=[],a=[],o=this,s=t,l=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],o=i._private.data.id,s=t._private.ids[o];s?a.push(i):r.push(i)}};return l(o,s,n),l(s,o,i),{left:new e.Collection(r,n,{unique:!0}),right:new e.Collection(r,i,{unique:!0}),both:new e.Collection(r,a,{unique:!0})}},add:function(t){var r=this._private.cy;if(!t)return this;if(e.is.string(t)){var n=t;t=r.elements(n)}for(var i=[],a=0;a<this.length;a++)i.push(this[a]);for(var a=0;a<t.length;a++){var o=!this._private.ids[t[a].id()];o&&i.push(t[a])}return new e.Collection(r,i)},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(e.is.string(t)){var i=t;t=n.elements(i)}for(var a=0;a<t.length;a++){var o=t[a],s=o.id(),l=!r.ids[s];if(l){var u=this.length++;this[u]=o,r.ids[s]=o,r.indexes[s]=u}}return this},unmergeOne:function(e){e=e[0];var t=this._private,r=e.id(),n=t.indexes[r];
if(null==n)return this;this[n]=void 0,t.ids[r]=void 0,t.indexes[r]=void 0;var i=n===this.length-1;if(this.length>1&&!i){var a=this.length-1,o=this[a];this[a]=void 0,this[n]=o,t.indexes[o.id()]=n}return this.length--,this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(e.is.string(t)){var n=t;t=r.elements(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},map:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],o=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(o)}return r},stdFilter:function(t,r){for(var n=[],i=this,a=this._private.cy,o=0;o<i.length;o++){var s=i[o],l=r?t.apply(r,[s,o,i]):t(s,o,i);l&&n.push(s)}return new e.Collection(a,n)},max:function(e,t){for(var r,n=-(1/0),i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s>n&&(n=s,r=o)}return{value:n,ele:r}},min:function(e,t){for(var r,n=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);n>s&&(n=s,r=o)}return{value:n,ele:r}}});var t=e.elesfn;t.u=t["|"]=t["+"]=t.union=t.or=t.add,t["\\"]=t["!"]=t["-"]=t.difference=t.relativeComplement=t.not,t.n=t["&"]=t["."]=t.and=t.intersection=t.intersect,t["^"]=t["(+)"]=t["(-)"]=t.symmetricDifference=t.symdiff=t.xor,t.fnFilter=t.filterFn=t.stdFilter,t.complement=t.abscomp=t.absoluteComplement}(cytoscape),function(e){"use strict";e.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];return e?e._private.group:void 0}})}(cytoscape),function(e){"use strict";e.fn.eles({each:function(t){if(e.is.fn(t))for(var r=0;r<this.length;r++){var n=this[r],i=t.apply(n,[r,n]);if(i===!1)break}return this},forEach:function(t,r){if(e.is.fn(t))for(var n=0;n<this.length;n++){var i=this[n],a=r?t.apply(r,[i,n,this]):t(i,n,this);if(a===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(t,r){var n=[],i=this.length;null==r&&(r=i),null==t&&(t=0),0>t&&(t=i+t),0>r&&(r=i+r);for(var a=t;a>=0&&r>a&&i>a;a++)n.push(this[a]);return new e.Collection(this.cy(),n)},size:function(){return this.length},eq:function(t){return this[t]||new e.Collection(this.cy())},first:function(){return this[0]||new e.Collection(this.cy())},last:function(){return this[this.length-1]||new e.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!e.is.fn(t))return this;var r=this.cy(),n=this.toArray().sort(t);return new e.Collection(r,n)},sortByZIndex:function(){return this.sort(e.Collection.zIndexSort)},zDepth:function(){var e=this[0];if(!e)return void 0;var t=e._private,r=t.group;if("nodes"===r){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:Number.MAX_VALUE}var i=t.source,a=t.target,o=i.zDepth(),s=a.zDepth();return Math.max(o,s,0)}}),e.Collection.zIndexSort=function(e,t){var r=e.cy(),n=e._private,i=t._private,a=n.style["z-index"].value-i.style["z-index"].value,o=0,s=0,l=r.hasCompoundNodes(),u="nodes"===n.group,c="edges"===n.group,d="nodes"===i.group,h="edges"===i.group;l&&(o=e.zDepth(),s=t.zDepth());var p=o-s,f=0===p;return f?u&&h?1:c&&d?-1:0===a?n.index-i.index:a:p}}(cytoscape),function(e){"use strict";e.fn.eles({layoutPositions:function(t,r,n){var i=this.nodes(),a=this.cy();if(t.trigger({type:"layoutstart",layout:t}),r.animate){for(var o=0;o<i.length;o++){var s=i[o],l=o===i.length-1,u=n.call(s,o,s),c=s.position();e.is.number(c.x)&&e.is.number(c.y)||s.silentPosition({x:0,y:0}),s.animate({position:u},{duration:r.animationDuration,step:l?function(){r.fit&&a.fit(r.eles,r.padding)}:void 0,complete:l?function(){null!=r.zoom&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),r.fit&&a.fit(r.eles,r.padding),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t})}:void 0})}t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t})}else i.positions(n),r.fit&&a.fit(r.eles,r.padding),null!=r.zoom&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.layout(e.util.extend({},t,{eles:this})),this},makeLayout:function(t){var r=this.cy();return r.makeLayout(e.util.extend({},t,{eles:this}))}}),e.elesfn.createLayout=e.elesfn.makeLayout}(cytoscape),function(e){"use strict";e.fn.eles({updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){for(var r=t._private.batchStyleEles,n=0;n<this.length;n++){var i=this[n];r.ids[i._private.id]||r.push(i)}return this}var a=t.style();e=e||void 0===e?!0:!1,a.apply(this);var o=this.updateCompoundBounds(),s=o.length>0?this.add(o):this;return e?s.rtrigger("style"):s.trigger("style"),this},updateMappers:function(e){var t=this._private.cy,r=t.style();if(e=e||void 0===e?!0:!1,!t.styleEnabled())return this;r.updateMappers(this);var n=this.updateCompoundBounds(),i=n.length>0?this.add(n):this;return e?i.rtrigger("style"):i.trigger("style"),this},renderedCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r){var n=r.cy().style().getRenderedStyle(r);return void 0===e?n:n[e]}},css:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(e.is.plainObject(t)){var o=t;a.applyBypass(this,o,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(e.is.string(t)){if(void 0===r){var u=this[0];return u?u._private.style[t].strValue:void 0}a.applyBypass(this,t,r,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(void 0===t){var u=this[0];return u?a.getRawStyle(u):void 0}return this},removeCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(void 0===e)for(var a=0;a<i.length;a++){var o=i[a];n.removeAllBypasses(o,r)}else{e=e.split(/\s+/);for(var a=0;a<i.length;a++){var o=i[a];n.removeBypasses(o,e,r)}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;return l.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],r=e.hasCompoundNodes();if(t){var n=t._private.style;if("visible"!==n.visibility.value||"element"!==n.display.value)return!1;if("nodes"===t._private.group){if(!r)return!0;var i=t._private.data.parent?t.parents():null;if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o._private.style,l=s.visibility.value,u=s.display.value;if("visible"!==l||"element"!==u)return!1}return!0}var c=t._private.source,d=t._private.target;return c.visible()&&d.visible()}},hidden:function(){var e=this[0];return e?!e.visible():void 0},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=n.style.opacity.value;if(!t)return i;var a=n.data.parent?r.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s._private.style.opacity.value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();return t?r?0===t.effectiveOpacity():0===t._private.style.opacity.value:void 0},isFullAutoParent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];if(t){var r="auto"===t._private.style.width.value,n="auto"===t._private.style.height.value;return t.isParent()&&r&&n}},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return t._private.backgrounding?!0:!1}}),e.elesfn.bypass=e.elesfn.style=e.elesfn.css,e.elesfn.renderedStyle=e.elesfn.renderedCss,e.elesfn.removeBypass=e.elesfn.removeStyle=e.elesfn.removeCss}(cytoscape),function(e){"use strict";function t(t){return function(){var r=arguments,n=[];if(2===r.length){var i=r[0],a=r[1];this.bind(t.event,i,a)}else if(1===r.length){var a=r[0];this.bind(t.event,a)}else if(0===r.length){for(var o=0;o<this.length;o++){var s=this[o],l=!t.ableField||s._private[t.ableField],u=s._private[t.field]!=t.value;if(t.overrideAble){var c=t.overrideAble(s);if(void 0!==c&&(l=c,!c))return this}l&&(s._private[t.field]=t.value,u&&n.push(s))}var d=e.Collection(this.cy(),n);d.updateStyle(),d.trigger(t.event)}return this}}function r(r){e.elesfn[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(void 0!==t)return t}return e._private[r.field]}},e.elesfn[r.on]=t({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),e.elesfn[r.off]=t({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}r({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),r({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"}),r({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),r({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),e.elesfn.deselect=e.elesfn.unselect,e.elesfn.grabbed=function(){var e=this[0];return e?e._private.grabbed:void 0},r({field:"active",on:"activate",off:"unactivate"}),e.elesfn.inactive=function(){var e=this[0];return e?!e._private.active:void 0}}(cytoscape),function(e){"use strict";function t(t){return function(r){for(var n=[],i=this._private.cy,a=0;a<this.length;a++){var o=this[a],s=o._private[t.attr];s&&n.push(s)}return new e.Collection(i,n,{unique:!0}).filter(r)}}function r(t){return function(r){var n=[],i=this._private.cy,a=t||{};e.is.string(r)&&(r=i.$(r));for(var o=this._private.ids,s=r._private.ids,l=0;l<r.length;l++)for(var u=r[l]._private.edges,c=0;c<u.length;c++){var d=u[c],h=d._private.data,p=o[h.source]&&s[h.target],f=s[h.source]&&o[h.target],v=p||f;if(v){if(a.thisIs){if("source"===a.thisIs&&!p)continue;if("target"===a.thisIs&&!f)continue}n.push(d)}}return new e.Collection(i,n,{unique:!0})}}function n(t){var r={codirected:!1};return t=e.util.extend({},r,t),function(r){for(var n=this._private.cy,i=[],a=this.edges(),o=t,s=0;s<a.length;s++)for(var l=a[s],u=l.source()[0],c=u.id(),d=l.target()[0],h=d.id(),p=u._private.edges,f=0;f<p.length;f++){var v=p[f],g=v._private.data,y=g.target,m=g.source,b=y===h&&m===c,x=c===y&&h===m;(o.codirected&&b||!o.codirected&&(b||x))&&i.push(v)}return new e.Collection(n,i,{unique:!0}).filter(r)}}e.fn.eles({roots:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode()){var o=a.connectedEdges(function(){return this.data("target")===a.id()&&this.data("source")!==a.id()}).length>0;o||n.push(a)}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},leaves:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode()){var o=a.connectedEdges(function(){return this.data("source")===a.id()&&this.data("target")!==a.id()}).length>0;o||n.push(a)}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},outgoers:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i],o=a.id();if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,d=u._private.data.target;c===o&&d!==o&&(n.push(u),n.push(u.target()[0]))}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},successors:function(t){for(var r=this,n=[],i={};;){var a=r.outgoers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();i[u]||(i[u]=!0,n.push(l),o=!0)}if(!o)break;r=a}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},incomers:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i],o=a.id();if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,d=u._private.data.target;d===o&&c!==o&&(n.push(u),n.push(u.source()[0]))}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},predecessors:function(t){for(var r=this,n=[],i={};;){var a=r.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();i[u]||(i[u]=!0,n.push(l),o=!0)}if(!o)break;r=a}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)}}),e.fn.eles({neighborhood:function(t){for(var r=[],n=this._private.cy,i=this.nodes(),a=0;a<i.length;a++)for(var o=i[a],s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.connectedNodes().not(o);c.length>0&&r.push(c[0]),r.push(u[0])}return new e.Collection(n,r,{unique:!0}).filter(t)},closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),e.elesfn.neighbourhood=e.elesfn.neighborhood,e.elesfn.closedNeighbourhood=e.elesfn.closedNeighborhood,e.elesfn.openNeighbourhood=e.elesfn.openNeighborhood,e.fn.eles({source:function(e){var t,r=this[0];return r&&(t=r._private.source),t&&e?t.filter(e):t},target:function(e){var t,r=this[0];return r&&(t=r._private.target),t&&e?t.filter(e):t},sources:t({attr:"source"}),targets:t({attr:"target"})}),e.fn.eles({edgesWith:r(),edgesTo:r({thisIs:"source"})}),e.fn.eles({connectedEdges:function(t){for(var r=[],n=this._private.cy,i=this,a=0;a<i.length;a++){var o=i[a];if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l];r.push(u)}}return new e.Collection(n,r,{unique:!0}).filter(t)},connectedNodes:function(t){for(var r=[],n=this._private.cy,i=this,a=0;a<i.length;a++){var o=i[a];o.isEdge()&&(r.push(o.source()[0]),r.push(o.target()[0]))}return new e.Collection(n,r,{unique:!0}).filter(t)},parallelEdges:n(),codirectedEdges:n({codirected:!0})})}(cytoscape),function(e){"use strict";e.fn.eles({fit:function(){},center:function(){}})}(cytoscape),function(e){"use strict";e.Minheap=function(t,r,n){return new e.Heap(t,r,e.Heap.minHeapComparator,n)},e.Maxheap=function(t,r,n){return new e.Heap(t,r,e.Heap.maxHeapComparator,n)},e.Heap=function(t,r,n,i){if("undefined"!=typeof n&&"undefined"!=typeof r){"undefined"==typeof i&&(i=e.Heap.idFn);var a,o,s,l=[],u={},c=[],d=0;for(r=this.getArgumentAsCollection(r,t),s=r.length,d=0;s>d;d+=1){if(l.push(i.call(t,r[d],d,r)),a=r[d].id(),u.hasOwnProperty(a))throw"ERROR: Multiple items with the same id found: "+a;u[a]=d,c.push(a)}for(this._private={cy:t,heap:l,pointers:u,elements:c,comparator:n,extractor:i,length:s},d=Math.floor(s/2);d>=0;d-=1)o=this.heapify(d);return o}},e.Heap.idFn=function(e){return e.id()},e.Heap.minHeapComparator=function(e,t){return e>=t},e.Heap.maxHeapComparator=function(e,t){return t>=e},e.fn.heap=function(t,r){for(var n in t){var i=t[n];e.Heap.prototype[n]=i}},e.heapfn=e.Heap.prototype,e.heapfn.size=function(){return this._private.length},e.heapfn.getArgumentAsCollection=function(t,r){var n;if("undefined"==typeof r&&(r=this._private.cy),e.is.elementOrCollection(t))n=t;else{for(var i=[],a=[].concat.apply([],[t]),o=0;o<a.length;o++){var s=a[o],l=r.getElementById(s);l.length>0&&i.push(l)}n=new e.Collection(r,i)}return n},e.heapfn.isHeap=function(){var e,t,r,n,i,a=this._private.heap,o=a.length,s=this._private.comparator;for(e=0;o>e;e+=1)if(t=2*e+1,r=t+1,n=o>t?s(a[t],a[e]):!0,i=o>r?s(a[r],a[e]):!0,!n||!i)return!1;return!0},e.heapfn.heapSwap=function(e,t){var r=this._private.heap,n=this._private.pointers,i=this._private.elements,a=r[e],o=i[e],s=i[e],l=i[t];r[e]=r[t],i[e]=i[t],n[s]=t,n[l]=e,r[t]=a,i[t]=o},e.heapfn.heapify=function(e,t){var r,n,i,a,o,s,l,u=0,c=!1;for("undefined"==typeof t&&(t=!0),r=this._private.heap,u=r.length,s=this._private.comparator,n=e;!c;)t?(i=2*n+1,a=i+1,o=n,u>i&&!s(r[i],r[o])&&(o=i),u>a&&!s(r[a],r[o])&&(o=a),c=o===n,c||(this.heapSwap(o,n),n=o)):(l=Math.floor((n-1)/2),o=n,c=0>l||s(r[o],r[l]),c||(this.heapSwap(o,l),n=l))},e.heapfn.insert=function(e){var t,r,n,i,a,o=this.getArgumentAsCollection(e),s=o.length;for(a=0;s>a;a+=1){if(t=o[a],r=this._private.heap.length,n=this._private.extractor(t),i=t.id(),this._private.pointers.hasOwnProperty(i))throw"ERROR: Multiple items with the same id found: "+i;this._private.heap.push(n),this._private.elements.push(i),this._private.pointers[i]=r,this.heapify(r,!1)}this._private.length=this._private.heap.length},e.heapfn.getValueById=function(e){if(this._private.pointers.hasOwnProperty(e)){var t=this._private.pointers[e];return this._private.heap[t]}},e.heapfn.contains=function(e){for(var t=this.getArgumentAsCollection(e),r=0;r<t.length;r+=1){var n=t[r].id();if(!this._private.pointers.hasOwnProperty(n))return!1}return!0},e.heapfn.top=function(){return this._private.length>0?{value:this._private.heap[0],id:this._private.elements[0]}:void 0},e.heapfn.pop=function(){if(this._private.length>0){var e,t,r,n=this.top(),i=this._private.length-1;return this.heapSwap(0,i),e=this._private.elements[i],t=this._private.heap[i],r=e,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[r]=void 0,this.heapify(0),n}},e.heapfn.findDirectionHeapify=function(e){var t=Math.floor((e-1)/2),r=this._private.heap,n=0>t||this._private.comparator(r[e],r[t]);this.heapify(e,n)},e.heapfn.edit=function(t,r){for(var n=this.getArgumentAsCollection(t),i=0;i<n.length;i+=1){var a=n[i].id(),o=this._private.pointers[a],s=this._private.heap[o];e.is.number(r)?this._private.heap[o]=r:e.is.fn(r)&&(this._private.heap[o]=r.call(this._private.cy,s,o)),this.findDirectionHeapify(o)}},e.heapfn.remove=function(e){for(var t=this.getArgumentAsCollection(e),r=0;r<t.length;r+=1){var n,i,a,o=t[r].id(),s=this._private.pointers[o],l=this._private.length-1;s!==l&&this.heapSwap(s,l),n=this._private.elements[l],i=this._private.heap[l],a=n,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[a]=void 0,this.findDirectionHeapify(s)}return i}}(cytoscape),function(e){"use strict";function t(e){this.options=e,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:e.cy,container:e.cy.container(),canvases:new Array(t.CANVAS_LAYERS),contexts:new Array(t.CANVAS_LAYERS),canvasNeedsRedraw:new Array(t.CANVAS_LAYERS),bufferCanvases:new Array(t.BUFFER_COUNT),bufferContexts:new Array(t.CANVAS_LAYERS)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.showFps=e.showFps,this.bindings=[],this.data.canvasContainer=document.createElement("div");var r=this.data.canvasContainer.style;r.position="absolute",r.zIndex="0",r.overflow="hidden",this.data.container.appendChild(this.data.canvasContainer);for(var n=0;n<t.CANVAS_LAYERS;n++)this.data.canvases[n]=document.createElement("canvas"),this.data.contexts[n]=this.data.canvases[n].getContext("2d"),this.data.canvases[n].style.position="absolute",this.data.canvases[n].setAttribute("data-id","layer"+n),this.data.canvases[n].style.zIndex=String(t.CANVAS_LAYERS-n),this.data.canvasContainer.appendChild(this.data.canvases[n]),this.data.canvasNeedsRedraw[n]=!1;this.data.topCanvas=this.data.canvases[0],this.data.canvases[t.NODE].setAttribute("data-id","layer"+t.NODE+"-node"),this.data.canvases[t.SELECT_BOX].setAttribute("data-id","layer"+t.SELECT_BOX+"-selectbox"),this.data.canvases[t.DRAG].setAttribute("data-id","layer"+t.DRAG+"-drag");for(var n=0;n<t.BUFFER_COUNT;n++)this.data.bufferCanvases[n]=document.createElement("canvas"),this.data.bufferContexts[n]=this.data.bufferCanvases[n].getContext("2d"),this.data.bufferCanvases[n].style.position="absolute",this.data.bufferCanvases[n].setAttribute("data-id","buffer"+n),this.data.bufferCanvases[n].style.zIndex=String(-n-1),this.data.bufferCanvases[n].style.visibility="hidden";this.hideEdgesOnViewport=e.hideEdgesOnViewport,this.hideLabelsOnViewport=e.hideLabelsOnViewport,this.textureOnViewport=e.textureOnViewport,this.wheelSensitivity=e.wheelSensitivity,this.motionBlurEnabled=e.motionBlur,this.forcedPixelRatio=e.pixelRatio,this.motionBlur=!0,this.motionBlurOpacity=e.motionBlurOpacity,this.motionBlurTransparency=1-this.motionBlurOpacity,this.motionBlurPxRatio=1,this.mbPxRBlurry=1,this.minMbLowQualFrames=4,this.fullQualityMb=!1,this.clearedForMotionBlur=[],this.desktopTapThreshold=e.desktopTapThreshold,this.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,this.touchTapThreshold=e.touchTapThreshold,this.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,this.tapholdDuration=500,this.load()}t.CANVAS_LAYERS=3,t.SELECT_BOX=0,t.DRAG=1,t.NODE=2,t.BUFFER_COUNT=3,t.TEXTURE_BUFFER=0,t.MOTIONBLUR_BUFFER_NODE=1,t.MOTIONBLUR_BUFFER_DRAG=2,t.panOrBoxSelectDelay=400;var r="undefined"!=typeof Path2D;t.usePaths=function(){return r},t.prototype.notify=function(r){var n;n=e.is.array(r.type)?r.type:[r.type];for(var i=0;i<n.length;i++){var a=n[i];switch(a){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}("load"===a||"resize"===a)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.data.container))}this.data.canvasNeedsRedraw[t.NODE]=!0,this.data.canvasNeedsRedraw[t.DRAG]=!0,this.redraw()},t.prototype.destroy=function(){this.destroyed=!0;for(var e=0;e<this.bindings.length;e++){var t=this.bindings[e],r=t;r.target.removeEventListener(r.event,r.handler,r.useCapture)}if(this.removeObserver&&this.removeObserver.disconnect(),this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(n){}};for(var n in e.math)t.prototype[n]=e.math[n];e("renderer","canvas",t)}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype,n=t.arrowShapes={};t.arrowShapeHeight=.3;var i=function(e,t,r,n,i,a,o,s){var l=r-i/2,u=r+i/2,c=n-a/2,d=n+a/2;return e>=l&&u>=e&&t>=c&&d>=t},a=function(e,t,r,n,i){n=-n;var a=e*Math.cos(n)-t*Math.sin(n),o=e*Math.sin(n)+t*Math.cos(n),s=a*r,l=o*r,u=s+i.x,c=l+i.y;return{x:u,y:c}};n.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(t,r,i,a,o,s,l,u){var c=n.arrow._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o=n.arrow._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.triangle=n.arrow,n["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(t,r,i,a,o,s,l,u){var c=n.triangle._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o,s=n.triangle._points,l=0;l<s.length/2;l++){var u=a(s[2*l],s[2*l+1],t,r,i);0===l&&(o=u),e.lineTo(u.x,u.y)}var c=this._ctrlPt,d=a(c[0],c[1],t,r,i);e.quadraticCurveTo(d.x,d.y,o.x,o.y)},spacing:function(e){return 0},gap:function(e){return e._private.style.width.pxValue}},n["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,r,i,a,o,s,l,u){var c=n["triangle-tee"]._points,d=n["triangle-tee"]._pointsTee,h=e.math.pointInsidePolygon(t,r,d,i,a,o,s,l,u)||e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u);return h},roughCollide:i,draw:function(e,t,r,i){for(var o=n["triangle-tee"]._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}var u=n["triangle-tee"]._pointsTee,c=a(u[0],u[1],t,r,i);e.moveTo(c.x,c.y);for(var s=0;s<u.length/2;s++){var l=a(u[2*s],u[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(t,r,n,i,a,o,s,l){var u=this._points;return e.math.pointInsidePolygon(t,r,u,n,i,a,o,s,l)},roughCollide:i,draw:function(e,t,r,n){for(var i=this._points,o=0;o<i.length/2;o++){var s=a(i[2*o],i[2*o+1],t,r,n);e.lineTo(s.x,s.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.none={collide:function(e,t,r,n,i,a,o,s){return!1},roughCollide:function(e,t,r,n,i,a,o,s){return!1},draw:function(e){},spacing:function(e){return 0},gap:function(e){return 0}},n.circle={_baseRadius:.15,collide:function(e,t,r,i,a,o,s,l){if(a!=o){var u=(o+l)/(a+l);return t/=u,i/=u,Math.pow(r-e,2)+Math.pow(i-t,2)<=Math.pow((a+l)*n.circle._baseRadius,2)}return Math.pow(r-e,2)+Math.pow(i-t,2)<=Math.pow((a+l)*n.circle._baseRadius,2)},roughCollide:i,draw:function(e,t,r,i){e.arc(i.x,i.y,n.circle._baseRadius*t,0,2*Math.PI,!1)},spacing:function(e){return r.getArrowWidth(e._private.style.width.pxValue)*n.circle._baseRadius},gap:function(e){return 2*e._private.style.width.pxValue}},n.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(t,r,i,a,o,s,l,u){var c=n.inhibitor._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o=n.inhibitor._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 1},gap:function(e){return 1}},n.tee=n.inhibitor,n.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(t,r,i,a,o,s,l,u){var c=n.square._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o=n.square._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(t,r,i,a,o,s,l,u){var c=n.diamond._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o=n.diamond._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return e._private.style.width.pxValue}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.getCachedNodes=function(){var e=this.data,t=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedNodes&&(e.cache.cachedNodes=t.nodes()),e.cache.cachedNodes},r.updateNodesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedNodes=t.nodes()},r.getCachedEdges=function(){var e=this.data,t=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedEdges&&(e.cache.cachedEdges=t.edges()),e.cache.cachedEdges},r.updateEdgesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedEdges=t.edges()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.projectIntoViewport=function(e,t){var r=this.findContainerClientCoords(),n=r[0],i=r[1],a=e-n,o=t-i;return a-=this.data.cy.pan().x,o-=this.data.cy.pan().y,a/=this.data.cy.zoom(),o/=this.data.cy.zoom(),[a,o]},r.findContainerClientCoords=function(){var e=this.data.container,t=this.containerBB=this.containerBB||e.getBoundingClientRect();return[t.left,t.top,t.right-t.left,t.bottom-t.top]},r.invalidateContainerClientCoordsCache=function(){this.containerBB=null},r.findNearestElement=function(r,n,i,a){function o(e){var a=e.outerWidth()+2*f,o=e.outerHeight()+2*f,s=a/2,u=o/2,d=e._private.position;if(d.x-s<=r&&r<=d.x+s&&d.y-u<=n&&n<=d.y+u){var h=!i||e.visible()&&!e.transparent();if(i&&!h)return;var p=t.nodeShapes[l.getNodeShape(e)];e._private.style["border-width"].pxValue/2;p.checkPoint(r,n,0,a,o,d.x,d.y)&&c.push(e)}}function s(a){var s,u,d=a._private.rscratch,f=a._private.style,v=f.width.pxValue/2+p,g=v*v,y=2*v,m=a._private.source,b=a._private.target,x=!1,w=function(){if(void 0!==u)return u;if(!i)return u=!0,!0;var e=a.visible()&&!a.transparent();return e?(u=!0,!0):(u=!1,!1)};if("self"===d.edgeType||"compound"===d.edgeType)((x=e.math.inBezierVicinity(r,n,d.startX,d.startY,d.cp2ax,d.cp2ay,d.selfEdgeMidX,d.selfEdgeMidY,g))&&w()&&g>(s=e.math.sqDistanceToQuadraticBezier(r,n,d.startX,d.startY,d.cp2ax,d.cp2ay,d.selfEdgeMidX,d.selfEdgeMidY))||(x=e.math.inBezierVicinity(r,n,d.selfEdgeMidX,d.selfEdgeMidY,d.cp2cx,d.cp2cy,d.endX,d.endY,g))&&w()&&g>(s=e.math.sqDistanceToQuadraticBezier(r,n,d.selfEdgeMidX,d.selfEdgeMidY,d.cp2cx,d.cp2cy,d.endX,d.endY)))&&c.push(a);else if("haystack"===d.edgeType){var _=f["haystack-radius"].value,E=_/2,S=b._private.position,D=b.width(),T=b.height(),k=m._private.position,C=m.width(),P=m.height(),M=k.x+d.source.x*C*E,B=k.y+d.source.y*P*E,N=S.x+d.target.x*D*E,I=S.y+d.target.y*T*E;(x=e.math.inLineVicinity(r,n,M,B,N,I,y))&&w()&&g>(s=e.math.sqDistanceToFiniteLine(r,n,M,B,N,I))&&c.push(a)}else"straight"===d.edgeType?(x=e.math.inLineVicinity(r,n,d.startX,d.startY,d.endX,d.endY,y))&&w()&&g>(s=e.math.sqDistanceToFiniteLine(r,n,d.startX,d.startY,d.endX,d.endY))&&c.push(a):"bezier"===d.edgeType&&(x=e.math.inBezierVicinity(r,n,d.startX,d.startY,d.cp2x,d.cp2y,d.endX,d.endY,g))&&w()&&g>(s=e.math.sqDistanceToQuadraticBezier(r,n,d.startX,d.startY,d.cp2x,d.cp2y,d.endX,d.endY))&&c.push(a);if(x&&w()&&0===c.length||c[c.length-1]!==a){var O=t.arrowShapes[f["source-arrow-shape"].value],L=t.arrowShapes[f["target-arrow-shape"].value],m=m||a._private.source,b=b||a._private.target,S=b._private.position,k=m._private.position,z=l.getArrowWidth(f.width.pxValue),R=l.getArrowHeight(f.width.pxValue),A=z,V=R;(O.roughCollide(r,n,d.arrowStartX,d.arrowStartY,z,R,[d.arrowStartX-k.x,d.arrowStartY-k.y],p)&&O.collide(r,n,d.arrowStartX,d.arrowStartY,z,R,[d.arrowStartX-k.x,d.arrowStartY-k.y],p)||L.roughCollide(r,n,d.arrowEndX,d.arrowEndY,A,V,[d.arrowEndX-S.x,d.arrowEndY-S.y],p)&&L.collide(r,n,d.arrowEndX,d.arrowEndY,A,V,[d.arrowEndX-S.x,d.arrowEndY-S.y],p))&&c.push(a)}h&&c.length>0&&c[c.length-1]===a&&(o(m),o(b))}for(var l=this,u=this.getCachedZSortedEles(),c=[],d=this.data.cy.zoom(),h=this.data.cy.hasCompoundNodes(),p=(a?24:8)/d,f=(a?8:2)/d,v=u.length-1;v>=0;v--){var g=u[v];if(c.length>0)break;"nodes"===g._private.group?o(u[v]):s(u[v])}return c.length>0?c[c.length-1]:null},r.getAllInBox=function(r,n,i,a){var o=this.getCachedNodes(),s=this.getCachedEdges(),l=[],u=Math.min(r,i),c=Math.max(r,i),d=Math.min(n,a),h=Math.max(n,a);r=u,i=c,n=d,a=h;for(var p,f=0;f<o.length;f++){var v=o[f]._private.position,g=this.getNodeShape(o[f]),y=this.getNodeWidth(o[f]),m=this.getNodeHeight(o[f]),b=o[f]._private.style["border-width"].pxValue/2,x=t.nodeShapes[g];x.intersectBox(r,n,i,a,y,m,v.x,v.y,b)&&l.push(o[f])}for(var f=0;f<s.length;f++){var w=s[f]._private.rscratch;if("self"==s[f]._private.rscratch.edgeType&&((p=e.math.boxInBezierVicinity(r,n,i,a,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(r,n,i,a,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[f]._private.style.width.pxValue))||(p=e.math.boxInBezierVicinity(r,n,i,a,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(r,n,i,a,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[f]._private.style.width.pxValue)))&&l.push(s[f]),"bezier"==w.edgeType&&(p=e.math.boxInBezierVicinity(r,n,i,a,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(r,n,i,a,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[f]._private.style.width.pxValue))&&l.push(s[f]),"straight"==w.edgeType&&(p=e.math.boxInBezierVicinity(r,n,i,a,w.startX,w.startY,.5*w.startX+.5*w.endX,.5*w.startY+.5*w.endY,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkStraightEdgeInBox(r,n,i,a,w.startX,w.startY,w.endX,w.endY,s[f]._private.style.width.pxValue))&&l.push(s[f]),"haystack"==w.edgeType){var _=s[f].target()[0],E=_.position(),S=s[f].source()[0],D=S.position(),T=D.x+w.source.x,k=D.y+w.source.y,C=E.x+w.target.x,P=E.y+w.target.y,M=T>=r&&i>=T&&k>=n&&a>=k,B=C>=r&&i>=C&&P>=n&&a>=P;
M&&B&&l.push(s[f])}}return l},r.getNodeWidth=function(e){return e.width()},r.getNodeHeight=function(e){return e.height()},r.getNodeShape=function(e){var t=e._private.style.shape.value;return e.isParent()?"rectangle"===t||"roundrectangle"===t?t:"rectangle":t},r.getNodePadding=function(e){var t=e._private.style["padding-left"].pxValue,r=e._private.style["padding-right"].pxValue,n=e._private.style["padding-top"].pxValue,i=e._private.style["padding-bottom"].pxValue;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(i)&&(i=0),{left:t,right:r,top:n,bottom:i}},r.zOrderSort=e.Collection.zIndexSort,r.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},r.getCachedZSortedEles=function(e){var t=this.lastZOrderCachedNodes,r=this.lastZOrderCachedEdges,n=this.getCachedNodes(),i=this.getCachedEdges(),a=[];if(!e&&t&&r&&t===n&&r===i)a=this.cachedZSortedEles;else{for(var o=0;o<n.length;o++){var s=n[o];(s.animated()||s.visible()&&!s.transparent())&&a.push(s)}for(var o=0;o<i.length;o++){var l=i[o];(l.animated()||l.visible()&&!l.transparent())&&a.push(l)}a.sort(this.zOrderSort),this.cachedZSortedEles=a}return this.lastZOrderCachedNodes=n,this.lastZOrderCachedEdges=i,a},r.projectBezier=function(t){function r(e){a.push({x:n(e[0],e[2],e[4],.05),y:n(e[1],e[3],e[5],.05)}),a.push({x:n(e[0],e[2],e[4],.25),y:n(e[1],e[3],e[5],.25)}),a.push({x:n(e[0],e[2],e[4],.4),y:n(e[1],e[3],e[5],.4)});var t={x:n(e[0],e[2],e[4],.5),y:n(e[1],e[3],e[5],.5)};a.push(t),"self"===i.edgeType||"compound"===i.edgeType?(i.midX=i.selfEdgeMidX,i.midY=i.selfEdgeMidY):(i.midX=t.x,i.midY=t.y),a.push({x:n(e[0],e[2],e[4],.6),y:n(e[1],e[3],e[5],.6)}),a.push({x:n(e[0],e[2],e[4],.75),y:n(e[1],e[3],e[5],.75)}),a.push({x:n(e[0],e[2],e[4],.95),y:n(e[1],e[3],e[5],.95)})}var n=e.math.qbezierAt,i=t._private.rscratch,a=t._private.rstyle.bezierPts=[];"self"===i.edgeType?(r([i.startX,i.startY,i.cp2ax,i.cp2ay,i.selfEdgeMidX,i.selfEdgeMidY]),r([i.selfEdgeMidX,i.selfEdgeMidY,i.cp2cx,i.cp2cy,i.endX,i.endY])):"bezier"===i.edgeType&&r([i.startX,i.startY,i.cp2x,i.cp2y,i.endX,i.endY])},r.recalculateNodeLabelProjection=function(e){var t=e._private.style.content.strValue;if(t&&!t.match(/^\s+$/)){var r,n,i=e.outerWidth(),a=e.outerHeight(),o=e._private.position,s=e._private.style["text-halign"].strValue,l=e._private.style["text-valign"].strValue,u=e._private.rscratch,c=e._private.rstyle;switch(s){case"left":r=o.x-i/2;break;case"right":r=o.x+i/2;break;default:r=o.x}switch(l){case"top":n=o.y-a/2;break;case"bottom":n=o.y+a/2;break;default:n=o.y}u.labelX=r,u.labelY=n,c.labelX=r,c.labelY=n,this.applyLabelDimensions(e)}},r.recalculateEdgeLabelProjection=function(t){var r=t._private.style.content.strValue;if(r&&!r.match(/^\s+$/)){var n,i,a,o,s=t._private,l=s.rscratch,u=s.rstyle;if("self"==l.edgeType)a=l.selfEdgeMidX,o=l.selfEdgeMidY;else if("straight"==l.edgeType)a=(l.startX+l.endX)/2,o=(l.startY+l.endY)/2;else if("bezier"==l.edgeType)a=e.math.qbezierAt(l.startX,l.cp2x,l.endX,.5),o=e.math.qbezierAt(l.startY,l.cp2y,l.endY,.5);else if("haystack"==l.edgeType){var c=l.haystackPts;a=(c[0]+c[2])/2,o=(c[1]+c[3])/2}n=a,i=o,l.labelX=n,l.labelY=i,u.labelX=n,u.labelY=i,this.applyLabelDimensions(t)}},r.applyLabelDimensions=function(e){var t=e._private.rscratch,r=e._private.rstyle,n=this.getLabelText(e),i=this.calculateLabelDimensions(e,n);r.labelWidth=i.width,t.labelWidth=i.width,r.labelHeight=i.height,t.labelHeight=i.height},r.getLabelText=function(e){var t=e._private.style,r=e._private.style.content.strValue,n=t["text-transform"].value,i=e._private.rscratch;if("none"==n||("uppercase"==n?r=r.toUpperCase():"lowercase"==n&&(r=r.toLowerCase())),"wrap"===t["text-wrap"].value){if(i.labelWrapKey===i.labelKey)return i.labelWrapCachedText;for(var a=r.split("\n"),o=t["text-max-width"].pxValue,s=[],l=0;l<a.length;l++){var u=a[l],c=this.calculateLabelDimensions(e,u,"line="+u),d=c.width;if(d>o){for(var h=u.split(/\s+/),p="",f=0;f<h.length;f++){var v=h[f],g=0===p.length?v:p+" "+v,y=this.calculateLabelDimensions(e,g,"testLine="+g),m=y.width;o>=m?p+=v+" ":(s.push(p),p=v+" ")}p.match(/^\s+$/)||s.push(p)}else s.push(u)}i.labelWrapCachedLines=s,i.labelWrapCachedText=r=s.join("\n"),i.labelWrapKey=i.labelKey}return r},r.calculateLabelDimensions=function(e,t,r){var n=this,i=e._private.style,a=i["font-style"].strValue,o=i["font-size"].pxValue+"px",s=i["font-family"].strValue,l=i["font-weight"].strValue,u=e._private.labelKey;r&&(u+="$@$"+r);var c=n.labelDimCache||(n.labelDimCache={});if(c[u])return c[u];var d=this.labelCalcDiv;d||(d=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(d));var h=d.style;return h.fontFamily=s,h.fontStyle=a,h.fontSize=o,h.fontWeight=l,h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none",h.padding="0",h.lineHeight="1","wrap"===i["text-wrap"].value?h.whiteSpace="pre":h.whiteSpace="normal",d.textContent=t,c[u]={width:d.clientWidth,height:d.clientHeight},c[u]},r.recalculateRenderedStyle=function(e){for(var t=[],r=[],n={},i=0;i<e.length;i++){var a=e[i],o=a._private,s=o.style,l=o.rscratch,u=o.rstyle,c=o.data.id,d=null!=l.boundingBoxKey&&o.boundingBoxKey===l.boundingBoxKey,h=null!=l.labelKey&&o.labelKey===l.labelKey,p=d&&h;if("nodes"===a._private.group){var f=o.position,v=null!=u.nodeX&&null!=u.nodeY&&f.x===u.nodeX&&f.y===u.nodeY,g=null!=u.nodeW&&u.nodeW===s.width.pxValue,y=null!=u.nodeH&&u.nodeH===s.height.pxValue;v&&p&&g&&y||r.push(a),u.nodeX=f.x,u.nodeY=f.y,u.nodeW=s.width.pxValue,u.nodeH=s.height.pxValue}else{var m=a._private.source._private.position,b=a._private.target._private.position,x=null!=u.srcX&&null!=u.srcY&&m.x===u.srcX&&m.y===u.srcY,w=null!=u.tgtX&&null!=u.tgtY&&b.x===u.tgtX&&b.y===u.tgtY,_=x&&w;if(!_||!p){var E=o.style["curve-style"].value;if("bezier"===E){if(!n[c]){t.push(a),n[c]=!0;for(var S=a.parallelEdges(),i=0;i<S.length;i++){var D=S[i],T=D._private.data.id;n[T]||(t.push(D),n[T]=!0)}}}else t.push(a)}u.srcX=m.x,u.srcY=m.y,u.tgtX=b.x,u.tgtY=b.y}l.boundingBoxKey=o.boundingBoxKey,l.labelKey=o.labelKey}this.recalculateEdgeProjections(t),this.recalculateLabelProjections(r,t)},r.recalculateLabelProjections=function(e,t){for(var r=0;r<e.length;r++)this.recalculateNodeLabelProjection(e[r]);for(var r=0;r<t.length;r++)this.recalculateEdgeLabelProjection(t[r])},r.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},r.findEdgeControlPoints=function(r){if(r&&0!==r.length){for(var n,i=this.data.cy,a=i.hasCompoundNodes(),o={},s=[],l=[],u=0;u<r.length;u++){var c=r[u],d=c._private.style,h="unbundled-bezier"===d["curve-style"].value;if("none"!==d.display.value)if("haystack"!==d["curve-style"].value){var p=c._private.data.source,f=c._private.data.target;n=p>f?f+"-"+p:p+"-"+f,h&&(n="unbundled"+c._private.data.id),null==o[n]&&(o[n]=[],s.push(n)),o[n].push(c),h&&(o[n].hasUnbundled=!0)}else l.push(c)}for(var v,g,y,m,b,x,w,_,E,S,D,T,k,C,P=0;P<s.length;P++){n=s[P];var M=o[n];if(M.sort(function(e,t){return e._private.index-t._private.index}),v=M[0]._private.source,g=M[0]._private.target,v._private.data.id>g._private.data.id){var B=v;v=g,g=B}if(y=v._private.position,m=g._private.position,b=this.getNodeWidth(v),x=this.getNodeHeight(v),w=this.getNodeWidth(g),_=this.getNodeHeight(g),E=t.nodeShapes[this.getNodeShape(v)],S=t.nodeShapes[this.getNodeShape(g)],D=v._private.style["border-width"].pxValue,T=g._private.style["border-width"].pxValue,C=!1,M.length>1&&v!==g||M.hasUnbundled){var N=E.intersectLine(y.x,y.y,b,x,m.x,m.y,D/2),I=S.intersectLine(m.x,m.y,w,_,y.x,y.y,T/2),O={x1:N[0],x2:I[0],y1:N[1],y2:I[1]},L=I[1]-N[1],z=I[0]-N[0],R=Math.sqrt(z*z+L*L),A={x:z,y:L},V={x:A.x/R,y:A.y/R};k={x:-V.y,y:V.x},(S.checkPoint(N[0],N[1],T/2,w,_,m.x,m.y)||E.checkPoint(I[0],I[1],D/2,b,x,y.x,y.y))&&(k={},C=!0)}for(var c,F,u=0;u<M.length;u++){c=M[u],F=c._private.rscratch;var X=F.lastEdgeIndex,j=u,q=F.lastNumEdges,Y=M.length,$=c._private.style,W=$["control-point-step-size"].pxValue,H=void 0!==$["control-point-distance"]?$["control-point-distance"].pxValue:void 0,U=$["control-point-weight"].value,h="unbundled-bezier"===$["curve-style"].value,G=c._private.source!==v;G&&h&&(H*=-1);var Z=F.lastSrcCtlPtX,K=y.x,J=F.lastSrcCtlPtY,Q=y.y,ee=F.lastSrcCtlPtW,te=v.outerWidth(),re=F.lastSrcCtlPtH,ne=v.outerHeight(),ie=F.lastTgtCtlPtX,ae=m.x,oe=F.lastTgtCtlPtY,se=m.y,le=F.lastTgtCtlPtW,ue=g.outerWidth(),ce=F.lastTgtCtlPtH,de=g.outerHeight(),he=F.lastW,pe=$["control-point-step-size"].pxValue;if(C?F.badBezier=!0:F.badBezier=!1,Z!==K||J!==Q||ee!==te||re!==ne||ie!==ae||oe!==se||le!==ue||ce!==de||he!==pe||!(X===j&&q===Y||h)){if(F.lastSrcCtlPtX=K,F.lastSrcCtlPtY=Q,F.lastSrcCtlPtW=te,F.lastSrcCtlPtH=ne,F.lastTgtCtlPtX=ae,F.lastTgtCtlPtY=se,F.lastTgtCtlPtW=ue,F.lastTgtCtlPtH=de,F.lastEdgeIndex=j,F.lastNumEdges=Y,F.lastWidth=pe,v===g){F.edgeType="self";var fe=u,ve=W;h&&(fe=0,ve=H),F.cp2ax=y.x,F.cp2ay=y.y-(1+Math.pow(x,1.12)/100)*ve*(fe/3+1),F.cp2cx=y.x-(1+Math.pow(b,1.12)/100)*ve*(fe/3+1),F.cp2cy=y.y,F.selfEdgeMidX=(F.cp2ax+F.cp2cx)/2,F.selfEdgeMidY=(F.cp2ay+F.cp2cy)/2}else if(a&&(v.isParent()||v.isChild()||g.isParent()||g.isChild())&&(v.parents().anySame(g)||g.parents().anySame(v))){F.edgeType="compound",F.badBezier=!1;var fe=u,ve=W;h&&(fe=0,ve=H);var ge=50,ye={x:y.x-b/2,y:y.y-x/2},me={x:m.x-w/2,y:m.y-_/2},be=1;F.cp2ax=ye.x,F.compoundStretchA=Math.max(be,Math.log(.01*b)),F.cp2ay=ye.y-(1+Math.pow(ge,1.12)/100)*ve*(fe/3+1)*F.compoundStretchA,F.compoundStretchB=Math.max(be,Math.log(.01*w)),F.cp2cx=me.x-(1+Math.pow(ge,1.12)/100)*ve*(fe/3+1)*F.compoundStretchB,F.cp2cy=me.y,F.selfEdgeMidX=(F.cp2ax+F.cp2cx)/2,F.selfEdgeMidY=(F.cp2ay+F.cp2cy)/2}else if(M.length%2!==1||u!==Math.floor(M.length/2)||h){var xe,we=(.5-M.length/2+u)*W,_e=e.math.signum(we);xe=h?H:void 0!==H?_e*H:void 0;var Ee=void 0!==xe?xe:we,Se=1-U,De=U;G&&(Se=U,De=1-U);var Te={x:O.x1*Se+O.x2*De,y:O.y1*Se+O.y2*De};F.edgeType="bezier",F.cp2x=Te.x+k.x*Ee,F.cp2y=Te.y+k.y*Ee}else F.edgeType="straight";this.findEndpoints(c);var ke=!e.is.number(F.startX)||!e.is.number(F.startY),Ce=!e.is.number(F.arrowStartX)||!e.is.number(F.arrowStartY),Pe=!e.is.number(F.endX)||!e.is.number(F.endY),Me=!e.is.number(F.arrowEndX)||!e.is.number(F.arrowEndY),Be=3,Ne=this.getArrowWidth(c._private.style.width.pxValue)*t.arrowShapeHeight,Ie=Be*Ne,Oe=e.math.distance({x:F.cp2x,y:F.cp2y},{x:F.startX,y:F.startY}),Le=Ie>Oe,ze=e.math.distance({x:F.cp2x,y:F.cp2y},{x:F.endX,y:F.endY}),Re=Ie>ze;if("bezier"===F.edgeType){var Ae=!1;if(ke||Ce||Le){Ae=!0;var Ve={x:F.cp2x-y.x,y:F.cp2y-y.y},Fe=Math.sqrt(Ve.x*Ve.x+Ve.y*Ve.y),Xe={x:Ve.x/Fe,y:Ve.y/Fe},je=Math.max(b,x),qe={x:F.cp2x+2*Xe.x*je,y:F.cp2y+2*Xe.y*je},Ye=E.intersectLine(y.x,y.y,b,x,qe.x,qe.y,D/2);Le?(F.cp2x=F.cp2x+Xe.x*(Ie-Oe),F.cp2y=F.cp2y+Xe.y*(Ie-Oe)):(F.cp2x=Ye[0]+Xe.x*Ie,F.cp2y=Ye[1]+Xe.y*Ie)}if(Pe||Me||Re){Ae=!0;var Ve={x:F.cp2x-m.x,y:F.cp2y-m.y},Fe=Math.sqrt(Ve.x*Ve.x+Ve.y*Ve.y),Xe={x:Ve.x/Fe,y:Ve.y/Fe},je=Math.max(b,x),qe={x:F.cp2x+2*Xe.x*je,y:F.cp2y+2*Xe.y*je},$e=S.intersectLine(m.x,m.y,w,_,qe.x,qe.y,T/2);Re?(F.cp2x=F.cp2x+Xe.x*(Ie-ze),F.cp2y=F.cp2y+Xe.y*(Ie-ze)):(F.cp2x=$e[0]+Xe.x*Ie,F.cp2y=$e[1]+Xe.y*Ie)}Ae&&this.findEndpoints(c)}else"straight"===F.edgeType&&(F.midX=(K+ae)/2,F.midY=(Q+se)/2);this.projectBezier(c),this.recalculateEdgeLabelProjection(c)}}}for(var u=0;u<l.length;u++){var c=l[u],We=c._private,He=We.rscratch,F=He;if(!He.haystack){var Ue=2*Math.random()*Math.PI;He.source={x:Math.cos(Ue),y:Math.sin(Ue)};var Ue=2*Math.random()*Math.PI;He.target={x:Math.cos(Ue),y:Math.sin(Ue)}}var v=We.source,g=We.target,y=v._private.position,m=g._private.position,b=v.width(),w=g.width(),x=v.height(),_=g.height(),je=d["haystack-radius"].value,Ge=je/2;F.haystackPts=[F.source.x*b*Ge+y.x,F.source.y*x*Ge+y.y,F.target.x*w*Ge+m.x,F.target.y*_*Ge+m.y],He.edgeType="haystack",He.haystack=!0,this.recalculateEdgeLabelProjection(c)}return o}},r.findEndpoints=function(r){var n,i=r.source()[0],a=r.target()[0],o=r._private.style["target-arrow-shape"].value,s=r._private.style["source-arrow-shape"].value,l=a._private.style["border-width"].pxValue,u=i._private.style["border-width"].pxValue,c=r._private.rscratch;if("self"==c.edgeType||"compound"==c.edgeType){var d=[c.cp2cx,c.cp2cy];n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),d[0],d[1],l/2);var h=e.math.shortenIntersection(n,d,t.arrowShapes[o].spacing(r)),p=e.math.shortenIntersection(n,d,t.arrowShapes[o].gap(r));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1];var d=[c.cp2ax,c.cp2ay];n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),d[0],d[1],u/2);var f=e.math.shortenIntersection(n,d,t.arrowShapes[s].spacing(r)),v=e.math.shortenIntersection(n,d,t.arrowShapes[s].gap(r));c.startX=v[0],c.startY=v[1],c.arrowStartX=f[0],c.arrowStartY=f[1]}else if("straight"==c.edgeType){n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),i.position().x,i.position().y,l/2),0===n.length?c.noArrowPlacement=!0:c.noArrowPlacement=!1;var h=e.math.shortenIntersection(n,[i.position().x,i.position().y],t.arrowShapes[o].spacing(r)),p=e.math.shortenIntersection(n,[i.position().x,i.position().y],t.arrowShapes[o].gap(r));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1],n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),a.position().x,a.position().y,u/2),0===n.length?c.noArrowPlacement=!0:c.noArrowPlacement=!1;var f=e.math.shortenIntersection(n,[a.position().x,a.position().y],t.arrowShapes[s].spacing(r)),v=e.math.shortenIntersection(n,[a.position().x,a.position().y],t.arrowShapes[s].gap(r));c.startX=v[0],c.startY=v[1],c.arrowStartX=f[0],c.arrowStartY=f[1],e.is.number(c.startX)&&e.is.number(c.startY)&&e.is.number(c.endX)&&e.is.number(c.endY)?c.badLine=!1:c.badLine=!0}else if("bezier"==c.edgeType){var d=[c.cp2x,c.cp2y];n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),d[0],d[1],l/2);var h=e.math.shortenIntersection(n,d,t.arrowShapes[o].spacing(r)),p=e.math.shortenIntersection(n,d,t.arrowShapes[o].gap(r));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1],n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),d[0],d[1],u/2);var f=e.math.shortenIntersection(n,d,t.arrowShapes[s].spacing(r)),v=e.math.shortenIntersection(n,d,t.arrowShapes[s].gap(r));c.startX=v[0],c.startY=v[1],c.arrowStartX=f[0],c.arrowStartY=f[1]}else if(c.isArcEdge)return},r.findEdges=function(e){for(var t=this.getCachedEdges(),r={},n=[],i=0;i<e.length;i++)r[e[i]._private.data.id]=e[i];for(var i=0;i<t.length;i++)(r[t[i]._private.data.source]||r[t[i]._private.data.target])&&n.push(t[i]);return n},r.getArrowWidth=r.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},r=t[e];return r?r:(r=Math.max(Math.pow(13.37*e,.9),29),t[e]=r,r)}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawEdge=function(e,r,n){var i=r._private.rscratch,a=t.usePaths();if(!i.badBezier&&("bezier"!==i.edgeType&&"straight"!==i.edgeType||!isNaN(i.startX))){var o=r._private.style;if(!(o.width.pxValue<=0)){var s=o["overlay-padding"].pxValue,l=o["overlay-opacity"].value,u=o["overlay-color"].value;if(n){if(0===l)return;this.strokeStyle(e,u[0],u[1],u[2],l),e.lineCap="round","self"!=r._private.rscratch.edgeType||a||(e.lineCap="butt")}else{var c=o["line-color"].value;this.strokeStyle(e,c[0],c[1],c[2],o.opacity.value),e.lineCap="butt"}var d,h,p,f;p=d=r._private.source,f=h=r._private.target;var v=o.width.pxValue+(n?2*s:0),g=n?"solid":o["line-style"].value;e.lineWidth=v;var y=o["shadow-blur"].pxValue,m=o["shadow-opacity"].value,b=o["shadow-color"].value,x=o["shadow-offset-x"].pxValue,w=o["shadow-offset-y"].pxValue;if(this.shadowStyle(e,b,n?0:m,y,x,w),"haystack"===i.edgeType)this.drawStyledEdge(r,e,i.haystackPts,g,v);else if("self"===i.edgeType||"compound"===i.edgeType){var _=r._private.rscratch,E=[_.startX,_.startY,_.cp2ax,_.cp2ay,_.selfEdgeMidX,_.selfEdgeMidY,_.selfEdgeMidX,_.selfEdgeMidY,_.cp2cx,_.cp2cy,_.endX,_.endY];this.drawStyledEdge(r,e,E,g,v)}else if("straight"===i.edgeType){var S=h._private.position.x-d._private.position.x,D=h._private.position.y-d._private.position.y,T=i.endX-i.startX,k=i.endY-i.startY;if(0>S*T+D*k)i.straightEdgeTooShort=!0;else{var _=i;this.drawStyledEdge(r,e,[_.startX,_.startY,_.endX,_.endY],g,v),i.straightEdgeTooShort=!1}}else{var _=i;this.drawStyledEdge(r,e,[_.startX,_.startY,_.cp2x,_.cp2y,_.endX,_.endY],g,v)}"haystack"===i.edgeType?this.drawArrowheads(e,r,n):i.noArrowPlacement!==!0&&void 0!==i.startX&&this.drawArrowheads(e,r,n),this.shadowStyle(e,"transparent",0)}}},r.drawStyledEdge=function(e,r,n,i,a){var o,s=e._private.rscratch,l=r,u=!1,c=t.usePaths();if(c){for(var d=n,h=s.pathCacheKey&&d.length===s.pathCacheKey.length,p=h,f=0;p&&f<d.length;f++)s.pathCacheKey[f]!==d[f]&&(p=!1);p?(o=r=s.pathCache,u=!0):(o=r=new Path2D,s.pathCacheKey=d,s.pathCache=o)}if(l.setLineDash)switch(i){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([6,3]);break;case"solid":l.setLineDash([])}u||(r.beginPath&&r.beginPath(),r.moveTo(n[0],n[1]),6!==n.length||s.badBezier?12!==n.length||s.badBezier?4!==n.length||s.badLine||r.lineTo(n[2],n[3]):(r.quadraticCurveTo(n[2],n[3],n[4],n[5]),r.quadraticCurveTo(n[8],n[9],n[10],n[11])):r.quadraticCurveTo(n[2],n[3],n[4],n[5])),r=l,c?r.stroke(o):r.stroke(),r.setLineDash&&r.setLineDash([])},r.drawArrowheads=function(e,t,r){function n(r,n,i,a,o){var s=v[r+"-arrow-shape"].value;if("none"!==s){var l=e.globalCompositeOperation,u="hollow"===v[r+"-arrow-fill"].value?"both":"filled",c=v[r+"-arrow-fill"].value;"half-triangle-overshot"===s&&(c="hollow",u="hollow"),(1!==v.opacity.value||"hollow"===c)&&(e.globalCompositeOperation="destination-out",d.fillStyle(e,255,255,255,1),d.strokeStyle(e,255,255,255,1),d.drawArrowShape(t,r,e,u,v.width.pxValue,v[r+"-arrow-shape"].value,n,i,a,o),e.globalCompositeOperation=l);var h=v[r+"-arrow-color"].value;d.fillStyle(e,h[0],h[1],h[2],v.opacity.value),d.strokeStyle(e,h[0],h[1],h[2],v.opacity.value),d.drawArrowShape(t,r,e,c,v.width.pxValue,v[r+"-arrow-shape"].value,n,i,a,o)}}if(!r){var i,a,o,s,l,u,c=t._private.rscratch,d=this,h="haystack"===c.edgeType,p=t.source().position(),f=t.target().position();h?(o=c.haystackPts[0],s=c.haystackPts[1],l=c.haystackPts[2],u=c.haystackPts[3]):(o=c.arrowStartX,s=c.arrowStartY,l=c.arrowEndX,u=c.arrowEndY);var v=t._private.style;i=o-p.x,a=s-p.y,h||isNaN(o)||isNaN(s)||isNaN(i)||isNaN(a)||n("source",o,s,i,a);var g=c.midX,y=c.midY;h&&(g=(o+l)/2,y=(s+u)/2),i=o-l,a=s-u,"self"===c.edgeType&&(i=1,a=-1),isNaN(g)||isNaN(y)||n("mid-target",g,y,i,a),i*=-1,a*=-1,isNaN(g)||isNaN(y)||n("mid-source",g,y,i,a),i=l-f.x,a=u-f.y,h||isNaN(l)||isNaN(u)||isNaN(i)||isNaN(a)||n("target",l,u,i,a)}},r.drawArrowShape=function(e,r,n,i,a,o,s,l,u,c){var d,h=t.usePaths(),p=e._private.rscratch,f=!1,v=n,g={x:s,y:l},y=Math.asin(c/Math.sqrt(u*u+c*c));0>u?y+=Math.PI/2:y=-(Math.PI/2+y);var m=this.getArrowWidth(a),b=t.arrowShapes[o];if(h){var x=m+"$"+o+"$"+y+"$"+s+"$"+l;p.arrowPathCacheKey=p.arrowPathCacheKey||{},p.arrowPathCache=p.arrowPathCache||{};var w=p.arrowPathCacheKey[r]===x;w?(d=n=p.arrowPathCache[r],f=!0):(d=n=new Path2D,p.arrowPathCacheKey[r]=x,p.arrowPathCache[r]=d)}n.beginPath&&n.beginPath(),f||b.draw(n,m,y,g),!b.leavePathOpen&&n.closePath&&n.closePath(),n=v,("filled"===i||"both"===i)&&(h?n.fill(d):n.fill()),("hollow"===i||"both"===i)&&(n.lineWidth=b.matchEdgeWidth?a:1,n.lineJoin="miter",h?n.stroke(d):n.stroke())}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.getCachedImage=function(e,t){var r=this,n=r.imageCache=r.imageCache||{};if(n[e]&&n[e].image)return n[e].image;var i=n[e]=n[e]||{},a=i.image=new Image;return a.addEventListener("load",t),a.src=e,a},r.safeDrawImage=function(e,r,n,i,a,o,s,l,u,c){var d=this;try{e.drawImage(r,n,i,a,o,s,l,u,c)}catch(h){d.data.canvasNeedsRedraw[t.NODE]=!0,d.data.canvasNeedsRedraw[t.DRAG]=!0,d.drawingImage=!0,d.redraw()}},r.drawInscribedImage=function(e,r,n){var i=this,a=n._private.position.x,o=n._private.position.y,s=n._private.style,l=s["background-fit"].value,u=s["background-position-x"],c=s["background-position-y"],d=s["background-repeat"].value,h=n.width(),p=n.height(),f=n._private.rscratch,v=s["background-clip"].value,g="node"===v,y=s["background-image-opacity"].value,m=r.width,b=r.height;if(0!==m&&0!==b){var x=s["background-width"];"auto"!==x.value&&(m="%"===x.units?x.value/100*h:x.pxValue);var w=s["background-height"];if("auto"!==w.value&&(b="%"===w.units?w.value/100*p:w.pxValue),0!==m&&0!==b){if("contain"===l){var _=Math.min(h/m,p/b);m*=_,b*=_}else if("cover"===l){var _=Math.max(h/m,p/b);m*=_,b*=_}var E=a-h/2;E+="%"===u.units?(h-m)*u.value/100:u.pxValue;var S=o-p/2;S+="%"===c.units?(p-b)*c.value/100:c.pxValue,f.pathCache&&(E-=a,S-=o,a=0,o=0);var D=e.globalAlpha;if(e.globalAlpha=y,"no-repeat"===d)g&&(e.save(),f.pathCache?e.clip(f.pathCache):(t.nodeShapes[i.getNodeShape(n)].drawPath(e,a,o,h,p),e.clip())),i.safeDrawImage(e,r,0,0,r.width,r.height,E,S,m,b),g&&e.restore();else{var T=e.createPattern(r,d);e.fillStyle=T,t.nodeShapes[i.getNodeShape(n)].drawPath(e,a,o,h,p),e.translate(E,S),e.fill(),e.translate(-E,-S)}e.globalAlpha=D}}}}(cytoscape),function(e){"use strict";function t(e,t,r,n,i,a){var a=a||5;e.beginPath(),e.moveTo(t+a,r),e.lineTo(t+n-a,r),e.quadraticCurveTo(t+n,r,t+n,r+a),e.lineTo(t+n,r+i-a),e.quadraticCurveTo(t+n,r+i,t+n-a,r+i),e.lineTo(t+a,r+i),e.quadraticCurveTo(t,r+i,t,r+i-a),e.lineTo(t,r+a),e.quadraticCurveTo(t,r,t+a,r),e.closePath(),e.fill()}var r=e("renderer","canvas"),n=r.prototype;n.drawEdgeText=function(t,r){var n=r._private.style.content.strValue;if(n&&!n.match(/^\s+$/)&&(!this.hideEdgesOnViewport||!(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var i=r._private.style["font-size"].pxValue*r.cy().zoom(),a=r._private.style["min-zoomed-font-size"].pxValue;if(!(a>i)){t.textAlign="center",t.textBaseline="middle";var o=r._private.rscratch;if(e.is.number(o.labelX)&&e.is.number(o.labelY)){var s,l,u,c=r._private.style,d="autorotate"===c["edge-text-rotation"].strValue;if(d){switch(o.edgeType){case"haystack":l=o.haystackPts[2]-o.haystackPts[0],u=o.haystackPts[3]-o.haystackPts[1];break;default:l=o.endX-o.startX,u=o.endY-o.startY}s=Math.atan(u/l),t.translate(o.labelX,o.labelY),t.rotate(s),this.drawText(t,r,0,0),t.rotate(-s),t.translate(-o.labelX,-o.labelY)}else this.drawText(t,r,o.labelX,o.labelY)}}}},n.drawNodeText=function(t,r){var n=r._private.style.content.strValue;if(n&&!n.match(/^\s+$/)){var i=r._private.style["font-size"].pxValue*r.cy().zoom(),a=r._private.style["min-zoomed-font-size"].pxValue;if(!(a>i)){var o=r._private.style["text-halign"].strValue,s=r._private.style["text-valign"].strValue,l=r._private.rscratch;if(e.is.number(l.labelX)&&e.is.number(l.labelY)){switch(o){case"left":t.textAlign="right";break;case"right":t.textAlign="left";break;default:t.textAlign="center"}switch(s){case"top":t.textBaseline="bottom";break;case"bottom":t.textBaseline="top";break;default:t.textBaseline="middle"}this.drawText(t,r,l.labelX,l.labelY)}}}},n.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},n.setupTextStyle=function(e,t){var r=t.effectiveOpacity(),n=t._private.style,i=n["font-style"].strValue,a=n["font-size"].pxValue+"px",o=n["font-family"].strValue,s=n["font-weight"].strValue,l=n["text-opacity"].value*n.opacity.value*r,u=n["text-outline-opacity"].value*l,c=n.color.value,d=n["text-outline-color"].value,h=n["text-shadow-blur"].pxValue,p=n["text-shadow-opacity"].value,f=n["text-shadow-color"].value,v=n["text-shadow-offset-x"].pxValue,g=n["text-shadow-offset-y"].pxValue,y=t._private.fontKey,m=this.getFontCache(e);m.key!==y&&(e.font=i+" "+s+" "+a+" "+o,m.key=y);var b=this.getLabelText(t);return e.lineJoin="round",this.fillStyle(e,c[0],c[1],c[2],l),this.strokeStyle(e,d[0],d[1],d[2],u),this.shadowStyle(e,f,p,h,v,g),b},n.drawText=function(e,r,n,i){var a=r._private,o=a.style,s=a.rstyle,l=a.rscratch,u=r.effectiveOpacity();if(0!==u&&0!==o["text-opacity"].value){var c=this.setupTextStyle(e,r),d=o["text-halign"].value,h=o["text-valign"].value;if(r.isEdge()&&(d="center",h="center"),null!=c&&!isNaN(n)&&!isNaN(i)){var p=o["text-background-opacity"].value,f=o["text-border-opacity"].value,v=o["text-border-width"].pxValue;if(p>0||v>0&&f>0){var g=4+v/2;r.isNode()&&("top"===h?i-=g:"bottom"===h&&(i+=g),"left"===d?n-=g:"right"===d&&(n+=g));var y=s.labelWidth,m=s.labelHeight,b=n;d&&("center"==d?b-=y/2:"left"==d&&(b-=y));var x=i;if(r.isNode()?"top"==h?x-=m:"center"==h&&(x-=m/2):x-=m/2,"autorotate"===o["edge-text-rotation"].strValue?(i=0,y+=4,b=n-y/2,x=i-m/2):(b-=g,x-=g,m+=2*g,y+=2*g),p>0){var w=e.fillStyle,_=o["text-background-color"].value;e.fillStyle="rgba("+_[0]+","+_[1]+","+_[2]+","+p*u+")";var E=o["text-background-shape"].strValue;"roundrectangle"==E?t(e,b,x,y,m,2):e.fillRect(b,x,y,m),e.fillStyle=w}if(v>0&&f>0){var S=e.strokeStyle,D=e.lineWidth,T=o["text-border-color"].value,k=o["text-border-style"].value;if(e.strokeStyle="rgba("+T[0]+","+T[1]+","+T[2]+","+f*u+")",e.lineWidth=v,e.setLineDash)switch(k){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=v/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(b,x,y,m),"double"===k){var C=v/2;e.strokeRect(b+C,x+C,y-2*C,m-2*C)}e.setLineDash&&e.setLineDash([]),e.lineWidth=D,e.strokeStyle=S}}var P=2*o["text-outline-width"].pxValue;if(P>0&&(e.lineWidth=P),"wrap"===o["text-wrap"].value){var M=l.labelWrapCachedLines,B=s.labelHeight/M.length;switch(h){case"top":i-=(M.length-1)*B;break;case"bottom":break;default:case"center":i-=(M.length-1)*B/2}for(var N=0;N<M.length;N++)P>0&&e.strokeText(M[N],n,i),e.fillText(M[N],n,i),i+=B}else P>0&&e.strokeText(c,n,i),e.fillText(c,n,i);this.shadowStyle(e,"transparent",0)}}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawNode=function(e,r,n){var i,a,o=this,s=r._private.style,l=r._private.rscratch,u=r._private,c=u.position;if(void 0!==c.x&&void 0!==c.y){var d,h=t.usePaths(),p=e,f=!1,v=s["overlay-padding"].pxValue,g=s["overlay-opacity"].value,y=s["overlay-color"].value;if(!n||0!==g){var m=r.effectiveOpacity();if(0!==m)if(i=this.getNodeWidth(r),a=this.getNodeHeight(r),e.lineWidth=s["border-width"].pxValue,void 0!==n&&n)g>0&&(this.fillStyle(e,y[0],y[1],y[2],g),t.nodeShapes.roundrectangle.drawPath(e,r._private.position.x,r._private.position.y,i+2*v,a+2*v),e.fill());else{var b,x=s["background-image"].value[2]||s["background-image"].value[1];if(void 0!==x){b=this.getCachedImage(x,function(){o.data.canvasNeedsRedraw[t.NODE]=!0,o.data.canvasNeedsRedraw[t.DRAG]=!0,o.drawingImage=!0,o.redraw()});var w=u.backgrounding;u.backgrounding=!b.complete,w!==u.backgrounding&&r.updateStyle(!1)}var _=s["background-color"].value,E=s["border-color"].value,S=s["border-style"].value;this.fillStyle(e,_[0],_[1],_[2],s["background-opacity"].value*m),this.strokeStyle(e,E[0],E[1],E[2],s["border-opacity"].value*m);var D=s["shadow-blur"].pxValue,T=s["shadow-opacity"].value,k=s["shadow-color"].value,C=s["shadow-offset-x"].pxValue,P=s["shadow-offset-y"].pxValue;if(this.shadowStyle(e,k,T,D,C,P),e.lineJoin="miter",e.setLineDash)switch(S){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var M=s.shape.strValue;if(h){var B=M+"$"+i+"$"+a;e.translate(c.x,c.y),l.pathCacheKey===B?(d=e=l.pathCache,f=!0):(d=e=new Path2D,l.pathCacheKey=B,l.pathCache=d)}if(!f){var N=c;h&&(N={x:0,y:0}),t.nodeShapes[this.getNodeShape(r)].drawPath(e,N.x,N.y,i,a)}e=p,h?e.fill(d):e.fill(),this.shadowStyle(e,"transparent",0),void 0!==x&&b.complete&&this.drawInscribedImage(e,b,r);var I=s["background-blacken"].value,O=s["border-width"].pxValue;if(this.hasPie(r)&&(this.drawPie(e,r,m),(0!==I||0!==O)&&(h||t.nodeShapes[this.getNodeShape(r)].drawPath(e,c.x,c.y,i,a))),I>0?(this.fillStyle(e,0,0,0,I),h?e.fill(d):e.fill()):0>I&&(this.fillStyle(e,255,255,255,-I),h?e.fill(d):e.fill()),O>0&&(h?e.stroke(d):e.stroke(),"double"===S)){e.lineWidth=s["border-width"].pxValue/3;var L=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",h?e.stroke(d):e.stroke(),e.globalCompositeOperation=L}h&&e.translate(-c.x,-c.y),e.setLineDash&&e.setLineDash([])}}}},r.hasPie=function(e){return e=e[0],e._private.hasPie},r.drawPie=function(r,n,i){n=n[0];var a=n._private,o=a.style,s=o["pie-size"],l=this.getNodeWidth(n),u=this.getNodeHeight(n),c=a.position.x,d=a.position.y,h=Math.min(l,u)/2,p=0,f=t.usePaths();f&&(c=0,d=0),"%"===s.units?h=h*s.value/100:void 0!==s.pxValue&&(h=s.pxValue/2);for(var v=1;v<=e.style.pieBackgroundN;v++){var g=o["pie-"+v+"-background-size"].value,y=o["pie-"+v+"-background-color"].value,m=o["pie-"+v+"-background-opacity"].value*i,b=g/100;b+p>1&&(b=1-p);var x=1.5*Math.PI+2*Math.PI*p,w=2*Math.PI*b,_=x+w;0===g||p>=1||p+b>1||(r.beginPath(),r.moveTo(c,d),r.arc(c,d,h,x,_),r.closePath(),this.fillStyle(r,y[0],y[1],y[2],m),r.fill(),p+=b)}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t,n=t.prototype;n.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},n.paintCache=function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++)if(t=r[i],t.context===e){n=!1;break}return n&&(t={context:e},r.push(t)),t},n.fillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"},n.strokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"},n.shadowStyle=function(e,t,r,n,i,a){var o=this.data.cy.zoom(),s=this.paintCache(e);(0!==s.shadowOpacity||0!==r)&&(s.shadowOpacity=r,r>0?(e.shadowBlur=n*o,e.shadowColor="rgba("+t[0]+","+t[1]+","+t[2]+","+r+")",e.shadowOffsetX=i*o,e.shadowOffsetY=a*o):(e.shadowBlur=0,e.shadowColor="transparent"))},n.matchCanvasSize=function(e){var n=this.data,i=e.clientWidth,a=e.clientHeight,o=this.getPixelRatio(),s=this.motionBlurPxRatio;(e===this.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE]||e===this.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l,u=i*o,c=a*o;if(u!==this.canvasWidth||c!==this.canvasHeight){this.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)l=n.canvases[h],(l.width!==u||l.height!==c)&&(l.width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px");for(var h=0;h<t.BUFFER_COUNT;h++)l=n.bufferCanvases[h],(l.width!==u||l.height!==c)&&(l.width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px");this.textureMult=1,1>=o&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],this.textureMult=2,l.width=u*this.textureMult,l.height=c*this.textureMult),this.canvasWidth=u,this.canvasHeight=c}},n.renderTo=function(e,t,r,n){this.redraw({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},n.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},t.minRedrawLimit=1e3/60,t.maxRedrawLimit=1e3,t.motionBlurDelay=100,n.redraw=function(n){function i(){function n(e,t,r,n,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",c.fillStyle(e,255,255,255,c.motionBlurTransparency),e.fillRect(t,r,n,i),e.globalCompositeOperation=a}function i(e,t){var i,s,d,h;c.clearingMotionBlur||e!==p.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]&&e!==p.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG]?(i=k,s=D,d=c.canvasWidth,h=c.canvasHeight):(i={x:T.x*y,y:T.y*y},s=S*y,
d=c.canvasWidth*y,h=c.canvasHeight*y),e.setTransform(1,0,0,1,0,0),"motionBlur"===t?n(e,0,0,d,h):a||void 0!==t&&!t||e.clearRect(0,0,d,h),o||(e.translate(i.x,i.y),e.scale(s,s)),u&&e.translate(u.x,u.y),l&&e.scale(l,l)}function x(e,t){for(var r=e.eles,n=0;n<r.length;n++){var i=r[n];i.isNode()?(c.drawNode(t,i),X||c.drawNodeText(t,i),c.drawNode(t,i,!0)):F||(c.drawEdge(t,i),X||c.drawEdgeText(t,i),c.drawEdge(t,i,!0))}}c.textureDrawLastFrame&&!v&&(f[r.NODE]=!0,f[r.SELECT_BOX]=!0);var _=c.getCachedEdges(),E=h.style()._private.coreStyle,S=h.zoom(),D=void 0!==l?l:S,T=h.pan(),k={x:T.x,y:T.y},P={zoom:S,pan:{x:T.x,y:T.y}},M=c.prevViewport,B=void 0===M||P.zoom!==M.zoom||P.pan.x!==M.pan.x||P.pan.y!==M.pan.y;B||b&&!m||(c.motionBlurPxRatio=1),u&&(k=u),D*=d,k.x*=d,k.y*=d;var N={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};if(v||(c.textureDrawLastFrame=!1),v){c.textureDrawLastFrame=!0;var I;if(!c.textureCache){c.textureCache={},I=c.textureCache.bb=h.elements().boundingBox(),c.textureCache.texture=c.data.bufferCanvases[t.TEXTURE_BUFFER];var O=c.data.bufferContexts[t.TEXTURE_BUFFER];O.setTransform(1,0,0,1,0,0),O.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult),c.redraw({forcedContext:O,drawOnlyNodeLayer:!0,forcedPxRatio:d*c.textureMult});var P=c.textureCache.viewport={zoom:h.zoom(),pan:h.pan(),width:c.canvasWidth,height:c.canvasHeight};P.mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}f[r.DRAG]=!1,f[r.NODE]=!1;var L=p.contexts[r.NODE],z=c.textureCache.texture,P=c.textureCache.viewport;I=c.textureCache.bb,L.setTransform(1,0,0,1,0,0),g?n(L,0,0,P.width,P.height):L.clearRect(0,0,P.width,P.height);var R=E["outside-texture-bg-color"].value,A=E["outside-texture-bg-opacity"].value;c.fillStyle(L,R[0],R[1],R[2],A),L.fillRect(0,0,P.width,P.height);var S=h.zoom();i(L,!1),L.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/d,P.height/P.zoom/d),L.drawImage(z,P.mpan.x,P.mpan.y,P.width/P.zoom/d,P.height/P.zoom/d)}else c.textureOnViewport&&!a&&(c.textureCache=null);var V=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,F=c.hideEdgesOnViewport&&V,X=c.hideLabelsOnViewport&&V;if(f[r.DRAG]||f[r.NODE]||o||s){F||c.findEdgeControlPoints(_);for(var j=c.getCachedZSortedEles(),q=h.extent(),Y=0;Y<j.length;Y++){var $,W=j[Y],I=a?null:W.boundingBox(),H=a?!0:e.math.boundingBoxesIntersect(q,I);H&&($=W._private.rscratch.inDragLayer?N.drag:N.nondrag,$.eles.push(W))}}var U=[];if(U[r.NODE]=!f[r.NODE]&&g&&!c.clearedForMotionBlur[r.NODE]||c.clearingMotionBlur,U[r.NODE]&&(c.clearedForMotionBlur[r.NODE]=!0),U[r.DRAG]=!f[r.DRAG]&&g&&!c.clearedForMotionBlur[r.DRAG]||c.clearingMotionBlur,U[r.DRAG]&&(c.clearedForMotionBlur[r.DRAG]=!0),f[r.NODE]||o||s||U[r.NODE]){var G=g&&!U[r.NODE]&&1!==y,L=a||(G?c.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]:p.contexts[r.NODE]),Z=g&&!G?"motionBlur":void 0;i(L,Z),x(N.nondrag,L),o||g||(f[r.NODE]=!1)}if(!s&&(f[r.DRAG]||o||U[r.DRAG])){var G=g&&!U[r.DRAG]&&1!==y,L=a||(G?c.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG]:p.contexts[r.DRAG]);i(L,g&&!G?"motionBlur":void 0),x(N.drag,L),o||g||(f[r.DRAG]=!1)}if(c.showFps||!s&&f[r.SELECT_BOX]&&!o){var L=a||p.contexts[r.SELECT_BOX];if(i(L),1==p.select[4]&&(c.hoverData.selecting||c.touchData.selecting)){var S=p.cy.zoom(),K=E["selection-box-border-width"].value/S;L.lineWidth=K,L.fillStyle="rgba("+E["selection-box-color"].value[0]+","+E["selection-box-color"].value[1]+","+E["selection-box-color"].value[2]+","+E["selection-box-opacity"].value+")",L.fillRect(p.select[0],p.select[1],p.select[2]-p.select[0],p.select[3]-p.select[1]),K>0&&(L.strokeStyle="rgba("+E["selection-box-border-color"].value[0]+","+E["selection-box-border-color"].value[1]+","+E["selection-box-border-color"].value[2]+","+E["selection-box-opacity"].value+")",L.strokeRect(p.select[0],p.select[1],p.select[2]-p.select[0],p.select[3]-p.select[1]))}if(p.bgActivePosistion&&!c.hoverData.selecting){var S=p.cy.zoom(),J=p.bgActivePosistion;L.fillStyle="rgba("+E["active-bg-color"].value[0]+","+E["active-bg-color"].value[1]+","+E["active-bg-color"].value[2]+","+E["active-bg-opacity"].value+")",L.beginPath(),L.arc(J.x,J.y,E["active-bg-size"].pxValue/S,0,2*Math.PI),L.fill()}var Q=c.averageRedrawTime;if(c.showFps&&Q){Q=Math.round(Q);var ee=Math.round(1e3/Q);L.setTransform(1,0,0,1,0,0),L.fillStyle="rgba(255, 0, 0, 0.75)",L.strokeStyle="rgba(255, 0, 0, 0.75)",L.lineWidth=1,L.fillText("1 frame = "+Q+" ms = "+ee+" fps",0,20);var te=60;L.strokeRect(0,30,250,20),L.fillRect(0,30,250*Math.min(ee/te,1),20)}o||(f[r.SELECT_BOX]=!1)}if(g&&1!==y){var re=p.contexts[r.NODE],ne=c.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE],ie=p.contexts[r.DRAG],ae=c.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG],oe=function(e,t,r){e.setTransform(1,0,0,1,0,0),r||!w?e.clearRect(0,0,c.canvasWidth,c.canvasHeight):n(e,0,0,c.canvasWidth,c.canvasHeight);var i=y;e.drawImage(t,0,0,c.canvasWidth*i,c.canvasHeight*i,0,0,c.canvasWidth,c.canvasHeight)};(f[r.NODE]||U[r.NODE])&&(oe(re,ne,U[r.NODE]),f[r.NODE]=!1),(f[r.DRAG]||U[r.DRAG])&&(oe(ie,ae,U[r.DRAG]),f[r.DRAG]=!1)}var se=Date.now();void 0===c.averageRedrawTime&&(c.averageRedrawTime=se-C),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0),c.redrawTotalTime+=se-C,c.lastRedrawTime=se-C,c.averageRedrawTime=c.averageRedrawTime/2+(se-C)/2,c.currentlyDrawing=!1,c.prevViewport=P,c.clearingMotionBlur&&(c.clearingMotionBlur=!1,c.motionBlurCleared=!0,c.motionBlur=!0),g&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null,c.clearedForMotionBlur[r.NODE]=!1,c.clearedForMotionBlur[r.DRAG]=!1,c.motionBlur=!1,c.clearingMotionBlur=!v,c.mbFrames=0,f[r.NODE]=!0,f[r.DRAG]=!0,c.redraw()},t.motionBlurDelay)),c.drawingImage=!1}n=n||{};var a=n.forcedContext,o=n.drawAllLayers,s=n.drawOnlyNodeLayer,l=n.forcedZoom,u=n.forcedPan,c=this,d=void 0===n.forcedPxRatio?this.getPixelRatio():n.forcedPxRatio,h=c.data.cy,p=c.data,f=p.canvasNeedsRedraw,v=c.textureOnViewport&&!a&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),g=void 0!==n.motionBlur?n.motionBlur:c.motionBlur,y=c.motionBlurPxRatio,m=h.hasCompoundNodes(),b=c.hoverData.draggingEles,x=c.hoverData.selecting||c.touchData.selecting?!0:!1;g=g&&!a&&c.motionBlurEnabled&&!x;var w=g;!a&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout),!a&&this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=null,void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var _=t.minRedrawLimit,E=t.maxRedrawLimit,S=this.averageRedrawTime;S=_>S?_:S,S=E>S?S:E,void 0===this.lastDrawTime&&(this.lastDrawTime=0);var D=Date.now(),T=D-this.lastDrawTime,k=T>=S;if(!a&&!c.clearingMotionBlur){if(!k||this.currentlyDrawing)return void(this.redrawTimeout=setTimeout(function(){c.redraw()},S));this.lastDrawTime=D,this.currentlyDrawing=!0}g&&(null==c.mbFrames&&(c.mbFrames=0),c.drawingImage||c.mbFrames++,c.mbFrames<3&&(w=!1),c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)),c.clearingMotionBlur&&(c.motionBlurPxRatio=1);var C=Date.now();a?i():e.util.requestAnimationFrame(i),a||c.initrender||(c.initrender=!0,h.trigger("initrender")),a||h.triggerOnRender()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawPolygonPath=function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],r+s*a[2*l+1]);e.closePath()},r.drawPolygon=function(e,t,r,n,i,a){this.drawPolygonPath(e,t,r,n,i,a),e.fill()},r.drawRoundRectanglePath=function(t,r,n,i,a,o){var s=i/2,l=a/2,u=e.math.getRoundRectangleRadius(i,a);t.beginPath&&t.beginPath(),t.moveTo(r,n-l),t.arcTo(r+s,n-l,r+s,n,u),t.arcTo(r+s,n+l,r,n+l,u),t.arcTo(r-s,n+l,r-s,n,u),t.arcTo(r-s,n-l,r,n-l,u),t.lineTo(r,n-l),t.closePath()},r.drawRoundRectangle=function(e,t,r,n,i,a){this.drawRoundRectanglePath(e,t,r,n,i,a),e.fill()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},r.bufferCanvasImage=function(t){var r=this.data,n=r.cy,i=n.elements().boundingBox(),a=t.full?Math.ceil(i.w):this.data.container.clientWidth,o=t.full?Math.ceil(i.h):this.data.container.clientHeight,s=1;if(void 0!==t.scale)a*=t.scale,o*=t.scale,s=t.scale;else if(e.is.number(t.maxWidth)||e.is.number(t.maxHeight)){var l=1/0,u=1/0;e.is.number(t.maxWidth)&&(l=s*t.maxWidth/a),e.is.number(t.maxHeight)&&(u=s*t.maxHeight/o),s=Math.min(l,u),a*=s,o*=s}var c=document.createElement("canvas");c.width=a,c.height=o,c.style.width=a+"px",c.style.height=o+"px";var d=c.getContext("2d");if(a>0&&o>0)if(d.clearRect(0,0,a,o),t.bg&&(d.fillStyle=t.bg,d.rect(0,0,a,o),d.fill()),d.globalCompositeOperation="source-over",t.full)this.redraw({forcedContext:d,drawAllLayers:!0,forcedZoom:s,forcedPan:{x:-i.x1*s,y:-i.y1*s},forcedPxRatio:1});else{var h=n.pan(),p={x:h.x*s,y:h.y*s},f=n.zoom()*s;this.redraw({forcedContext:d,drawAllLayers:!0,forcedZoom:f,forcedPan:p,forcedPxRatio:1})}return c},r.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")},r.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t,n=r.prototype;n.registerBinding=function(e,t,r,n){this.bindings.push({target:e,event:t,handler:r,useCapture:n}),e.addEventListener(t,r,n)},n.nodeIsDraggable=function(e){return 0!==e._private.style.opacity.value&&"visible"==e._private.style.visibility.value&&"element"==e._private.style.display.value&&!e.locked()&&e.grabbable()?!0:!1},n.load=function(){var t=this,n=function(e){var r;if(e.addToList&&t.data.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var n=0;n<e.addToList.length;n++){var i=e.addToList[n];e.addToList.hasId[i.id()]=!0}}r=e.addToList.hasId}return r||{}},i=function(e,t){if(e._private.cy.hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList))for(var r=n(t),i=e.descendants(),a=0;a<i.size();a++){var o=i[a],s=o._private;t.inDragLayer&&(s.rscratch.inDragLayer=!0),t.addToList&&!r[o.id()]&&(t.addToList.push(o),r[o.id()]=!0,s.grabbed=!0);for(var l=s.edges,u=0;t.inDragLayer&&u<l.length;u++)l[u]._private.rscratch.inDragLayer=!0}},a=function(e,t){var r=e._private,a=n(t);t.inDragLayer&&(r.rscratch.inDragLayer=!0),t.addToList&&!a[e.id()]&&(t.addToList.push(e),a[e.id()]=!0,r.grabbed=!0);for(var o=r.edges,l=0;t.inDragLayer&&l<o.length;l++)o[l]._private.rscratch.inDragLayer=!0;i(e,t),s(e,{inDragLayer:t.inDragLayer})},o=function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t]._private;if("nodes"===r.group){r.rscratch.inDragLayer=!1,r.grabbed=!1;for(var n=r.edges,i=0;i<n.length;i++)n[i]._private.rscratch.inDragLayer=!1;s(e[t],{inDragLayer:!1})}else"edges"===r.group&&(r.rscratch.inDragLayer=!1)}},s=function(e,t){if(null!=t.inDragLayer||null!=t.addToList){var r=e;if(e._private.cy.hasCompoundNodes()){for(;r.parent().nonempty();)r=r.parent()[0];if(r!=e){for(var i=r.descendants().merge(r).unmerge(e).unmerge(e.descendants()),a=i.connectedEdges(),o=n(t),s=0;s<i.size();s++)void 0!==t.inDragLayer&&(i[s]._private.rscratch.inDragLayer=t.inDragLayer),t.addToList&&!o[i[s].id()]&&(t.addToList.push(i[s]),o[i[s].id()]=!0,i[s]._private.grabbed=!0);for(var l=0;void 0!==t.inDragLayer&&l<a.length;l++)a[l]._private.rscratch.inDragLayer=t.inDragLayer}}}};"undefined"!=typeof MutationObserver?(t.removeObserver=new MutationObserver(function(e){for(var r=0;r<e.length;r++){var n=e[r],i=n.removedNodes;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o===t.data.container){t.destroy();break}}}}),t.removeObserver.observe(t.data.container.parentNode,{childList:!0})):t.registerBinding(t.data.container,"DOMNodeRemoved",function(e){t.destroy()}),t.registerBinding(window,"resize",e.util.debounce(function(e){t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.data.container),t.data.canvasNeedsRedraw[r.NODE]=!0,t.redraw()},100));for(var l=function(e){t.registerBinding(e,"scroll",function(e){t.invalidateContainerClientCoordsCache()})},u=t.data.cy.container();l(u),u.parentNode;)u=u.parentNode;t.registerBinding(t.data.container,"contextmenu",function(e){e.preventDefault()});var c=function(){return 0!==t.data.select[4]};t.registerBinding(t.data.container,"mousedown",function(n){n.preventDefault(),t.hoverData.capture=!0,t.hoverData.which=n.which;var i=t.data.cy,o=t.projectIntoViewport(n.clientX,n.clientY),s=t.data.select,l=t.findNearestElement(o[0],o[1],!0,!1),u=t.dragData.possibleDragElements;t.hoverData.mdownPos=o;var c=t.data.canvasNeedsRedraw,d=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var r=t.hoverData.down;r?r.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:o[0],y:o[1]}})):i.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:o[0],y:o[1]}}))}},t.tapholdDuration)};if(3==n.which){t.hoverData.cxtStarted=!0;var h=new e.Event(n,{type:"cxttapstart",cyPosition:{x:o[0],y:o[1]}});l?(l.activate(),l.trigger(h),t.hoverData.down=l):i.trigger(h),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==n.which){if(l&&l.activate(),null!=l){if(t.nodeIsDraggable(l)){var p=new e.Event(n,{type:"grab",cyPosition:{x:o[0],y:o[1]}});if(l.isNode()&&!l.selected())u=t.dragData.possibleDragElements=[],a(l,{addToList:u}),l.trigger(p);else if(l.isNode()&&l.selected()){u=t.dragData.possibleDragElements=[];for(var f=i.$(function(){return this.isNode()&&this.selected()}),v=0;v<f.length;v++)t.nodeIsDraggable(f[v])&&a(f[v],{addToList:u});l.trigger(p)}c[r.NODE]=!0,c[r.DRAG]=!0}l.trigger(new e.Event(n,{type:"mousedown",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:o[0],y:o[1]}}))}else null==l&&i.trigger(new e.Event(n,{type:"mousedown",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:o[0],y:o[1]}}));if(t.hoverData.down=l,t.hoverData.downTime=(new Date).getTime(),null==l||l.isEdge()){s[4]=1;var g=Math.max(0,r.panOrBoxSelectDelay-(+new Date-t.hoverData.downTime));clearTimeout(t.bgActiveTimeout),i.boxSelectionEnabled()||l&&l.isEdge()?t.bgActiveTimeout=setTimeout(function(){l&&l.unactivate(),t.data.bgActivePosistion={x:o[0],y:o[1]},t.hoverData.dragging=!0,c[r.SELECT_BOX]=!0,t.redraw()},g):(t.data.bgActivePosistion={x:o[0],y:o[1]},c[r.SELECT_BOX]=!0,t.redraw())}d()}s[0]=s[2]=o[0],s[1]=s[3]=o[1]},!1),t.registerBinding(window,"mousemove",e.util.throttle(function(n){var i=!1,o=t.hoverData.capture;if(!o){var s=t.findContainerClientCoords();if(!(n.clientX>s[0]&&n.clientX<s[0]+t.canvasWidth&&n.clientY>s[1]&&n.clientY<s[1]+t.canvasHeight))return;for(var l=t.data.container,u=n.target,c=u.parentNode,d=!1;c;){if(c===l){d=!0;break}c=c.parentNode}if(!d)return}var h=t.data.cy,p=h.zoom(),f=t.projectIntoViewport(n.clientX,n.clientY),v=t.data.select,g=t.data.canvasNeedsRedraw,y=null;t.hoverData.draggingEles||(y=t.findNearestElement(f[0],f[1],!0,!1));var m=t.hoverData.last,b=t.hoverData.down,x=[f[0]-v[2],f[1]-v[3]],w=t.dragData.possibleDragElements,_=v[2]-v[0],E=_*_,S=v[3]-v[1],D=S*S,T=E+D,k=T*p*p;t.hoverData.tapholdCancelled=!0;var C=function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(x[0]),e.push(x[1])):(e[0]+=x[0],e[1]+=x[1])};if(i=!0,null!=y?y.trigger(new e.Event(n,{type:"mousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:f[0],y:f[1]}})):null==y&&h.trigger(new e.Event(n,{type:"mousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:f[0],y:f[1]}})),3===t.hoverData.which){var P=new e.Event(n,{type:"cxtdrag",cyPosition:{x:f[0],y:f[1]}});b?b.trigger(P):h.trigger(P),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&y===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.trigger(new e.Event(n,{type:"cxtdragout",cyPosition:{x:f[0],y:f[1]}})),t.hoverData.cxtOver=y,y&&y.trigger(new e.Event(n,{type:"cxtdragover",cyPosition:{x:f[0],y:f[1]}})))}else if(t.hoverData.dragging){if(i=!0,h.panningEnabled()&&h.userPanningEnabled()){var M;if(t.hoverData.justStartedPan){var B=t.hoverData.mdownPos;M={x:(f[0]-B[0])*p,y:(f[1]-B[1])*p},t.hoverData.justStartedPan=!1}else M={x:x[0]*p,y:x[1]*p};h.panBy(M),t.hoverData.dragged=!0}f=t.projectIntoViewport(n.clientX,n.clientY)}else if(1==v[4]&&(null==b||b.isEdge())&&(!h.boxSelectionEnabled()||+new Date-t.hoverData.downTime>=r.panOrBoxSelectDelay)&&!t.hoverData.selecting&&k>=t.desktopTapThreshold2&&h.panningEnabled()&&h.userPanningEnabled())t.hoverData.dragging=!0,t.hoverData.selecting=!1,t.hoverData.justStartedPan=!0,v[4]=0;else{if(h.boxSelectionEnabled()&&!t.hoverData.dragging&&Math.pow(v[2]-v[0],2)+Math.pow(v[3]-v[1],2)>7&&v[4]&&(clearTimeout(t.bgActiveTimeout),t.data.bgActivePosistion=void 0,t.hoverData.selecting=!0,g[r.SELECT_BOX]=!0,t.redraw()),b&&b.isEdge()&&b.active()&&b.unactivate(),y!=m&&(m&&(m.trigger(new e.Event(n,{type:"mouseout",cyPosition:{x:f[0],y:f[1]}})),m.trigger(new e.Event(n,{type:"tapdragout",cyPosition:{x:f[0],y:f[1]}}))),y&&(y.trigger(new e.Event(n,{type:"mouseover",cyPosition:{x:f[0],y:f[1]}})),y.trigger(new e.Event(n,{type:"tapdragover",cyPosition:{x:f[0],y:f[1]}}))),t.hoverData.last=y),b&&b.isNode()&&t.nodeIsDraggable(b))if(k>=t.desktopTapThreshold2){var N=!t.dragData.didDrag;N&&(g[r.NODE]=!0),t.dragData.didDrag=!0;for(var I=[],O=0;O<w.length;O++){var L=w[O];if(t.hoverData.draggingEles||a(L,{inDragLayer:!0}),L.isNode()&&t.nodeIsDraggable(L)&&L.grabbed()){var z=L._private.position;if(I.push(L),e.is.number(x[0])&&e.is.number(x[1])&&(z.x+=x[0],z.y+=x[1],N)){var R=t.hoverData.dragDelta;e.is.number(R[0])&&e.is.number(R[1])&&(z.x+=R[0],z.y+=R[1])}}}t.hoverData.draggingEles=!0;var A=new e.Collection(h,I);A.updateCompoundBounds(),A.trigger("position drag"),g[r.DRAG]=!0,t.redraw()}else C();i=!0}return v[2]=f[0],v[3]=f[1],i?(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1):void 0},1e3/30,{trailing:!0}),!1),t.registerBinding(window,"mouseup",function(n){var i=t.hoverData.capture;if(i){t.hoverData.capture=!1;var a=t.data.cy,s=t.projectIntoViewport(n.clientX,n.clientY),l=t.data.select,u=t.findNearestElement(s[0],s[1],!0,!1),c=t.dragData.possibleDragElements,d=t.hoverData.down,h=n.shiftKey,p=t.data.canvasNeedsRedraw;if(t.data.bgActivePosistion&&(p[r.SELECT_BOX]=!0,t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,clearTimeout(t.bgActiveTimeout),d&&d.unactivate(),3===t.hoverData.which){var f=new e.Event(n,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});if(d?d.trigger(f):a.trigger(f),!t.hoverData.cxtDragged){var v=new e.Event(n,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});d?d.trigger(v):a.trigger(v)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else{if(null!=d||t.dragData.didDrag||t.hoverData.dragged||(a.$(function(){return this.selected()}).unselect(),c.length>0&&(p[r.NODE]=!0),t.dragData.possibleDragElements=c=[]),null!=u?u.trigger(new e.Event(n,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})):null==u&&a.trigger(new e.Event(n,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})),t.dragData.didDrag||t.hoverData.dragged||(null!=u?u.trigger(new e.Event(n,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:s[0],y:s[1]}})):null==u&&a.trigger(new e.Event(n,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:s[0],y:s[1]}}))),u!=d||t.dragData.didDrag||null!=u&&u._private.selectable&&(t.hoverData.dragging||("additive"===a.selectionType()||h?u.selected()?u.unselect():u.select():h||(a.$(":selected").unmerge(u).unselect(),u.select())),p[r.NODE]=!0),t.hoverData.selecting&&a.boxSelectionEnabled()&&Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)>7&&l[4]){var g=[],y=t.getAllInBox(l[0],l[1],l[2],l[3]);p[r.SELECT_BOX]=!0,y.length>0&&(p[r.NODE]=!0);for(var m=0;m<y.length;m++)y[m]._private.selectable&&g.push(y[m]);var b=new e.Collection(a,g);"additive"===a.selectionType()?b.select():(h||a.$(":selected").unmerge(b).unselect(),b.select()),t.redraw()}t.hoverData.dragging&&(t.hoverData.dragging=!1,p[r.SELECT_BOX]=!0,p[r.NODE]=!0,t.redraw()),l[4]||(p[r.DRAG]=!0,p[r.NODE]=!0,o(c),d&&d.trigger("free"))}l[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[]}},!1);var d=function(e){if(!t.scrollingPage){var n=t.data.cy,i=t.projectIntoViewport(e.clientX,e.clientY),a=[i[0]*n.zoom()+n.pan().x,i[1]*n.zoom()+n.pan().y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||c())return void e.preventDefault();if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.data.canvasNeedsRedraw[r.NODE]=!0,t.redraw()},150);var o=e.deltaY/-250||e.wheelDeltaY/1e3||e.wheelDelta/1e3;o*=t.wheelSensitivity;var s=1===e.deltaMode;s&&(o*=33),n.zoom({level:n.zoom()*Math.pow(10,o),renderedPosition:{x:a[0],y:a[1]}})}}};t.registerBinding(t.data.container,"wheel",d,!0),t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.data.container,"mouseout",function(r){var n=t.projectIntoViewport(r.clientX,r.clientY);t.data.cy.trigger(new e.Event(r,{type:"mouseout",cyPosition:{x:n[0],y:n[1]}}))},!1),t.registerBinding(t.data.container,"mouseover",function(r){var n=t.projectIntoViewport(r.clientX,r.clientY);t.data.cy.trigger(new e.Event(r,{type:"mouseover",cyPosition:{x:n[0],y:n[1]}}))},!1);var h,p,f,v,g,y,m,b,x,w,_,E,S,D=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},T=function(e,t,r,n){return(r-e)*(r-e)+(n-t)*(n-t)};t.registerBinding(t.data.container,"touchstart",function(n){clearTimeout(this.threeFingerSelectTimeout),n.target!==t.data.link&&n.preventDefault(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var i=t.data.cy,o=t.getCachedNodes(),s=t.getCachedEdges(),l=t.touchData.now,u=t.touchData.earlier,c=t.data.canvasNeedsRedraw;if(n.touches[0]){var d=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=d[0],l[1]=d[1]}if(n.touches[1]){var d=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=d[0],l[3]=d[1]}if(n.touches[2]){var d=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=d[0],l[5]=d[1]}if(n.touches[1]){var k=function(e){for(var t=0;t<e.length;t++)e[t]._private.grabbed=!1,e[t]._private.rscratch.inDragLayer=!1,e[t].active()&&e[t].unactivate()};k(o),k(s);var C=t.findContainerClientCoords();x=C[0],w=C[1],_=C[2],E=C[3],h=n.touches[0].clientX-x,p=n.touches[0].clientY-w,f=n.touches[1].clientX-x,v=n.touches[1].clientY-w,S=h>=0&&_>=h&&f>=0&&_>=f&&p>=0&&E>=p&&v>=0&&E>=v;var P=i.pan(),M=i.zoom();g=D(h,p,f,v),y=T(h,p,f,v),m=[(h+f)/2,(p+v)/2],b=[(m[0]-P.x)/M,(m[1]-P.y)/M];var B=200,N=B*B;if(N>y&&!n.touches[2]){var I=t.findNearestElement(l[0],l[1],!0,!0),O=t.findNearestElement(l[2],l[3],!0,!0);return I&&I.isNode()?(I.activate().trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),t.touchData.start=I):O&&O.isNode()?(O.activate().trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),t.touchData.start=O):(i.trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),t.touchData.start=null),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var L=t.findNearestElement(l[0],l[1],!0,!0);if(null!=L){if(L.activate(),t.touchData.start=L,L.isNode()&&t.nodeIsDraggable(L)){var z=t.dragData.touchDragEles=[];if(c[r.NODE]=!0,c[r.DRAG]=!0,L.selected())for(var R=i.$(function(){return this.isNode()&&this.selected()}),A=0;A<R.length;A++){var V=R[A];t.nodeIsDraggable(V)&&a(V,{addToList:z})}else a(L,{addToList:z});L.trigger(new e.Event(n,{type:"grab",cyPosition:{x:l[0],y:l[1]}}))}L.trigger(new e.Event(n,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"vmousdown",cyPosition:{x:l[0],y:l[1]}}))}null==L&&(i.trigger(new e.Event(n,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:l[0],y:l[1]}})),t.data.bgActivePosistion={x:d[0],y:d[1]},c[r.SELECT_BOX]=!0,t.redraw());for(var F=0;F<l.length;F++)u[F]=l[F],t.touchData.startPosition[F]=l[F];t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved!==!1||t.pinching||(t.touchData.start?t.touchData.start.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})):(t.data.cy.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})),i.$(":selected").unselect()))},t.tapholdDuration)}},!1),t.registerBinding(window,"touchmove",e.util.throttle(function(n){var i=t.data.select,o=t.touchData.capture;o&&n.preventDefault();var s=t.data.cy,l=t.touchData.now,u=t.touchData.earlier,c=s.zoom(),d=t.data.canvasNeedsRedraw;if(n.touches[0]){var m=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0],l[1]=m[1]}if(n.touches[1]){var m=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=m[0],l[3]=m[1]}if(n.touches[2]){var m=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=m[0],l[5]=m[1]}for(var _=[],E=0;E<l.length;E++)_[E]=l[E]-u[E];var k=t.touchData.startPosition,C=l[0]-k[0],P=C*C,M=l[1]-k[1],B=M*M,N=P+B,I=N*c*c;if(o&&t.touchData.cxt){var O=n.touches[0].clientX-x,L=n.touches[0].clientY-w,z=n.touches[1].clientX-x,R=n.touches[1].clientY-w,A=T(O,L,z,R),V=A/y,F=150,X=F*F,j=1.5,q=j*j;if(V>=q||A>=X){t.touchData.cxt=!1,t.touchData.start&&(t.touchData.start.unactivate(),t.touchData.start=null),t.data.bgActivePosistion=void 0,d[r.SELECT_BOX]=!0;var Y=new e.Event(n,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}});t.touchData.start?t.touchData.start.trigger(Y):s.trigger(Y)}}if(o&&t.touchData.cxt){var Y=new e.Event(n,{type:"cxtdrag",cyPosition:{x:l[0],y:l[1]}});t.data.bgActivePosistion=void 0,d[r.SELECT_BOX]=!0,t.touchData.start?t.touchData.start.trigger(Y):s.trigger(Y),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var $=t.findNearestElement(l[0],l[1],!0,!0);t.touchData.cxtOver&&$===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.trigger(new e.Event(n,{type:"cxtdragout",cyPosition:{x:l[0],y:l[1]}})),t.touchData.cxtOver=$,$&&$.trigger(new e.Event(n,{type:"cxtdragover",cyPosition:{x:l[0],y:l[1]}})))}else if(o&&n.touches[2]&&s.boxSelectionEnabled())t.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,t.touchData.selecting=!0,d[r.SELECT_BOX]=!0,i&&0!==i.length&&void 0!==i[0]?(i[2]=(l[0]+l[2]+l[4])/3,i[3]=(l[1]+l[3]+l[5])/3):(i[0]=(l[0]+l[2]+l[4])/3,i[1]=(l[1]+l[3]+l[5])/3,i[2]=(l[0]+l[2]+l[4])/3+1,i[3]=(l[1]+l[3]+l[5])/3+1),i[4]=1,t.touchData.selecting=!0,t.redraw();else if(o&&n.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){t.data.bgActivePosistion=void 0,d[r.SELECT_BOX]=!0;var W=t.dragData.touchDragEles;if(W){d[r.DRAG]=!0;for(var H=0;H<W.length;H++)W[H]._private.grabbed=!1,W[H]._private.rscratch.inDragLayer=!1}var O=n.touches[0].clientX-x,L=n.touches[0].clientY-w,z=n.touches[1].clientX-x,R=n.touches[1].clientY-w,U=D(O,L,z,R),G=U/g;if(1!=G&&S){var Z=O-h,K=L-p,J=z-f,Q=R-v,ee=(Z+J)/2,te=(K+Q)/2,re=s.zoom(),ne=re*G,ie=s.pan(),ae=b[0]*re+ie.x,oe=b[1]*re+ie.y,se={x:-ne/re*(ae-ie.x-ee)+ae,y:-ne/re*(oe-ie.y-te)+oe};if(t.touchData.start){var W=t.dragData.touchDragEles;if(W)for(var H=0;H<W.length;H++){var le=W[H]._private;le.grabbed=!1,le.rscratch.inDragLayer=!1}var ue=t.touchData.start._private;ue.active=!1,ue.grabbed=!1,ue.rscratch.inDragLayer=!1,d[r.DRAG]=!0,t.touchData.start.trigger("free").trigger("unactivate")}s.viewport({zoom:ne,pan:se,cancelOnFailedZoom:!0}),g=U,h=O,p=L,f=z,v=R,t.pinching=!0}if(n.touches[0]){var m=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0],l[1]=m[1]}if(n.touches[1]){var m=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=m[0],l[3]=m[1]}if(n.touches[2]){var m=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=m[0],l[5]=m[1]}}else if(n.touches[0]){var ce=t.touchData.start,de=t.touchData.last,$=$||t.findNearestElement(l[0],l[1],!0,!0);if(null!=ce&&"nodes"==ce._private.group&&t.nodeIsDraggable(ce))if(I>=t.touchTapThreshold2){for(var W=t.dragData.touchDragEles,he=0;he<W.length;he++){var pe=W[he];if(t.nodeIsDraggable(pe)&&pe.isNode()&&pe.grabbed()){t.dragData.didDrag=!0;var fe=pe._private.position,ve=!t.hoverData.draggingEles;if(e.is.number(_[0])&&e.is.number(_[1])&&(fe.x+=_[0],fe.y+=_[1]),ve){a(pe,{inDragLayer:!0}),d[r.NODE]=!0;var ge=t.touchData.dragDelta;e.is.number(ge[0])&&e.is.number(ge[1])&&(fe.x+=ge[0],fe.y+=ge[1])}}}var ye=new e.Collection(s,pe);ye.updateCompoundBounds(),ye.trigger("position drag"),t.hoverData.draggingEles=!0,d[r.DRAG]=!0,t.touchData.startPosition[0]==u[0]&&t.touchData.startPosition[1]==u[1]&&(d[r.NODE]=!0),t.redraw()}else{var ge=t.touchData.dragDelta=t.touchData.dragDelta||[];0===ge.length?(ge.push(_[0]),ge.push(_[1])):(ge[0]+=_[0],ge[1]+=_[1])}null!=ce&&(ce.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),ce.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),ce.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==ce&&(null!=$&&($.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),$.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),$.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==$&&(s.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}})))),$!=de&&(de&&de.trigger(new e.Event(n,{type:"tapdragout",cyPosition:{x:l[0],y:l[1]}})),$&&$.trigger(new e.Event(n,{type:"tapdragover",cyPosition:{x:l[0],y:l[1]}}))),t.touchData.last=$;for(var H=0;H<l.length;H++)l[H]&&t.touchData.startPosition[H]&&Math.abs(l[H]-t.touchData.startPosition[H])>4&&(t.touchData.singleTouchMoved=!0);if(o&&(null==ce||ce.isEdge())&&s.panningEnabled()&&s.userPanningEnabled()){t.swipePanning?s.panBy({x:_[0]*c,y:_[1]*c}):I>=t.touchTapThreshold2&&(t.swipePanning=!0,s.panBy({x:C*c,y:M*c})),ce&&(ce.unactivate(),t.data.bgActivePosistion||(t.data.bgActivePosistion={x:l[0],y:l[1]}),d[r.SELECT_BOX]=!0,t.touchData.start=null);var m=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0],l[1]=m[1]}}for(var E=0;E<l.length;E++)u[E]=l[E]},1e3/30,{trailing:!0}),!1),t.registerBinding(window,"touchcancel",function(e){var r=t.touchData.start;t.touchData.capture=!1,r&&r.unactivate()}),t.registerBinding(window,"touchend",function(n){var i=t.touchData.start,a=t.touchData.capture;if(a){t.touchData.capture=!1,n.preventDefault();var s=t.data.select;
t.swipePanning=!1,t.hoverData.draggingEles=!1;var l=t.data.cy,u=l.zoom(),c=t.touchData.now,d=t.touchData.earlier,h=t.data.canvasNeedsRedraw;if(n.touches[0]){var p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=p[0],c[1]=p[1]}if(n.touches[1]){var p=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);c[2]=p[0],c[3]=p[1]}if(n.touches[2]){var p=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);c[4]=p[0],c[5]=p[1]}i&&i.unactivate();var f;if(t.touchData.cxt){if(f=new e.Event(n,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}}),i?i.trigger(f):l.trigger(f),!t.touchData.cxtDragged){var v=new e.Event(n,{type:"cxttap",cyPosition:{x:c[0],y:c[1]}});i?i.trigger(v):l.trigger(v)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!n.touches[2]&&l.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1,clearTimeout(this.threeFingerSelectTimeout);var g=[],y=t.getAllInBox(s[0],s[1],s[2],s[3]);s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,h[r.SELECT_BOX]=!0;for(var m=0;m<y.length;m++)y[m]._private.selectable&&g.push(y[m]);var b=new e.Collection(l,g);"single"===l.selectionType()&&l.$(":selected").unmerge(b).unselect(),b.select(),b.length>0?h[r.NODE]=!0:t.redraw()}var x=!1;if(null!=i&&(i._private.active=!1,x=!0,i.unactivate()),n.touches[2])t.data.bgActivePosistion=void 0,h[r.SELECT_BOX]=!0;else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0,h[r.SELECT_BOX]=!0;var w=t.dragData.touchDragEles;if(null!=i){var _=i._private.grabbed;o(w),h[r.DRAG]=!0,h[r.NODE]=!0,_&&i.trigger("free"),i.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),i.unactivate(),t.touchData.start=null}else{var E=t.findNearestElement(c[0],c[1],!0,!0);null!=E&&E.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),null==E&&l.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}}))}var S=t.touchData.startPosition[0]-c[0],D=S*S,T=t.touchData.startPosition[1]-c[1],k=T*T,C=D+k,P=C*u*u;null!=i&&!t.dragData.didDrag&&i._private.selectable&&P<t.touchTapThreshold2&&!t.pinching&&("single"===l.selectionType()?(l.$(":selected").unmerge(i).unselect(),i.select()):i.selected()?i.unselect():i.select(),x=!0,h[r.NODE]=!0),t.touchData.singleTouchMoved===!1&&(i?i.trigger(new e.Event(n,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:c[0],y:c[1]}})):l.trigger(new e.Event(n,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:c[0],y:c[1]}}))),t.touchData.singleTouchMoved=!0}for(var M=0;M<c.length;M++)d[M]=c[M];t.dragData.didDrag=!1,0===n.touches.length&&(t.touchData.dragDelta=[]),x&&i&&i.updateStyle(!1),n.touches.length<2&&(t.pinching=!1,h[r.NODE]=!0,t.redraw())}},!1)}}(cytoscape),function(e){"use strict";function t(t,r){a[t]={points:r,draw:function(e,r,i,o,s){n.drawPolygon(e,r,i,o,s,a[t].points)},drawPath:function(e,r,i,o,s){n.drawPolygonPath(e,r,i,o,s,a[t].points)},intersectLine:function(r,n,i,o,s,l,u){return e.math.polygonIntersectLine(s,l,a[t].points,r,n,i/2,o/2,u)},intersectBox:function(r,n,i,o,s,l,u,c,d){var h=a[t].points;return e.math.boxIntersectPolygon(r,n,i,o,h,s,l,u,c,[0,-1],d)},checkPoint:function(r,n,i,o,s,l,u){return e.math.pointInsidePolygon(r,n,a[t].points,l,u,o,s,[0,-1],i)}}}for(var r=e("renderer","canvas"),n=r.prototype,i=r.usePaths(),a=r.nodeShapes={},o=Math.sin(0),s=Math.cos(0),l={},u={},c=.1,d=0*Math.PI;d<2*Math.PI;d+=c)l[d]=Math.sin(d),u[d]=Math.cos(d);a.ellipse={draw:function(e,t,r,n,i){a.ellipse.drawPath(e,t,r,n,i),e.fill()},drawPath:function(e,t,r,n,a){if(i){e.beginPath&&e.beginPath();for(var d,h,p=n/2,f=a/2,v=0*Math.PI;v<2*Math.PI;v+=c)d=t-p*l[v]*o+p*u[v]*s,h=r+f*u[v]*o+f*l[v]*s,0===v?e.moveTo(d,h):e.lineTo(d,h);e.closePath()}else e.beginPath&&e.beginPath(),e.translate(t,r),e.scale(n/2,a/2),e.arc(0,0,1,0,2*Math.PI*.999,!1),e.closePath(),e.scale(2/n,2/a),e.translate(-t,-r)},intersectLine:function(t,r,n,i,a,o,s){var l=e.math.intersectLineEllipse(a,o,t,r,n/2+s,i/2+s);return l},intersectBox:function(t,r,n,i,a,o,s,l,u){return e.math.boxIntersectEllipse(t,r,n,i,u,a,o,s,l)},checkPoint:function(e,t,r,n,i,a,o){return e-=a,t-=o,e/=n/2+r,t/=i/2+r,Math.pow(e,2)+Math.pow(t,2)<=1}},t("triangle",e.math.generateUnitNgonPointsFitToSquare(3,0)),t("square",e.math.generateUnitNgonPointsFitToSquare(4,0)),a.rectangle=a.square,a.roundrectangle={points:e.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,i,a){n.drawRoundRectangle(e,t,r,i,a,10)},drawPath:function(e,t,r,i,a){n.drawRoundRectanglePath(e,t,r,i,a,10)},intersectLine:function(t,r,n,i,a,o,s){return e.math.roundRectangleIntersectLine(a,o,t,r,n,i,s)},intersectBox:function(t,r,n,i,a,o,s,l,u){return e.math.roundRectangleIntersectBox(t,r,n,i,a,o,s,l,u)},checkPoint:function(t,r,n,i,o,s,l){var u=e.math.getRoundRectangleRadius(i,o);if(e.math.pointInsidePolygon(t,r,a.roundrectangle.points,s,l,i,o-2*u,[0,-1],n))return!0;if(e.math.pointInsidePolygon(t,r,a.roundrectangle.points,s,l,i-2*u,o,[0,-1],n))return!0;var c=function(e,t,r,n,i,a,o){return e-=r,t-=n,e/=i/2+o,t/=a/2+o,Math.pow(e,2)+Math.pow(t,2)<=1};return c(t,r,s-i/2+u,l-o/2+u,2*u,2*u,n)?!0:c(t,r,s+i/2-u,l-o/2+u,2*u,2*u,n)?!0:c(t,r,s+i/2-u,l+o/2-u,2*u,2*u,n)?!0:c(t,r,s-i/2+u,l+o/2-u,2*u,2*u,n)?!0:!1}},t("diamond",[0,1,1,0,0,-1,-1,0]),t("pentagon",e.math.generateUnitNgonPointsFitToSquare(5,0)),t("hexagon",e.math.generateUnitNgonPointsFitToSquare(6,0)),t("heptagon",e.math.generateUnitNgonPointsFitToSquare(7,0)),t("octagon",e.math.generateUnitNgonPointsFitToSquare(8,0));var h=new Array(20),p=e.math.generateUnitNgonPoints(5,0),f=e.math.generateUnitNgonPoints(5,Math.PI/5),v=.5*(3-Math.sqrt(5));v*=1.57;for(var d=0;d<f.length/2;d++)f[2*d]*=v,f[2*d+1]*=v;for(var d=0;5>d;d++)h[4*d]=p[2*d],h[4*d+1]=p[2*d+1],h[4*d+2]=f[2*d],h[4*d+3]=f[2*d+1];h=e.math.fitPolygonToSquare(h),t("star",h),t("vee",[-1,-1,0,-.333,1,-1,0,1]),t("rhomboid",[-1,-1,.333,-1,1,1,-.333,1])}(cytoscape),function(e){"use strict";function t(t){this._private={},this._private.options=e.util.extend({},r,t)}var r={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(e){var t=e;return t.max<=.5||t.mean<=.3},infinite:!1};t.prototype.run=function(){var t=this,r=this._private.options;return e.util.require("arbor",function(n){function i(e,t){return null==t?void 0:"function"==typeof t?t.apply(e,[e._private.data,{nodes:u.length,edges:c.length,element:e}]):t}function a(e){if(!e.isFullAutoParent()){var t=e._private.data.id,n=i(e,r.nodeMass),a=e._private.locked,o=e.position(),s=p.fromScreen({x:o.x,y:o.y});e.scratch().arbor=p.addNode(t,{element:e,mass:n,fixed:a,x:a&&s?s.x:void 0,y:a&&s?s.y:void 0})}}function o(e){var t=e.source().id(),n=e.target().id(),a=i(e,r.edgeLength);e.scratch().arbor=p.addEdge(t,n,{length:a})}var s=r.cy,l=r.eles,u=l.nodes().not(":parent"),c=l.edges(),d=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),h=!1;if(t.trigger({type:"layoutstart",layout:t}),void 0!==r.liveUpdate&&(r.animate=r.liveUpdate),l.nodes().size()<=1)return r.fit&&s.reset(),l.nodes().position({x:Math.round((d.x1+d.x2)/2),y:Math.round((d.y1+d.y2)/2)}),t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),void t.trigger({type:"layoutstop",layout:t});var p=t._private.system=n.ParticleSystem();p.parameters({repulsion:r.repulsion,stiffness:r.stiffness,friction:r.friction,gravity:r.gravity,fps:r.fps,dt:r.dt,precision:r.precision}),r.animate&&r.fit&&s.fit(d,r.padding);var f,v=250,g=!1,y=+new Date,m={init:function(e){},redraw:function(){var e=p.energy();if(!r.infinite&&null!=r.stableEnergy&&null!=e&&e.n>0&&r.stableEnergy(e))return void t.stop();r.infinite||v==1/0||(clearTimeout(f),f=setTimeout(D,v));var n=s.collection();p.eachNode(function(e,t){var r=e.data,i=r.element;null!=i&&(i.locked()||i.grabbed()||(i.silentPosition({x:d.x1+t.x,y:d.y1+t.y}),n.merge(i)))}),r.animate&&n.length>0&&(h=!0,n.rtrigger("position"),r.fit&&s.fit(r.padding),y=+new Date,h=!1),g||(g=!0,t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t}))}};p.renderer=m,p.screenSize(d.w,d.h),p.screenPadding(r.padding,r.padding,r.padding,r.padding),p.screenStep(r.stepSize);var b;u.on("grab free position",b=function(e){if(!h){var t=this.position(),i=p.fromScreen(t);if(i){var a=n.Point(i.x,i.y),o=r.padding;switch(d.x1+o<=t.x&&t.x<=d.x2-o&&d.y1+o<=t.y&&t.y<=d.y2-o&&(this.scratch().arbor.p=a),e.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}});var x;u.on("lock unlock",x=function(e){node.scratch().arbor.fixed=node.locked()});var w;l.on("remove",w=function(e){});var _;s.on("add","*",_=function(){});var E;s.on("resize",E=function(){if(null==r.boundingBox&&null!=t._private.system){var e=s.width(),n=s.height();p.screenSize(e,n)}}),u.each(function(e,t){a(t)}),c.each(function(e,t){o(t)});var S=u.filter(":grabbable");r.ungrabifyWhileSimulating&&S.ungrabify();var D=t._private.doneHandler=function(){t._private.doneHandler=null,r.animate||(r.fit&&s.reset(),u.rtrigger("position")),u.off("grab free position",b),u.off("lock unlock",x),l.off("remove",w),s.off("add","*",_),s.off("resize",E),r.ungrabifyWhileSimulating&&S.grabify(),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t})};p.start(),!r.infinite&&null!=r.maxSimulationTime&&r.maxSimulationTime>0&&r.maxSimulationTime!==1/0&&setTimeout(function(){t.stop()},r.maxSimulationTime)}),this},t.prototype.stop=function(){return null!=this._private.system&&this._private.system.stop(),this._private.doneHandler&&this._private.doneHandler(),this},e("layout","arbor",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t,r=this.options,n=r,i=r.cy,a=n.eles,o=a.nodes().not(":parent"),s=a,l=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(e.is.elementOrCollection(n.roots))t=n.roots;else if(e.is.array(n.roots)){for(var u=[],c=0;c<n.roots.length;c++){var d=n.roots[c],h=i.getElementById(d);u.push(h)}t=new e.Collection(i,u)}else if(e.is.string(n.roots))t=i.$(n.roots);else if(n.directed)t=o.roots();else{for(var p=[],f=o;f.length>0;){var v=i.collection();a.bfs({roots:f[0],visit:function(e,t,r,n,i){v=v.add(r)},directed:!1}),f=f.not(v),p.push(v)}t=i.collection();for(var c=0;c<p.length;c++){var g=p[c],y=g.maxDegree(!1),m=g.filter(function(){return this.degree(!1)===y});t=t.add(m)}}var b=[],x={},w={},_={},E={},S={};s.bfs({roots:t,directed:n.directed,visit:function(e,t,r,n,i){var a=this[0],o=a.id();if(b[t]||(b[t]=[]),b[t].push(a),x[o]=!0,w[o]=t,_[o]=i,E[o]=n,i){var s=i.id(),l=S[s]=S[s]||[];l.push(r)}}});for(var D=[],c=0;c<o.length;c++){var h=o[c];x[h.id()]||D.push(h)}for(var T=3*D.length,k=0;0!==D.length&&T>k;){for(var C=D.shift(),P=C.neighborhood().nodes(),M=!1,c=0;c<P.length;c++){var B=w[P[c].id()];if(void 0!==B){b[B].push(C),M=!0;break}}M||D.push(C),k++}for(;0!==D.length;){var C=D.shift(),M=!1;M||(0===b.length&&b.push([]),b[0].push(C))}var N=function(){for(var e=0;e<b.length;e++)for(var t=b[e],r=0;r<t.length;r++){var n=t[r];n._private.scratch.breadthfirst={depth:e,index:r}}};N();for(var I=function(e){for(var t,r=e.connectedEdges(function(){return this.data("target")===e.id()}),n=e._private.scratch.breadthfirst,i=0,a=0;a<r.length;a++){var o=r[a],s=o.source()[0],l=s._private.scratch.breadthfirst;n.depth<=l.depth&&i<l.depth&&(i=l.depth,t=s)}return t},O=0;O<n.maximalAdjustments;O++){for(var L=b.length,z=[],c=0;L>c;c++)for(var B=b[c],R=B.length,A=0;R>A;A++){var h=B[A],V=h._private.scratch.breadthfirst,F=I(h);F&&(V.intEle=F,z.push(h))}for(var c=0;c<z.length;c++){var h=z[c],V=h._private.scratch.breadthfirst,F=V.intEle,X=F._private.scratch.breadthfirst;b[V.depth].splice(V.index,1);for(var j=X.depth+1;j>b.length-1;)b.push([]);b[j].push(h),V.depth=j,V.index=b[j].length-1}N()}var q=0;if(n.avoidOverlap){for(var c=0;c<o.length;c++){var Y=o[c].outerWidth(),$=o[c].outerHeight();q=Math.max(q,Y,$)}q*=n.spacingFactor}for(var W={},H=function(e){if(W[e.id()])return W[e.id()];for(var t=e._private.scratch.breadthfirst.depth,r=e.neighborhood().nodes().not(":parent"),n=0,i=0,a=0;a<r.length;a++){var o=r[a],s=o._private.scratch.breadthfirst,l=s.index,u=s.depth,c=b[u].length;(t>u||0===t)&&(n+=l/c,i++)}return i=Math.max(1,i),n/=i,0===i&&(n=void 0),W[e.id()]=n,n},U=function(e,t){var r=H(e),n=H(t);return r-n},G=0;3>G;G++){for(var c=0;c<b.length;c++)b[c]=b[c].sort(U);N()}for(var Z=0,c=0;c<b.length;c++)Z=Math.max(b[c].length,Z);for(var K={x:l.x1+l.w/2,y:l.x1+l.h/2},J=function(e,t){var r=e._private.scratch.breadthfirst,i=r.depth,a=r.index,o=b[i].length,s=Math.max(l.w/(o+1),q),u=Math.max(l.h/(b.length+1),q),c=Math.min(l.w/2/b.length,l.h/2/b.length);if(c=Math.max(c,q),n.circle){if(n.circle){var d=c*i+c-(b.length>0&&b[0].length<=3?c/2:0),h=2*Math.PI/b[i].length*a;return 0===i&&1===b[0].length&&(d=1),{x:K.x+d*Math.cos(h),y:K.y+d*Math.sin(h)}}return{x:K.x+(a+1-(o+1)/2)*s,y:(i+1)*u}}var p={x:K.x+(a+1-(o+1)/2)*s,y:(i+1)*u};return t?p:p},Q={},c=b.length-1;c>=0;c--)for(var B=b[c],A=0;A<B.length;A++){var C=B[A];Q[C.id()]=J(C,c===b.length-1)}return o.layoutPositions(this,n,function(){return Q[this.id()]}),this},e("layout","breadthfirst",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t,n=t.cy,i=r.eles,a=i.nodes().not(":parent");r.sort&&(a=a.sort(r.sort));for(var o,s=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=r.startAngle,c=2*Math.PI/a.length,d=0,h=0;h<a.length;h++){var p=a[h].outerWidth(),f=a[h].outerHeight();d=Math.max(d,p,f)}if(o=e.is.number(r.radius)?r.radius:a.length<=1?0:Math.min(s.h,s.w)/2-d,a.length>1&&r.avoidOverlap){d*=1.75;var c=2*Math.PI/a.length,v=Math.cos(c)-Math.cos(0),g=Math.sin(c)-Math.sin(0),y=Math.sqrt(d*d/(v*v+g*g));o=Math.max(y,o)}var m=function(e,t){var n=o*Math.cos(u),i=o*Math.sin(u),a={x:l.x+n,y:l.y+i};return u=r.counterclockwise?u-c:u+c,a};return a.layoutPositions(this,r,m),this},e("layout","circle",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.prototype.run=function(){var t=this,r=this.options;return t.manuallyStopped=!1,e.util.require("cola",function(n){var i=r.cy,a=r.eles,o=a.nodes(),s=a.edges(),l=!1,u=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),c=function(t,r){if(e.is.fn(t)){var n=t;return n.apply(r,[r])}return t},d=function(){for(var t={min:1/0,max:-(1/0)},n={min:1/0,max:-(1/0)},a=0;a<o.length;a++){var s=o[a],d=s._private.scratch.cola;if(t.min=Math.min(t.min,d.x||0),t.max=Math.max(t.max,d.x||0),n.min=Math.min(n.min,d.y||0),n.max=Math.max(n.max,d.y||0),!d.updatedDims){var h=s.boundingBox(),f=c(r.nodeSpacing,s);d.width=h.w+2*f,d.height=h.h+2*f}}o.positions(function(r,i){var a,o=i._private.scratch.cola;return i.grabbed()||i.isParent()||(a={x:u.x1+o.x-t.min,y:u.y1+o.y-n.min},e.is.number(a.x)&&e.is.number(a.y)||(a=void 0)),a}),o.updateCompoundBounds(),l||(p(),l=!0),r.fit&&i.fit(r.padding)},h=function(){r.ungrabifyWhileSimulating&&y.grabify(),o.off("grab free position",m),o.off("lock unlock",b),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t})},p=function(){t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t})},f=r.refresh,v=1;r.refresh<0?(v=Math.abs(r.refresh),f=1):f=Math.max(1,f);var g=t.adaptor=n.adaptor({trigger:function(e){var t=n.EventType?n.EventType.tick:null,i=n.EventType?n.EventType.end:null;switch(e.type){case"tick":case t:r.animate&&d();break;case"end":case i:d(),r.infinite||h()}},kick:function(){var n=function(){if(t.manuallyStopped)return h(),!0;var e=g.tick();return e&&r.infinite&&g.resume(),e},i=function(){for(var e,t=0;f>t&&!e;t++)e=e||n();return e};if(r.animate){var a=function(){i()||e.util.requestAnimationFrame(a)};e.util.requestAnimationFrame(a)}else for(;!n(););},on:function(e,t){},drag:function(){}});t.adaptor=g;var y=o.filter(":grabbable");r.ungrabifyWhileSimulating&&y.ungrabify();var m;o.on("grab free position",m=function(e){var t=this,r=t._private.scratch.cola,n=t._private.position;switch(r.x=n.x-u.x1,r.y=n.y-u.y1,e.type){case"grab":g.dragstart(r),g.resume();break;case"free":g.dragend(r)}});var b;o.on("lock unlock",b=function(e){var t=this,r=t._private.scratch.cola;t.locked()?g.dragstart(r):g.dragend(r)});var x=o.stdFilter(function(e){return!e.isParent()});if(g.nodes(x.map(function(e,t){var n=c(r.nodeSpacing,e),i=e.position(),a=e.boundingBox(),o=e._private.scratch.cola={x:r.randomize||void 0===i.x?Math.round(Math.random()*u.w):i.x,y:r.randomize||void 0===i.y?Math.round(Math.random()*u.h):i.y,width:a.w+2*n,height:a.h+2*n,index:t};return o})),r.alignment){var w=[],_=[];x.forEach(function(e){var t=c(r.alignment,e),n=e._private.scratch.cola,i=n.index;t&&(null!=t.x&&w.push({node:i,offset:t.x}),null!=t.y&&_.push({node:i,offset:t.y}))});var E=[];w.length>0&&E.push({type:"alignment",axis:"x",offsets:w}),_.length>0&&E.push({type:"alignment",axis:"y",offsets:_}),g.constraints(E)}g.groups(o.stdFilter(function(e){return e.isParent()}).map(function(e,t){var n=e._private.style,i=c(r.nodeSpacing,e),a=n["padding-left"].pxValue+i,o=n["padding-right"].pxValue+i,s=n["padding-top"].pxValue+i,l=n["padding-bottom"].pxValue+i;return e._private.scratch.cola={index:t,padding:Math.max(a,o,s,l),leaves:e.descendants().stdFilter(function(e){return!e.isParent()}).map(function(e){return e[0]._private.scratch.cola.index})},e}).map(function(e){return e._private.scratch.cola.groups=e.descendants().stdFilter(function(e){return e.isParent()}).map(function(e){return e._private.scratch.cola.index}),e._private.scratch.cola}));var S,D;null!=r.edgeLength?(S=r.edgeLength,D="linkDistance"):null!=r.edgeSymDiffLength?(S=r.edgeSymDiffLength,D="symmetricDiffLinkLengths"):null!=r.edgeJaccardLength?(S=r.edgeJaccardLength,D="jaccardLinkLengths"):(S=100,D="linkDistance");var T=function(e){return e.calcLength};if(g.links(s.stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}).map(function(e,t){var r=e._private.scratch.cola={source:e.source()[0]._private.scratch.cola.index,target:e.target()[0]._private.scratch.cola.index};return null!=S&&(r.calcLength=c(S,e)),r})),g.size([u.w,u.h]),null!=S&&g[D](T),r.flow){var k,C="y",P=50;e.is.string(r.flow)?k={axis:r.flow,minSeparation:P}:e.is.number(r.flow)?k={axis:C,minSeparation:r.flow}:e.is.plainObject(r.flow)?(k=r.flow,k.axis=k.axis||C,k.minSeparation=null!=k.minSeparation?k.minSeparation:P):k={axis:C,minSeparation:P},g.flowLayout(k.axis,k.minSeparation)}t.trigger({type:"layoutstart",layout:t}),g.avoidOverlaps(r.avoidOverlap).handleDisconnected(r.handleDisconnected).start(r.unconstrIter,r.userConstIter,r.allConstIter),r.infinite||setTimeout(function(){t.manuallyStopped||g.stop()},r.maxSimulationTime)}),this},t.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e("layout","cola",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){for(var t=this.options,r=t,n=t.cy,i=r.eles,a=i.nodes().not(":parent"),o=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=r.startAngle,c=0,d=0;d<a.length;d++){var h,p=a[d];h=r.concentric.apply(p,[p]),l.push({value:h,node:p}),p._private.scratch.concentric=h}a.updateStyle();for(var d=0;d<a.length;d++){var p=a[d];c=Math.max(c,p.outerWidth(),p.outerHeight())}l.sort(function(e,t){return t.value-e.value});for(var f=r.levelWidth(a),v=[[]],g=v[0],d=0;d<l.length;d++){var y=l[d];if(g.length>0){var m=Math.abs(g[0].value-y.value);m>=f&&(g=[],v.push(g))}g.push(y)}var b={},x=0,w=c+r.minNodeSpacing;if(!r.avoidOverlap){var _=v.length>0&&v[0].length>1,E=Math.min(o.w,o.h)/2-w,S=E/(v.length+_?1:0);w=Math.min(w,S)}for(var d=0;d<v.length;d++){var D=v[d],T=2*Math.PI/D.length;if(D.length>1&&r.avoidOverlap){var k=Math.cos(T)-Math.cos(0),C=Math.sin(T)-Math.sin(0),P=Math.sqrt(w*w/(k*k+C*C));x=Math.max(P,x)}for(var M=0;M<D.length;M++){var y=D[M],u=r.startAngle+(r.counterclockwise?-1:1)*T*M,B={x:s.x+x*Math.cos(u),y:s.y+x*Math.sin(u)};b[y.node.id()]=B}x+=w}return a.layoutPositions(this,r,function(){var e=this.id();return b[e]}),this},e("layout","concentric",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},n,t)}var r,n={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4e5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};t.prototype.run=function(){var t=this.options,n=t.cy,a=this;a.stopped=!1,a.trigger({type:"layoutstart",layout:a}),r=!0===t.debug?!0:!1;var o=new Date,d=i(n,a,t);r&&s(d),!0===t.randomize&&l(d,n),m(d,n,t);var h=function(e){return a.stopped?!1:(c(d,n,t,e),d.temperature=d.temperature*t.coolingFactor,d.temperature<t.minTemp?!1:!0)},p=function(){u(d,n,t),!0===t.fit&&n.fit(t.padding);var e=new Date;console.info("Layout took "+(e-o)+" ms"),a.one("layoutstop",t.stop),a.trigger({type:"layoutstop",layout:a})};if(t.animate){var f=0,v=function(){for(var r,i=0;i<t.refresh&&f<t.numIter;){var r=h(f);if(r===!1)break;i++,f++}u(d,n,t),t.fit&&n.fit(t.padding),r!==!1&&f+1<t.numIter?e.util.requestAnimationFrame(v):p()};e.util.requestAnimationFrame(v)}else{for(var f=0;f<t.numIter&&h(f)!==!1;f++);p()}return this},t.prototype.stop=function(){return this.stopped=!0,this};var i=function(t,r,n){for(var i=n.eles.edges(),o=n.eles.nodes(),s={layout:r,layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},l=0;l<s.nodeSize;l++){var u={};u.id=o[l].data("id"),u.parentId=o[l].data("parent"),u.children=[],u.positionX=o[l].position("x"),u.positionY=o[l].position("y"),u.offsetX=0,u.offsetY=0,u.height=o[l].height(),u.width=o[l].width(),u.maxX=u.positionX+u.width/2,u.minX=u.positionX-u.width/2,u.maxY=u.positionY+u.height/2,u.minY=u.positionY-u.height/2,u.padLeft=o[l]._private.style["padding-left"].pxValue,u.padRight=o[l]._private.style["padding-right"].pxValue,u.padTop=o[l]._private.style["padding-top"].pxValue,u.padBottom=o[l]._private.style["padding-bottom"].pxValue,s.layoutNodes.push(u),s.idToIndex[u.id]=l}for(var c=[],d=0,h=-1,p=[],l=0;l<s.nodeSize;l++){var f=s.layoutNodes[l],v=f.parentId;null!=v?s.layoutNodes[s.idToIndex[v]].children.push(f.id):(c[++h]=f.id,p.push(f.id))}for(s.graphSet.push(p);h>=d;){var g=c[d++],y=s.idToIndex[g],m=s.layoutNodes[y],b=m.children;if(b.length>0){s.graphSet.push(b);for(var l=0;l<b.length;l++)c[++h]=b[l]}}for(var l=0;l<s.graphSet.length;l++)for(var x=s.graphSet[l],w=0;w<x.length;w++){var _=s.idToIndex[x[w]];s.indexToGraph[_]=l}for(var l=0;l<s.edgeSize;l++){var E=i[l],S={};S.id=E.data("id"),S.sourceId=E.data("source"),S.targetId=E.data("target");var D=n.idealEdgeLength,T=s.idToIndex[S.sourceId],k=s.idToIndex[S.targetId],C=s.indexToGraph[T],P=s.indexToGraph[k];if(C!=P){for(var M=a(S.sourceId,S.targetId,s),B=s.graphSet[M],N=0,u=s.layoutNodes[T];-1===$.inArray(u.id,B);)u=s.layoutNodes[s.idToIndex[u.parentId]],N++;for(u=s.layoutNodes[k];-1===$.inArray(u.id,B);)u=s.layoutNodes[s.idToIndex[u.parentId]],N++;D*=N*n.nestingFactor}S.idealLength=D,s.layoutEdges.push(S)}return s},a=function(e,t,r){var n=o(e,t,0,r);return 2>n.count?0:n.graph},o=function(e,t,r,n){var i=n.graphSet[r];if(-1<$.inArray(e,i)&&-1<$.inArray(t,i))return{count:2,graph:r};for(var a=0,s=0;s<i.length;s++){var l=i[s],u=n.idToIndex[l],c=n.layoutNodes[u].children;if(0!==c.length){var d=n.indexToGraph[n.idToIndex[c[0]]],h=o(e,t,d,n);if(0!==h.count){if(1!==h.count)return h;if(a++,2===a)break}}}return{count:a,graph:r}},s=function(e){if(r){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],i="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(i)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var a=e.graphSet,t=0;t<a.length;t++)console.debug("Set : "+t+": "+a[t].toString());for(var i="IndexToGraph",t=0;t<e.indexToGraph.length;t++)i+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(i),i="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var o=e.layoutEdges[t];i+="\nEdge Index: "+t+" ID: "+o.id+" SouceID: "+o.sourceId+" TargetId: "+o.targetId+" Ideal Length: "+o.idealLength}console.debug(i),i="nodeSize: "+e.nodeSize,i+="\nedgeSize: "+e.edgeSize,i+="\ntemperature: "+e.temperature,console.debug(i)}},l=function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];a.positionX=Math.random()*r,a.positionY=Math.random()*n}},u=function(e,t,r){var n=e.layout,i=r.eles.nodes(),a=e.boundingBox,o={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};r.boundingBox&&(i.forEach(function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,r.positionX),o.x2=Math.max(o.x2,r.positionX),o.y1=Math.min(o.y1,r.positionY),o.y2=Math.max(o.y2,r.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),i.positions(function(t,n){var i=e.layoutNodes[e.idToIndex[n.data("id")]];if(r.boundingBox){var s=(i.positionX-o.x1)/o.w,l=(i.positionY-o.y1)/o.h;return{x:a.x1+s*a.w,y:a.y1+l*a.h}}return{x:i.positionX,y:i.positionY}}),!0!==e.ready&&(e.ready=!0,n.one("layoutready",r.ready),n.trigger({type:"layoutready",layout:this}))},c=function(e,t,r,n){d(e,t,r),v(e,t,r),g(e,t,r),y(e,t,r),m(e,t,r)},d=function(e,t,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,o=0;a>o;o++)for(var s=e.layoutNodes[e.idToIndex[i[o]]],l=o+1;a>l;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];h(s,u,e,t,r)}},h=function(e,t,r,n,i){var a=t.positionX-e.positionX,o=t.positionY-e.positionY;if(0!==a||0!==o){var s=f(e,t,a,o);if(s>0)var l=i.nodeOverlap*s,u=Math.sqrt(a*a+o*o),c=l*a/u,d=l*o/u;else var h=p(e,a,o),v=p(t,-1*a,-1*o),g=v.x-h.x,y=v.y-h.y,m=g*g+y*y,u=Math.sqrt(m),l=i.nodeRepulsion/m,c=l*g/u,d=l*y/u;e.offsetX-=c,e.offsetY-=d,t.offsetX+=c,t.offsetY+=d}},p=function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height,o=e.width,s=r/t,l=a/o,u={};do{if(0===t&&r>0){u.x=n,u.y=i+a/2;break}if(0===t&&0>r){u.x=n,u.y=i+a/2;break}if(t>0&&s>=-1*l&&l>=s){u.x=n+o/2,u.y=i+o*r/2/t;break}if(0>t&&s>=-1*l&&l>=s){u.x=n-o/2,u.y=i-o*r/2/t;break}if(r>0&&(-1*l>=s||s>=l)){u.x=n+a*t/2/r,u.y=i+a/2;break}if(0>r&&(-1*l>=s||s>=l)){u.x=n-a*t/2/r,u.y=i-a/2;break}}while(!1);return u},f=function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},v=function(e,t,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],o=e.layoutNodes[a],s=e.idToIndex[i.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(0===u&&0===c)return;var d=p(o,u,c),h=p(l,-1*u,-1*c),f=h.x-d.x,v=h.y-d.y,g=Math.sqrt(f*f+v*v),y=Math.pow(i.idealLength-g,2)/r.edgeElasticity;if(0!==g)var m=y*f/g,b=y*v/g;else var m=0,b=0;o.offsetX+=m,o.offsetY+=b,l.offsetX-=m,l.offsetY-=b}},g=function(e,t,r){for(var n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],a=i.length;if(0===n)var o=e.clientHeight/2,s=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],u=e.layoutNodes[e.idToIndex[l.parentId]],o=u.positionX,s=u.positionY;for(var c=0;a>c;c++){var d=e.layoutNodes[e.idToIndex[i[c]]],h=o-d.positionX,p=s-d.positionY,f=Math.sqrt(h*h+p*p);if(f>1){var v=r.gravity*h/f,g=r.gravity*p/f;d.offsetX+=v,d.offsetY+=g}}}},y=function(e,t,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;a>=i;){var o=n[i++],s=e.idToIndex[o],l=e.layoutNodes[s],u=l.children;if(0<u.length){for(var c=l.offsetX,d=l.offsetY,h=0;h<u.length;h++){var p=e.layoutNodes[e.idToIndex[u[h]]];p.offsetX+=c,p.offsetY+=d,n[++a]=u[h]}l.offsetX=0,l.offsetY=0}}},m=function(e,t,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length)){var a=b(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,x(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},b=function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else var i={x:e,y:t};return i},x=function(e,t){var r=e.parentId;if(null!=r){var n=t.layoutNodes[t.idToIndex[r]],i=!1;return(null==n.maxX||e.maxX+n.padRight>n.maxX)&&(n.maxX=e.maxX+n.padRight,i=!0),(null==n.minX||e.minX-n.padLeft<n.minX)&&(n.minX=e.minX-n.padLeft,i=!0),(null==n.maxY||e.maxY+n.padBottom>n.maxY)&&(n.maxY=e.maxY+n.padBottom,i=!0),(null==n.minY||e.minY-n.padTop<n.minY)&&(n.minY=e.minY-n.padTop,i=!0),i?x(n,t):void 0}};e("layout","cose",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};t.prototype.run=function(){var t=this.options,r=this;return e.util.require("dagre",function(n){var i=t.cy,a=t.eles,o=function(t,r){return e.is.fn(r)?r.apply(t,[t]):r},s=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),l=new n.graphlib.Graph({multigraph:!0,compound:!0}),u={},c=function(e,t){null!=t&&(u[e]=t)};c("nodesep",t.nodeSep),c("edgesep",t.edgeSep),c("ranksep",t.rankSep),c("rankdir",t.rankDir),l.setGraph(u),l.setDefaultEdgeLabel(function(){return{}}),l.setDefaultNodeLabel(function(){
return{}});for(var d=a.nodes(),h=0;h<d.length;h++){var p=d[h];l.setNode(p.id(),{width:p.width(),height:p.height(),name:p.id()})}for(var h=0;h<d.length;h++){var p=d[h];p.isChild()&&l.setParent(p.id(),p.parent().id())}for(var f=a.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}),h=0;h<f.length;h++){var v=f[h];l.setEdge(v.source().id(),v.target().id(),{minlen:o(v,t.minLen),weight:o(v,t.edgeWeight),name:v.id()},v.id())}n.layout(l);for(var g=l.nodes(),h=0;h<g.length;h++){var y=g[h],m=l.node(y);i.getElementById(y).scratch().dagre=m}var b;t.boundingBox?(b={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)},d.forEach(function(e){var t=e.scratch().dagre;b.x1=Math.min(b.x1,t.x),b.x2=Math.max(b.x2,t.x),b.y1=Math.min(b.y1,t.y),b.y2=Math.max(b.y2,t.y)}),b.w=b.x2-b.x1,b.h=b.y2-b.y1):b=s;var x=function(e){if(t.boundingBox){var r=(e.x-b.x1)/b.w,n=(e.y-b.y1)/b.h;return{x:s.x1+r*s.w,y:s.y1+n*s.h}}return e};d.layoutPositions(r,t,function(){var e=this.scratch().dagre;return x({x:e.x,y:e.y})})}),this},e("layout","dagre",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t,n=t.cy,i=r.eles,a=i.nodes().not(":parent");r.sort&&(a=a.sort(r.sort));var o=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)a.layoutPositions(this,r,function(){return{x:o.x1,y:o.y1}});else{var s=a.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),c=Math.round(o.w/o.h*l),d=function(e){if(null==e)return Math.min(u,c);var t=Math.min(u,c);t==u?u=e:c=e},h=function(e){if(null==e)return Math.max(u,c);var t=Math.max(u,c);t==u?u=e:c=e};if(null!=r.rows&&null!=r.columns)u=r.rows,c=r.columns;else if(null!=r.rows&&null==r.columns)u=r.rows,c=Math.ceil(s/u);else if(null==r.rows&&null!=r.columns)c=r.columns,u=Math.ceil(s/c);else if(c*u>s){var p=d(),f=h();(p-1)*f>=s?d(p-1):(f-1)*p>=s&&h(f-1)}else for(;s>c*u;){var p=d(),f=h();(f+1)*p>=s?h(f+1):d(p+1)}var v=o.w/c,g=o.h/u;if(r.avoidOverlap)for(var y=0;y<a.length;y++){var m=a[y],b=m.outerWidth(),x=m.outerHeight();v=Math.max(v,b),g=Math.max(g,x)}for(var w={},_=function(e,t){return w["c-"+e+"-"+t]?!0:!1},E=function(e,t){w["c-"+e+"-"+t]=!0},S=0,D=0,T=function(){D++,D>=c&&(D=0,S++)},k={},y=0;y<a.length;y++){var m=a[y],C=r.position(m);if(C&&(void 0!==C.row||void 0!==C.col)){var P={row:C.row,col:C.col};if(void 0===P.col)for(P.col=0;_(P.row,P.col);)P.col++;else if(void 0===P.row)for(P.row=0;_(P.row,P.col);)P.row++;k[m.id()]=P,E(P.row,P.col)}}var M=function(e,t){var r,n;if(t.locked()||t.isFullAutoParent())return!1;var i=k[t.id()];if(i)r=i.col*v+v/2+o.x1,n=i.row*g+g/2+o.y1;else{for(;_(S,D);)T();r=D*v+v/2+o.x1,n=S*g+g/2+o.y1,E(S,D),T()}return{x:r,y:n}};a.layoutPositions(this,r,M)}return this},e("layout","grid",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={ready:function(){},stop:function(){}};t.prototype.run=function(){var e=this.options,t=e.eles,r=this;e.cy;return r.trigger("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.trigger("layoutready"),r.one("layoutstop",e.stop),r.trigger("layoutstop"),this},t.prototype.stop=function(){return this},e("layout","null",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){function t(e){if(null==r.positions)return null;if(a)return r.positions.apply(e,[e]);var t=r.positions[e._private.data.id];return null==t?null:t}var r=this.options,n=r.eles,i=n.nodes(),a=e.is.fn(r.positions);return i.layoutPositions(this,r,function(e,r){var n=t(r);return r.locked()||null==n?!1:n}),this},e("layout","preset",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t.cy,n=t.eles,i=n.nodes().not(":parent"),a=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o=function(e,t){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};return i.layoutPositions(this,t,o),this},e("layout","random",t)}(cytoscape),function($$){"use strict";function SpreadLayout(e){this.options=$$.util.extend({},defaults,e)}function cellCentroid(e){for(var t,r,n,i=e.halfedges,a=0,o=0,s=0,l=0;l<i.length;++l)t=i[l].getEndpoint(),r=i[l].getStartpoint(),a+=t.x*r.y,a-=t.y*r.x,n=t.x*r.y-r.x*t.y,o+=(t.x+r.x)*n,s+=(t.y+r.y)*n;return a/=2,n=6*a,{x:o/n,y:s/n}}function sitesDistance(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}var defaults={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0};SpreadLayout.prototype.run=function(){var layout=this,options=this.options;return $$.util.requires(["foograph","Voronoi"],function(foograph,Voronoi){function setPositions(e){for(var t=e.vertices,r=[],n=0;n<t.length;++n){var i=t[n];r[i.id]={x:i.x,y:i.y}}nodes.positions(function(e,t){var n=t._private.data.id,i=r[n];return{x:Math.round(simBB.x1+i.x),y:Math.round(simBB.y1+i.y)}}),options.fit&&cy.fit(options.padding),cy.nodes().rtrigger("position")}var cy=options.cy,nodes=cy.nodes(),edges=cy.edges(),cWidth=cy.width(),cHeight=cy.height(),simulationBounds=options.boundingBox?$$.util.makeBoundingBox(options.boundingBox):null,padding=options.padding,simBBFactor=Math.max(1,.8*Math.log(nodes.length));nodes.length<100&&(simBBFactor/=2),layout.trigger({type:"layoutstart",layout:layout});var simBB={x1:0,y1:0,x2:cWidth*simBBFactor,y2:cHeight*simBBFactor};simulationBounds&&(simBB.x1=simulationBounds.x1,simBB.y1=simulationBounds.y1,simBB.x2=simulationBounds.x2,simBB.y2=simulationBounds.y2),simBB.x1+=padding,simBB.y1+=padding,simBB.x2-=padding,simBB.y2-=padding;var width=simBB.x2-simBB.x1,height=simBB.y2-simBB.y1,startTime=Date.now();if(nodes.size()<=1){nodes.positions({x:Math.round((simBB.x1+simBB.x2)/2),y:Math.round((simBB.y1+simBB.y2)/2)}),options.fit&&cy.fit(options.padding);var endTime=Date.now();return console.info("Layout on "+nodes.size()+" nodes took "+(endTime-startTime)+" ms"),layout.one("layoutready",options.ready),layout.trigger("layoutready"),layout.one("layoutstop",options.stop),void layout.trigger("layoutstop")}var pData={width:width,height:height,minDist:options.minDist,expFact:options.expandingFactor,expIt:0,maxExpIt:options.maxExpandIterations,vertices:[],edges:[],startTime:startTime,maxFruchtermanReingoldIterations:options.maxFruchtermanReingoldIterations};nodes.each(function(e,t){var r=this._private.data.id;pData.vertices.push({id:r,x:0,y:0})}),edges.each(function(){var e=this.source().id(),t=this.target().id();pData.edges.push({src:e,tgt:t})});var t1=$$.Thread();t1.require(foograph,"foograph"),t1.require(Voronoi),t1.require(sitesDistance),t1.require(cellCentroid);var didLayoutReady=!1;t1.on("message",function(e){var t=e.message;options.animate&&(setPositions(t),didLayoutReady||(layout.trigger("layoutready"),didLayoutReady=!0))}),layout.one("layoutready",options.ready),t1.pass(pData).run(function(pData){function checkMinDist(e){for(var t=0,r=0;r<e.length;++r){var n=e[r];null!=n.lSite&&null!=n.rSite&&sitesDistance(n.lSite,n.rSite)<lMinDist&&++t}return t}foograph=eval("foograph"),Voronoi=eval("Voronoi");for(var lWidth=pData.width,lHeight=pData.height,lMinDist=pData.minDist,lExpFact=pData.expFact,lMaxExpIt=pData.maxExpIt,lMaxFruchtermanReingoldIterations=pData.maxFruchtermanReingoldIterations,savePositions=function(){pData.width=lWidth,pData.height=lHeight,pData.expIt=expandIteration,pData.expFact=lExpFact,pData.vertices=[];for(var e=0;e<fv.length;++e)pData.vertices.push({id:fv[e].label,x:fv[e].x,y:fv[e].y})},messagePositions=function(){broadcast(pData)},frg=new foograph.Graph("FRgraph",!1),frgNodes={},dataVertices=pData.vertices,ni=0;ni<dataVertices.length;++ni){var id=dataVertices[ni].id,v=new foograph.Vertex(id,Math.round(Math.random()*lHeight),Math.round(Math.random()*lHeight));frgNodes[id]=v,frg.insertVertex(v)}for(var dataEdges=pData.edges,ei=0;ei<dataEdges.length;++ei){var srcNodeId=dataEdges[ei].src,tgtNodeId=dataEdges[ei].tgt;frg.insertEdge("",1,frgNodes[srcNodeId],frgNodes[tgtNodeId])}var fv=frg.vertices,iterations=lMaxFruchtermanReingoldIterations,frLayoutManager=new foograph.ForceDirectedVertexLayout(lWidth,lHeight,iterations,!1,lMinDist);frLayoutManager.callback=function(){savePositions(),messagePositions()},frLayoutManager.layout(frg),savePositions(),messagePositions();for(var voronoi=new Voronoi,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},vSites=[],i=0;i<fv.length;++i)vSites[fv[i].label]=fv[i];for(var diagram=voronoi.compute(fv,bbox),cells=diagram.cells,i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}0>lExpFact&&(lExpFact=Math.max(.05,Math.min(.1,lMinDist/Math.sqrt(lWidth*lHeight/fv.length)*.5)));for(var prevInfractions=checkMinDist(diagram.edges),bStop=0>=prevInfractions,voronoiIteration=0,expandIteration=0;!bStop;){++voronoiIteration;for(var it=0;4>=it;++it){voronoi.recycle(diagram),diagram=voronoi.compute(fv,bbox),cells=diagram.cells;for(var i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}}var currInfractions=checkMinDist(diagram.edges);0>=currInfractions?bStop=!0:(currInfractions>=prevInfractions||voronoiIteration>=4)&&(expandIteration>=lMaxExpIt?bStop=!0:(lWidth+=lWidth*lExpFact,lHeight+=lHeight*lExpFact,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},++expandIteration,voronoiIteration=0)),prevInfractions=currInfractions,savePositions(),messagePositions()}return savePositions(),pData}).then(function(e){var t=e.vertices;setPositions(e);var r=e.startTime,n=new Date;console.info("Layout on "+t.length+" nodes took "+(n-r)+" ms"),layout.one("layoutstop",options.stop),options.animate||layout.trigger("layoutready"),layout.trigger("layoutstop"),t1.stop()})}),this},SpreadLayout.prototype.stop=function(){},$$("layout","spread",SpreadLayout)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};t.prototype.run=function(){var t=this,r=this,n=this.options;return e.util.require("Springy",function(i){function a(e){var t=e.scratch("springy").model.id,r=w.layout.nodePoints[t].p,n=e.position(),i=null!=n.x&&null!=n.y?y(e.position()):{x:4*Math.random()-2,y:4*Math.random()-2};r.x=i.x,r.y=i.y}function o(){r.stopped=!1,n.ungrabifyWhileSimulating&&E.ungrabify(),w.start()}var s=!1,l=n.cy;t.trigger({type:"layoutstart",layout:t});var u=n.eles,c=u.nodes().not(":parent"),d=u.edges(),h=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),p=new i.Graph;c.each(function(e,t){t.scratch("springy",{model:p.newNode({element:t})})}),d.each(function(e,t){var r=t.source().scratch("springy").model,n=t.target().scratch("springy").model;t.scratch("springy",{model:p.newEdge(r,n,{element:t})})});var f=window.sim=new i.Layout.ForceDirected(p,n.stiffness,n.repulsion,n.damping);n.infinite&&(f.minEnergyThreshold=-(1/0));var v=f.getBoundingBox(),g=function(e){v=f.getBoundingBox();var t=v.topright.subtract(v.bottomleft),r=e.subtract(v.bottomleft).divide(t.x).x*h.w+h.x1,n=e.subtract(v.bottomleft).divide(t.y).y*h.h+h.x1;return new i.Vector(r,n)},y=function(e){v=f.getBoundingBox();var t=v.topright.subtract(v.bottomleft),r=(e.x-h.x1)/h.w*t.x+v.bottomleft.x,n=(e.y-h.y1)/h.h*t.y+v.bottomleft.y;return new i.Vector(r,n)},m=l.collection(),b=l.nodes().size(),x=1,w=new i.Renderer(f,function(){r.stopped||m.length>0&&n.animate&&(s=!0,m.rtrigger("position"),n.fit&&l.fit(n.padding),m=l.collection(),s=!1)},function(e,t,r){},function(e,i){if(!r.stopped){var a=g(i),o=e.data.element;o.locked()||o.grabbed()||(o._private.position={x:a.x,y:a.y},m.merge(o)),x==b&&(t.one("layoutready",n.ready),t.trigger({type:"layoutready",layout:t})),x++}});c.each(function(e,t){n.random||a(t)});var _;c.on("position",_=function(){s||a(this)});var E=c.filter(":grabbable");r.stopSystem=function(){r.stopped=!0,p.filterNodes(function(){return!1}),n.ungrabifyWhileSimulating&&E.grabify(),n.fit&&l.fit(n.padding),c.off("drag position",_),t.one("layoutstop",n.stop),t.trigger({type:"layoutstop",layout:t}),r.stopSystem=null},o(),n.infinite||setTimeout(function(){r.stop()},n.maxSimulationTime)}),this},t.prototype.stop=function(){return null!=this.stopSystem&&this.stopSystem(),this},e("layout","springy",t)}(cytoscape),function(e){"use strict";function t(e){this.options=e}t.prototype.recalculateRenderedStyle=function(){},t.prototype.notify=function(){},e("renderer","null",t)}(cytoscape)}).call(this,require("_process"),"/node_modules/cytoscape/dist")},{_process:16,child_process:13,os:14,path:15}],18:[function(e,t,r){(function(){function e(e){function t(t,r,n,i,a,o){for(;a>=0&&o>a;a+=e){var s=i?i[a]:a;n=r(n,t[s],s,t)}return n}return function(r,n,i,a){n=w(n,a,4);var o=!C(r)&&x.keys(r),s=(o||r).length,l=e>0?0:s-1;return arguments.length<3&&(i=r[o?o[l]:l],l+=e),t(r,n,i,o,l,s)}}function n(e){return function(t,r,n){r=_(r,n);for(var i=k(t),a=e>0?0:i-1;a>=0&&i>a;a+=e)if(r(t[a],a,t))return a;return-1}}function i(e,t,r){return function(n,i,a){var o=0,s=k(n);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(r&&a&&s)return a=r(n,i),n[a]===i?a:-1;if(i!==i)return a=t(h.call(n,o,s),x.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&s>a;a+=e)if(n[a]===i)return a;return-1}}function a(e,t){var r=I.length,n=e.constructor,i=x.isFunction(n)&&n.prototype||u,a="constructor";for(x.has(e,a)&&!x.contains(t,a)&&t.push(a);r--;)a=I[r],a in e&&e[a]!==i[a]&&!x.contains(t,a)&&t.push(a)}var o=this,s=o._,l=Array.prototype,u=Object.prototype,c=Function.prototype,d=l.push,h=l.slice,p=u.toString,f=u.hasOwnProperty,v=Array.isArray,g=Object.keys,y=c.bind,m=Object.create,b=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof r?("undefined"!=typeof t&&t.exports&&(r=t.exports=x),r._=x):o._=x,x.VERSION="1.8.3";var w=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)}}return function(){return e.apply(t,arguments)}},_=function(e,t,r){return null==e?x.identity:x.isFunction(e)?w(e,t,r):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return _(e,t,1/0)};var E=function(e,t){return function(r){var n=arguments.length;if(2>n||null==r)return r;for(var i=1;n>i;i++)for(var a=arguments[i],o=e(a),s=o.length,l=0;s>l;l++){var u=o[l];t&&void 0!==r[u]||(r[u]=a[u])}return r}},S=function(e){if(!x.isObject(e))return{};if(m)return m(e);b.prototype=e;var t=new b;return b.prototype=null,t},D=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,k=D("length"),C=function(e){var t=k(e);return"number"==typeof t&&t>=0&&T>=t};x.each=x.forEach=function(e,t,r){t=w(t,r);var n,i;if(C(e))for(n=0,i=e.length;i>n;n++)t(e[n],n,e);else{var a=x.keys(e);for(n=0,i=a.length;i>n;n++)t(e[a[n]],a[n],e)}return e},x.map=x.collect=function(e,t,r){t=_(t,r);for(var n=!C(e)&&x.keys(e),i=(n||e).length,a=Array(i),o=0;i>o;o++){var s=n?n[o]:o;a[o]=t(e[s],s,e)}return a},x.reduce=x.foldl=x.inject=e(1),x.reduceRight=x.foldr=e(-1),x.find=x.detect=function(e,t,r){var n;return n=C(e)?x.findIndex(e,t,r):x.findKey(e,t,r),void 0!==n&&-1!==n?e[n]:void 0},x.filter=x.select=function(e,t,r){var n=[];return t=_(t,r),x.each(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n},x.reject=function(e,t,r){return x.filter(e,x.negate(_(t)),r)},x.every=x.all=function(e,t,r){t=_(t,r);for(var n=!C(e)&&x.keys(e),i=(n||e).length,a=0;i>a;a++){var o=n?n[a]:a;if(!t(e[o],o,e))return!1}return!0},x.some=x.any=function(e,t,r){t=_(t,r);for(var n=!C(e)&&x.keys(e),i=(n||e).length,a=0;i>a;a++){var o=n?n[a]:a;if(t(e[o],o,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,r,n){return C(e)||(e=x.values(e)),("number"!=typeof r||n)&&(r=0),x.indexOf(e,t,r)>=0},x.invoke=function(e,t){var r=h.call(arguments,2),n=x.isFunction(t);return x.map(e,function(e){var i=n?t:e[t];return null==i?i:i.apply(e,r)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,r){var n,i,a=-(1/0),o=-(1/0);if(null==t&&null!=e){e=C(e)?e:x.values(e);for(var s=0,l=e.length;l>s;s++)n=e[s],n>a&&(a=n)}else t=_(t,r),x.each(e,function(e,r,n){i=t(e,r,n),(i>o||i===-(1/0)&&a===-(1/0))&&(a=e,o=i)});return a},x.min=function(e,t,r){var n,i,a=1/0,o=1/0;if(null==t&&null!=e){e=C(e)?e:x.values(e);for(var s=0,l=e.length;l>s;s++)n=e[s],a>n&&(a=n)}else t=_(t,r),x.each(e,function(e,r,n){i=t(e,r,n),(o>i||i===1/0&&a===1/0)&&(a=e,o=i)});return a},x.shuffle=function(e){for(var t,r=C(e)?e:x.values(e),n=r.length,i=Array(n),a=0;n>a;a++)t=x.random(0,a),t!==a&&(i[a]=i[t]),i[t]=r[a];return i},x.sample=function(e,t,r){return null==t||r?(C(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,r){return t=_(t,r),x.pluck(x.map(e,function(e,r,n){return{value:e,index:r,criteria:t(e,r,n)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(n>r||void 0===n)return-1}return e.index-t.index}),"value")};var P=function(e){return function(t,r,n){var i={};return r=_(r,n),x.each(t,function(n,a){var o=r(n,a,t);e(i,n,o)}),i}};x.groupBy=P(function(e,t,r){x.has(e,r)?e[r].push(t):e[r]=[t]}),x.indexBy=P(function(e,t,r){e[r]=t}),x.countBy=P(function(e,t,r){x.has(e,r)?e[r]++:e[r]=1}),x.toArray=function(e){return e?x.isArray(e)?h.call(e):C(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:C(e)?e.length:x.keys(e).length},x.partition=function(e,t,r){t=_(t,r);var n=[],i=[];return x.each(e,function(e,r,a){(t(e,r,a)?n:i).push(e)}),[n,i]},x.first=x.head=x.take=function(e,t,r){return null==e?void 0:null==t||r?e[0]:x.initial(e,e.length-t)},x.initial=function(e,t,r){return h.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},x.last=function(e,t,r){return null==e?void 0:null==t||r?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))},x.rest=x.tail=x.drop=function(e,t,r){return h.call(e,null==t||r?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var M=function(e,t,r,n){for(var i=[],a=0,o=n||0,s=k(e);s>o;o++){var l=e[o];if(C(l)&&(x.isArray(l)||x.isArguments(l))){t||(l=M(l,t,r));var u=0,c=l.length;for(i.length+=c;c>u;)i[a++]=l[u++]}else r||(i[a++]=l)}return i};x.flatten=function(e,t){return M(e,t,!1)},x.without=function(e){return x.difference(e,h.call(arguments,1))},x.uniq=x.unique=function(e,t,r,n){x.isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=_(r,n));for(var i=[],a=[],o=0,s=k(e);s>o;o++){var l=e[o],u=r?r(l,o,e):l;t?(o&&a===u||i.push(l),a=u):r?x.contains(a,u)||(a.push(u),i.push(l)):x.contains(i,l)||i.push(l)}return i},x.union=function(){return x.uniq(M(arguments,!0,!0))},x.intersection=function(e){for(var t=[],r=arguments.length,n=0,i=k(e);i>n;n++){var a=e[n];if(!x.contains(t,a)){for(var o=1;r>o&&x.contains(arguments[o],a);o++);o===r&&t.push(a)}}return t},x.difference=function(e){var t=M(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,k).length||0,r=Array(t),n=0;t>n;n++)r[n]=x.pluck(e,n);return r},x.object=function(e,t){for(var r={},n=0,i=k(e);i>n;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},x.findIndex=n(1),x.findLastIndex=n(-1),x.sortedIndex=function(e,t,r,n){r=_(r,n,1);for(var i=r(t),a=0,o=k(e);o>a;){var s=Math.floor((a+o)/2);r(e[s])<i?a=s+1:o=s}return a},x.indexOf=i(1,x.findIndex,x.sortedIndex),x.lastIndexOf=i(-1,x.findLastIndex),x.range=function(e,t,r){null==t&&(t=e||0,e=0),r=r||1;for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),a=0;n>a;a++,e+=r)i[a]=e;return i};var B=function(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var a=S(e.prototype),o=e.apply(a,i);return x.isObject(o)?o:a};x.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,h.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var r=h.call(arguments,2),n=function(){return B(e,n,t,this,r.concat(h.call(arguments)))};return n},x.partial=function(e){var t=h.call(arguments,1),r=function(){for(var n=0,i=t.length,a=Array(i),o=0;i>o;o++)a[o]=t[o]===x?arguments[n++]:t[o];for(;n<arguments.length;)a.push(arguments[n++]);return B(e,r,this,this,a)};return r},x.bindAll=function(e){var t,r,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)r=arguments[t],e[r]=x.bind(e[r],e);return e},x.memoize=function(e,t){var r=function(n){var i=r.cache,a=""+(t?t.apply(this,arguments):n);return x.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return r.cache={},r},x.delay=function(e,t){var r=h.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var l=function(){s=r.leading===!1?0:x.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var u=x.now();s||r.leading!==!1||(s=u);var c=t-(u-s);return n=this,i=arguments,0>=c||c>t?(o&&(clearTimeout(o),o=null),s=u,a=e.apply(n,i),o||(n=i=null)):o||r.trailing===!1||(o=setTimeout(l,c)),a}},x.debounce=function(e,t,r){var n,i,a,o,s,l=function(){var u=x.now()-o;t>u&&u>=0?n=setTimeout(l,t-u):(n=null,r||(s=e.apply(a,i),n||(a=i=null)))};return function(){a=this,i=arguments,o=x.now();var u=r&&!n;return n||(n=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),1>=e&&(t=null),r}},x.once=x.partial(x.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(g)return g(e);var t=[];for(var r in e)x.has(e,r)&&t.push(r);return N&&a(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var r in e)t.push(r);return N&&a(e,t),t},x.values=function(e){for(var t=x.keys(e),r=t.length,n=Array(r),i=0;r>i;i++)n[i]=e[t[i]];return n},x.mapObject=function(e,t,r){t=_(t,r);for(var n,i=x.keys(e),a=i.length,o={},s=0;a>s;s++)n=i[s],o[n]=t(e[n],n,e);return o},x.pairs=function(e){for(var t=x.keys(e),r=t.length,n=Array(r),i=0;r>i;i++)n[i]=[t[i],e[t[i]]];return n},x.invert=function(e){for(var t={},r=x.keys(e),n=0,i=r.length;i>n;n++)t[e[r[n]]]=r[n];return t},x.functions=x.methods=function(e){var t=[];for(var r in e)x.isFunction(e[r])&&t.push(r);return t.sort()},x.extend=E(x.allKeys),x.extendOwn=x.assign=E(x.keys),x.findKey=function(e,t,r){t=_(t,r);for(var n,i=x.keys(e),a=0,o=i.length;o>a;a++)if(n=i[a],t(e[n],n,e))return n},x.pick=function(e,t,r){var n,i,a={},o=e;if(null==o)return a;x.isFunction(t)?(i=x.allKeys(o),n=w(t,r)):(i=M(arguments,!1,!1,1),n=function(e,t,r){return t in r},o=Object(o));for(var s=0,l=i.length;l>s;s++){var u=i[s],c=o[u];n(c,u,o)&&(a[u]=c)}return a},x.omit=function(e,t,r){if(x.isFunction(t))t=x.negate(t);else{var n=x.map(M(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(n,t)}}return x.pick(e,t,r)},x.defaults=E(x.allKeys,!0),x.create=function(e,t){var r=S(e);return t&&x.extendOwn(r,t),r},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var r=x.keys(t),n=r.length;if(null==e)return!n;for(var i=Object(e),a=0;n>a;a++){var o=r[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var O=function(e,t,r,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var l=r.length;l--;)if(r[l]===e)return n[l]===t;if(r.push(e),n.push(t),a){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!O(e[l],t[l],r,n))return!1}else{var u,c=x.keys(e);if(l=c.length,x.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!x.has(t,u)||!O(e[u],t[u],r,n))return!1}return r.pop(),n.pop(),!0};x.isEqual=function(e,t){return O(e,t)},x.isEmpty=function(e){return null==e?!0:C(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=v||function(e){return"[object Array]"===p.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===p.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&f.call(e,t)},x.noConflict=function(){return o._=s,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=D,x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,r){var n=Array(Math.max(0,e));t=w(t,r,1);for(var i=0;e>i;i++)n[i]=t(i);return n},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=x.invert(L),R=function(e){var t=function(t){return e[t]},r="(?:"+x.keys(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};x.escape=R(L),x.unescape=R(z),x.result=function(e,t,r){var n=null==e?void 0:e[t];return void 0===n&&(n=r),x.isFunction(n)?n.call(e):n};var A=0;x.uniqueId=function(e){var t=++A+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,j=function(e){return"\\"+F[e]};x.template=function(e,t,r){!t&&r&&(t=r),t=x.defaults({},t,x.templateSettings);var n=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(n,function(t,r,n,o,s){return a+=e.slice(i,s).replace(X,j),i=s+t.length,r?a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(s){throw s.source=a,s}var l=function(e){return o.call(this,e,x)},u=t.variable||"obj";return l.source="function("+u+"){\n"+a+"}",l},x.chain=function(e){var t=x(e);return t._chain=!0,t};var q=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var r=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),q(this,r.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];x.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],q(this,r)}}),x.each(["concat","join","slice"],function(e){var t=l[e];x.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this)},{}],19:[function(e,t,r){t.exports='<body>\n  <div class="graph">\n    <div class="cy">\n      <div class="status loader"></div>\n    </div>\n    <div class="controls">\n      <div class="interactionFilter">\n        <div>Show the following interaction types:</div>\n        <div>\n          <button class="genetic">Genetic</button><button class="default selected">All</button><button class="physical">Physical</button>\n        </div>\n      </div>\n      <div class="secondaryControls">\n        <div class="reset">Reset&nbsp;view</div>\n        <div class="showTable">Show in table format</div>\n        <div class="export">Export&nbsp;graph\n          <div class="exportValues">\n            <select>\n              <option value="png">PNG</option>\n              <option value="jpg">JPG</option>\n              <option value="tsv">TSV</option>\n              <option value="csv" selected>CSV</option>\n            </select>\n            <button>Go!</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="nodeDetails">\n    <h2 class="nodeTitle"></h2>\n    <dl class="nodeInfo intro">\n      <dt class="intro">Click on a gene to get more info about it.</dt>\n    </dl>\n  </div>\n  <div class="tableView firstRun disabled"></div>\n</body>\n'},{}],20:[function(e,t,r){t.exports='<dl class="child">\n  <dt>Type</dt>\n  <dd class="type">{{=type}}</dd>\n  <dt>Roles</dt>\n  <dd class="roles">\n    <dl>\n      <dt>{{=roles[0]}}</dt>\n      <dd>{{=role1}}</dd>\n      <dt>{{=roles[1]}}</dt>\n      <dd>{{=role2}}</dd>\n    </dl>\n  </dd>\n  <dt>Data set</dt>\n  <dd class="dataSets child">{{=dataSets.name}}</dd>\n</dl>\n'},{}]},{},[6])(6)});